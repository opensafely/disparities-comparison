version: '3.0'

expectations:

  population_size: 100000

actions:

  ## # # # # # # # # # # # # # # # # # # # 
  ## DO NOT EDIT project.yaml DIRECTLY 
  ## This file is created by create-project.R 
  ## Edit and run create-project.R to update the project.yaml 
  ## # # # # # # # # # # # # # # # # # # # 
  ## # # # # # # # # # # # # # # # # # # # 
  ## Pre-server scripts 
  ## # # # # # # # # # # # # # # # # # # # 
  ## # # # # # # # # # # # # # # # # # # # 
  ## Inclusion/Exclusion Flow Chart Actions: Older Adults 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_flow_chart_data_older_adults_s1:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/older_adults_2016_2017_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2016_2017.arrow
      -- older_adults season1_start_date season1_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/older_adults_2016_2017_flow_chart.arrow

  process_flow_chart_data_older_adults_s1:
    run: r:latest analysis/cohort_criteria.R older_adults season1_start_date season1_end_date
    needs:
    - generate_flow_chart_data_older_adults_s1
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_older_adults_2016_2017.csv

  generate_flow_chart_data_older_adults_s2:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/older_adults_2017_2018_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2017_2018.arrow
      -- older_adults season2_start_date season2_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/older_adults_2017_2018_flow_chart.arrow

  process_flow_chart_data_older_adults_s2:
    run: r:latest analysis/cohort_criteria.R older_adults season2_start_date season2_end_date
    needs:
    - generate_flow_chart_data_older_adults_s2
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_older_adults_2017_2018.csv

  generate_flow_chart_data_older_adults_s3:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/older_adults_2018_2019_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2018_2019.arrow
      -- older_adults season3_start_date season3_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/older_adults_2018_2019_flow_chart.arrow

  process_flow_chart_data_older_adults_s3:
    run: r:latest analysis/cohort_criteria.R older_adults season3_start_date season3_end_date
    needs:
    - generate_flow_chart_data_older_adults_s3
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_older_adults_2018_2019.csv

  generate_flow_chart_data_older_adults_s4:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/older_adults_2019_2020_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2019_2020.arrow
      -- older_adults season4_start_date season4_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/older_adults_2019_2020_flow_chart.arrow

  process_flow_chart_data_older_adults_s4:
    run: r:latest analysis/cohort_criteria.R older_adults season4_start_date season4_end_date
    needs:
    - generate_flow_chart_data_older_adults_s4
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_older_adults_2019_2020.csv

  generate_flow_chart_data_older_adults_s5:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/older_adults_2020_2021_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2020_2021.arrow
      -- older_adults season5_start_date season5_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/older_adults_2020_2021_flow_chart.arrow

  process_flow_chart_data_older_adults_s5:
    run: r:latest analysis/cohort_criteria.R older_adults season5_start_date season5_end_date
    needs:
    - generate_flow_chart_data_older_adults_s5
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_older_adults_2020_2021.csv

  generate_flow_chart_data_older_adults_s6:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/older_adults_2021_2022_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2021_2022.arrow
      -- older_adults season6_start_date season6_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/older_adults_2021_2022_flow_chart.arrow

  process_flow_chart_data_older_adults_s6:
    run: r:latest analysis/cohort_criteria.R older_adults season6_start_date season6_end_date
    needs:
    - generate_flow_chart_data_older_adults_s6
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_older_adults_2021_2022.csv

  generate_flow_chart_data_older_adults_s7:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/older_adults_2022_2023_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2022_2023.arrow
      -- older_adults season7_start_date season7_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/older_adults_2022_2023_flow_chart.arrow

  process_flow_chart_data_older_adults_s7:
    run: r:latest analysis/cohort_criteria.R older_adults season7_start_date season7_end_date
    needs:
    - generate_flow_chart_data_older_adults_s7
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_older_adults_2022_2023.csv

  generate_flow_chart_data_older_adults_s8:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/older_adults_2023_2024_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2023_2024.arrow
      -- older_adults season8_start_date season8_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/older_adults_2023_2024_flow_chart.arrow

  process_flow_chart_data_older_adults_s8:
    run: r:latest analysis/cohort_criteria.R older_adults season8_start_date season8_end_date
    needs:
    - generate_flow_chart_data_older_adults_s8
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_older_adults_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Inclusion/Exclusion Flow Chart Actions: Adults 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_flow_chart_data_adults_s1:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/adults_2016_2017_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2016_2017.arrow
      -- adults season1_start_date season1_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/adults_2016_2017_flow_chart.arrow

  process_flow_chart_data_adults_s1:
    run: r:latest analysis/cohort_criteria.R adults season1_start_date season1_end_date
    needs:
    - generate_flow_chart_data_adults_s1
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_adults_2016_2017.csv

  generate_flow_chart_data_adults_s2:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/adults_2017_2018_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2017_2018.arrow
      -- adults season2_start_date season2_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/adults_2017_2018_flow_chart.arrow

  process_flow_chart_data_adults_s2:
    run: r:latest analysis/cohort_criteria.R adults season2_start_date season2_end_date
    needs:
    - generate_flow_chart_data_adults_s2
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_adults_2017_2018.csv

  generate_flow_chart_data_adults_s3:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/adults_2018_2019_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2018_2019.arrow
      -- adults season3_start_date season3_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/adults_2018_2019_flow_chart.arrow

  process_flow_chart_data_adults_s3:
    run: r:latest analysis/cohort_criteria.R adults season3_start_date season3_end_date
    needs:
    - generate_flow_chart_data_adults_s3
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_adults_2018_2019.csv

  generate_flow_chart_data_adults_s4:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/adults_2019_2020_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2019_2020.arrow
      -- adults season4_start_date season4_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/adults_2019_2020_flow_chart.arrow

  process_flow_chart_data_adults_s4:
    run: r:latest analysis/cohort_criteria.R adults season4_start_date season4_end_date
    needs:
    - generate_flow_chart_data_adults_s4
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_adults_2019_2020.csv

  generate_flow_chart_data_adults_s5:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/adults_2020_2021_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2020_2021.arrow
      -- adults season5_start_date season5_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/adults_2020_2021_flow_chart.arrow

  process_flow_chart_data_adults_s5:
    run: r:latest analysis/cohort_criteria.R adults season5_start_date season5_end_date
    needs:
    - generate_flow_chart_data_adults_s5
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_adults_2020_2021.csv

  generate_flow_chart_data_adults_s6:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/adults_2021_2022_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2021_2022.arrow
      -- adults season6_start_date season6_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/adults_2021_2022_flow_chart.arrow

  process_flow_chart_data_adults_s6:
    run: r:latest analysis/cohort_criteria.R adults season6_start_date season6_end_date
    needs:
    - generate_flow_chart_data_adults_s6
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_adults_2021_2022.csv

  generate_flow_chart_data_adults_s7:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/adults_2022_2023_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2022_2023.arrow
      -- adults season7_start_date season7_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/adults_2022_2023_flow_chart.arrow

  process_flow_chart_data_adults_s7:
    run: r:latest analysis/cohort_criteria.R adults season7_start_date season7_end_date
    needs:
    - generate_flow_chart_data_adults_s7
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_adults_2022_2023.csv

  generate_flow_chart_data_adults_s8:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/adults_2023_2024_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2023_2024.arrow
      -- adults season8_start_date season8_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/adults_2023_2024_flow_chart.arrow

  process_flow_chart_data_adults_s8:
    run: r:latest analysis/cohort_criteria.R adults season8_start_date season8_end_date
    needs:
    - generate_flow_chart_data_adults_s8
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_adults_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Inclusion/Exclusion Flow Chart Actions: Children and Adolescents 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_flow_chart_data_children_and_adolescents_s1:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/children_and_adolescents_2016_2017_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2016_2017.arrow
      -- children_and_adolescents season1_start_date season1_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/children_and_adolescents_2016_2017_flow_chart.arrow

  process_flow_chart_data_children_and_adolescents_s1:
    run: r:latest analysis/cohort_criteria.R children_and_adolescents season1_start_date
      season1_end_date
    needs:
    - generate_flow_chart_data_children_and_adolescents_s1
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_children_and_adolescents_2016_2017.csv

  generate_flow_chart_data_children_and_adolescents_s2:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/children_and_adolescents_2017_2018_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2017_2018.arrow
      -- children_and_adolescents season2_start_date season2_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/children_and_adolescents_2017_2018_flow_chart.arrow

  process_flow_chart_data_children_and_adolescents_s2:
    run: r:latest analysis/cohort_criteria.R children_and_adolescents season2_start_date
      season2_end_date
    needs:
    - generate_flow_chart_data_children_and_adolescents_s2
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_children_and_adolescents_2017_2018.csv

  generate_flow_chart_data_children_and_adolescents_s3:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/children_and_adolescents_2018_2019_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2018_2019.arrow
      -- children_and_adolescents season3_start_date season3_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/children_and_adolescents_2018_2019_flow_chart.arrow

  process_flow_chart_data_children_and_adolescents_s3:
    run: r:latest analysis/cohort_criteria.R children_and_adolescents season3_start_date
      season3_end_date
    needs:
    - generate_flow_chart_data_children_and_adolescents_s3
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_children_and_adolescents_2018_2019.csv

  generate_flow_chart_data_children_and_adolescents_s4:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/children_and_adolescents_2019_2020_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2019_2020.arrow
      -- children_and_adolescents season4_start_date season4_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/children_and_adolescents_2019_2020_flow_chart.arrow

  process_flow_chart_data_children_and_adolescents_s4:
    run: r:latest analysis/cohort_criteria.R children_and_adolescents season4_start_date
      season4_end_date
    needs:
    - generate_flow_chart_data_children_and_adolescents_s4
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_children_and_adolescents_2019_2020.csv

  generate_flow_chart_data_children_and_adolescents_s5:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/children_and_adolescents_2020_2021_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2020_2021.arrow
      -- children_and_adolescents season5_start_date season5_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/children_and_adolescents_2020_2021_flow_chart.arrow

  process_flow_chart_data_children_and_adolescents_s5:
    run: r:latest analysis/cohort_criteria.R children_and_adolescents season5_start_date
      season5_end_date
    needs:
    - generate_flow_chart_data_children_and_adolescents_s5
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_children_and_adolescents_2020_2021.csv

  generate_flow_chart_data_children_and_adolescents_s6:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/children_and_adolescents_2021_2022_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2021_2022.arrow
      -- children_and_adolescents season6_start_date season6_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/children_and_adolescents_2021_2022_flow_chart.arrow

  process_flow_chart_data_children_and_adolescents_s6:
    run: r:latest analysis/cohort_criteria.R children_and_adolescents season6_start_date
      season6_end_date
    needs:
    - generate_flow_chart_data_children_and_adolescents_s6
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_children_and_adolescents_2021_2022.csv

  generate_flow_chart_data_children_and_adolescents_s7:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/children_and_adolescents_2022_2023_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2022_2023.arrow
      -- children_and_adolescents season7_start_date season7_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/children_and_adolescents_2022_2023_flow_chart.arrow

  process_flow_chart_data_children_and_adolescents_s7:
    run: r:latest analysis/cohort_criteria.R children_and_adolescents season7_start_date
      season7_end_date
    needs:
    - generate_flow_chart_data_children_and_adolescents_s7
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_children_and_adolescents_2022_2023.csv

  generate_flow_chart_data_children_and_adolescents_s8:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/children_and_adolescents_2023_2024_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2023_2024.arrow
      -- children_and_adolescents season8_start_date season8_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/children_and_adolescents_2023_2024_flow_chart.arrow

  process_flow_chart_data_children_and_adolescents_s8:
    run: r:latest analysis/cohort_criteria.R children_and_adolescents season8_start_date
      season8_end_date
    needs:
    - generate_flow_chart_data_children_and_adolescents_s8
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_children_and_adolescents_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Inclusion/Exclusion Flow Chart Actions: Infants 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_flow_chart_data_infants_s1:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_2016_2017_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2016_2017.arrow
      -- infants season1_start_date season1_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_2016_2017_flow_chart.arrow

  process_flow_chart_data_infants_s1:
    run: r:latest analysis/cohort_criteria.R infants season1_start_date season1_end_date
    needs:
    - generate_flow_chart_data_infants_s1
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_2016_2017.csv

  generate_flow_chart_data_infants_s2:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_2017_2018_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2017_2018.arrow
      -- infants season2_start_date season2_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_2017_2018_flow_chart.arrow

  process_flow_chart_data_infants_s2:
    run: r:latest analysis/cohort_criteria.R infants season2_start_date season2_end_date
    needs:
    - generate_flow_chart_data_infants_s2
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_2017_2018.csv

  generate_flow_chart_data_infants_s3:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_2018_2019_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2018_2019.arrow
      -- infants season3_start_date season3_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_2018_2019_flow_chart.arrow

  process_flow_chart_data_infants_s3:
    run: r:latest analysis/cohort_criteria.R infants season3_start_date season3_end_date
    needs:
    - generate_flow_chart_data_infants_s3
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_2018_2019.csv

  generate_flow_chart_data_infants_s4:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_2019_2020_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2019_2020.arrow
      -- infants season4_start_date season4_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_2019_2020_flow_chart.arrow

  process_flow_chart_data_infants_s4:
    run: r:latest analysis/cohort_criteria.R infants season4_start_date season4_end_date
    needs:
    - generate_flow_chart_data_infants_s4
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_2019_2020.csv

  generate_flow_chart_data_infants_s5:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_2020_2021_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2020_2021.arrow
      -- infants season5_start_date season5_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_2020_2021_flow_chart.arrow

  process_flow_chart_data_infants_s5:
    run: r:latest analysis/cohort_criteria.R infants season5_start_date season5_end_date
    needs:
    - generate_flow_chart_data_infants_s5
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_2020_2021.csv

  generate_flow_chart_data_infants_s6:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_2021_2022_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2021_2022.arrow
      -- infants season6_start_date season6_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_2021_2022_flow_chart.arrow

  process_flow_chart_data_infants_s6:
    run: r:latest analysis/cohort_criteria.R infants season6_start_date season6_end_date
    needs:
    - generate_flow_chart_data_infants_s6
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_2021_2022.csv

  generate_flow_chart_data_infants_s7:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_2022_2023_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2022_2023.arrow
      -- infants season7_start_date season7_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_2022_2023_flow_chart.arrow

  process_flow_chart_data_infants_s7:
    run: r:latest analysis/cohort_criteria.R infants season7_start_date season7_end_date
    needs:
    - generate_flow_chart_data_infants_s7
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_2022_2023.csv

  generate_flow_chart_data_infants_s8:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_2023_2024_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2023_2024.arrow
      -- infants season8_start_date season8_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_2023_2024_flow_chart.arrow

  process_flow_chart_data_infants_s8:
    run: r:latest analysis/cohort_criteria.R infants season8_start_date season8_end_date
    needs:
    - generate_flow_chart_data_infants_s8
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Inclusion/Exclusion Flow Chart Actions: Infants Subgroup 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_flow_chart_data_mothers_s1:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart_mothers.py
      --output output/flow_chart/mothers_2016_2017_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2016_2017.arrow
      -- season1_start_date season1_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/mothers_2016_2017_flow_chart.arrow

  process_flow_chart_data_mothers_s1:
    run: r:latest analysis/cohort_processing_mothers.R season1_start_date season1_end_date
    needs:
    - generate_flow_chart_data_mothers_s1
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/cohort_mothers_processed_2016_2017.arrow

  generate_flow_chart_data_infants_subgroup_s1:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_subgroup_2016_2017_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2016_2017.arrow
      -- infants_subgroup season1_start_date season1_end_date
    needs:
    - process_flow_chart_data_mothers_s1
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_subgroup_2016_2017_flow_chart.arrow

  process_flow_chart_data_infants_subgroup_s1:
    run: r:latest analysis/cohort_criteria.R infants_subgroup season1_start_date season1_end_date
    needs:
    - generate_flow_chart_data_infants_subgroup_s1
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_subgroup_2016_2017.csv

  generate_flow_chart_data_mothers_s2:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart_mothers.py
      --output output/flow_chart/mothers_2017_2018_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2017_2018.arrow
      -- season2_start_date season2_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/mothers_2017_2018_flow_chart.arrow

  process_flow_chart_data_mothers_s2:
    run: r:latest analysis/cohort_processing_mothers.R season2_start_date season2_end_date
    needs:
    - generate_flow_chart_data_mothers_s2
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/cohort_mothers_processed_2017_2018.arrow

  generate_flow_chart_data_infants_subgroup_s2:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_subgroup_2017_2018_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2017_2018.arrow
      -- infants_subgroup season2_start_date season2_end_date
    needs:
    - process_flow_chart_data_mothers_s2
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_subgroup_2017_2018_flow_chart.arrow

  process_flow_chart_data_infants_subgroup_s2:
    run: r:latest analysis/cohort_criteria.R infants_subgroup season2_start_date season2_end_date
    needs:
    - generate_flow_chart_data_infants_subgroup_s2
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_subgroup_2017_2018.csv

  generate_flow_chart_data_mothers_s3:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart_mothers.py
      --output output/flow_chart/mothers_2018_2019_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2018_2019.arrow
      -- season3_start_date season3_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/mothers_2018_2019_flow_chart.arrow

  process_flow_chart_data_mothers_s3:
    run: r:latest analysis/cohort_processing_mothers.R season3_start_date season3_end_date
    needs:
    - generate_flow_chart_data_mothers_s3
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/cohort_mothers_processed_2018_2019.arrow

  generate_flow_chart_data_infants_subgroup_s3:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_subgroup_2018_2019_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2018_2019.arrow
      -- infants_subgroup season3_start_date season3_end_date
    needs:
    - process_flow_chart_data_mothers_s3
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_subgroup_2018_2019_flow_chart.arrow

  process_flow_chart_data_infants_subgroup_s3:
    run: r:latest analysis/cohort_criteria.R infants_subgroup season3_start_date season3_end_date
    needs:
    - generate_flow_chart_data_infants_subgroup_s3
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_subgroup_2018_2019.csv

  generate_flow_chart_data_mothers_s4:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart_mothers.py
      --output output/flow_chart/mothers_2019_2020_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2019_2020.arrow
      -- season4_start_date season4_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/mothers_2019_2020_flow_chart.arrow

  process_flow_chart_data_mothers_s4:
    run: r:latest analysis/cohort_processing_mothers.R season4_start_date season4_end_date
    needs:
    - generate_flow_chart_data_mothers_s4
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/cohort_mothers_processed_2019_2020.arrow

  generate_flow_chart_data_infants_subgroup_s4:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_subgroup_2019_2020_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2019_2020.arrow
      -- infants_subgroup season4_start_date season4_end_date
    needs:
    - process_flow_chart_data_mothers_s4
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_subgroup_2019_2020_flow_chart.arrow

  process_flow_chart_data_infants_subgroup_s4:
    run: r:latest analysis/cohort_criteria.R infants_subgroup season4_start_date season4_end_date
    needs:
    - generate_flow_chart_data_infants_subgroup_s4
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_subgroup_2019_2020.csv

  generate_flow_chart_data_mothers_s5:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart_mothers.py
      --output output/flow_chart/mothers_2020_2021_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2020_2021.arrow
      -- season5_start_date season5_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/mothers_2020_2021_flow_chart.arrow

  process_flow_chart_data_mothers_s5:
    run: r:latest analysis/cohort_processing_mothers.R season5_start_date season5_end_date
    needs:
    - generate_flow_chart_data_mothers_s5
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/cohort_mothers_processed_2020_2021.arrow

  generate_flow_chart_data_infants_subgroup_s5:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_subgroup_2020_2021_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2020_2021.arrow
      -- infants_subgroup season5_start_date season5_end_date
    needs:
    - process_flow_chart_data_mothers_s5
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_subgroup_2020_2021_flow_chart.arrow

  process_flow_chart_data_infants_subgroup_s5:
    run: r:latest analysis/cohort_criteria.R infants_subgroup season5_start_date season5_end_date
    needs:
    - generate_flow_chart_data_infants_subgroup_s5
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_subgroup_2020_2021.csv

  generate_flow_chart_data_mothers_s6:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart_mothers.py
      --output output/flow_chart/mothers_2021_2022_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2021_2022.arrow
      -- season6_start_date season6_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/mothers_2021_2022_flow_chart.arrow

  process_flow_chart_data_mothers_s6:
    run: r:latest analysis/cohort_processing_mothers.R season6_start_date season6_end_date
    needs:
    - generate_flow_chart_data_mothers_s6
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/cohort_mothers_processed_2021_2022.arrow

  generate_flow_chart_data_infants_subgroup_s6:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_subgroup_2021_2022_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2021_2022.arrow
      -- infants_subgroup season6_start_date season6_end_date
    needs:
    - process_flow_chart_data_mothers_s6
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_subgroup_2021_2022_flow_chart.arrow

  process_flow_chart_data_infants_subgroup_s6:
    run: r:latest analysis/cohort_criteria.R infants_subgroup season6_start_date season6_end_date
    needs:
    - generate_flow_chart_data_infants_subgroup_s6
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_subgroup_2021_2022.csv

  generate_flow_chart_data_mothers_s7:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart_mothers.py
      --output output/flow_chart/mothers_2022_2023_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2022_2023.arrow
      -- season7_start_date season7_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/mothers_2022_2023_flow_chart.arrow

  process_flow_chart_data_mothers_s7:
    run: r:latest analysis/cohort_processing_mothers.R season7_start_date season7_end_date
    needs:
    - generate_flow_chart_data_mothers_s7
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/cohort_mothers_processed_2022_2023.arrow

  generate_flow_chart_data_infants_subgroup_s7:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_subgroup_2022_2023_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2022_2023.arrow
      -- infants_subgroup season7_start_date season7_end_date
    needs:
    - process_flow_chart_data_mothers_s7
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_subgroup_2022_2023_flow_chart.arrow

  process_flow_chart_data_infants_subgroup_s7:
    run: r:latest analysis/cohort_criteria.R infants_subgroup season7_start_date season7_end_date
    needs:
    - generate_flow_chart_data_infants_subgroup_s7
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_subgroup_2022_2023.csv

  generate_flow_chart_data_mothers_s8:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart_mothers.py
      --output output/flow_chart/mothers_2023_2024_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2023_2024.arrow
      -- season8_start_date season8_end_date
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/mothers_2023_2024_flow_chart.arrow

  process_flow_chart_data_mothers_s8:
    run: r:latest analysis/cohort_processing_mothers.R season8_start_date season8_end_date
    needs:
    - generate_flow_chart_data_mothers_s8
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/cohort_mothers_processed_2023_2024.arrow

  generate_flow_chart_data_infants_subgroup_s8:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_flow_chart.py
      --output output/flow_chart/infants_subgroup_2023_2024_flow_chart.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2023_2024.arrow
      -- infants_subgroup season8_start_date season8_end_date
    needs:
    - process_flow_chart_data_mothers_s8
    outputs:
      highly_sensitive:
        dataset: output/flow_chart/infants_subgroup_2023_2024_flow_chart.arrow

  process_flow_chart_data_infants_subgroup_s8:
    run: r:latest analysis/cohort_criteria.R infants_subgroup season8_start_date season8_end_date
    needs:
    - generate_flow_chart_data_infants_subgroup_s8
    outputs:
      moderately_sensitive:
        csv: output/flow_chart/flow_chart_processed_infants_subgroup_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Household Information Actions 
  ## # # # # # # # # # # # # # # # # # # # 

  extract_household_information_s5:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_household.py
      --output output/data/input_household_2020_2021.arrow
      --dummy-data-file analysis/dummydata/dummyextract_household_2020_2021.arrow
      -- season5_start_date season5_end_date
    outputs:
      highly_sensitive:
        dataset: output/data/input_household_2020_2021.arrow

  process_household_information_s5:
    run: r:latest analysis/data_processing_household.R season5_start_date season5_end_date
    needs:
    - extract_household_information_s5
    outputs:
      highly_sensitive:
        arrow: output/data/input_household_processed_2020_2021.arrow

  ## # # # # # # # # # # # # # # # # # # # 
  ## PRIMARY ANALYSES 
  ## # # # # # # # # # # # # # # # # # # # 
  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Older Adults, Codelist Type: Specific, 
  ## Investigation Type: Primary 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_dataset_older_adults_s1_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2016_2017_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2016_2017.arrow
      -- older_adults season1_start_date season1_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2016_2017_specific_primary.arrow

  process_dataset_older_adults_s1_specific_primary:
    run: r:latest analysis/data_processing.R older_adults season1_start_date season1_end_date
      specific primary
    needs:
    - generate_dataset_older_adults_s1_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2016_2017_specific_primary.arrow

  describe_dataset_older_adults_s1_specific_primary:
    run: r:latest analysis/season_summary.R older_adults season1_start_date season1_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2016_2017_specific_primary.csv

  calculate_rates_weekly_older_adults_s1_specific_primary:
    run: r:latest analysis/rates_over_time.R older_adults season1_start_date season1_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2016_2017_specific_primary.csv

  calculate_rates_rolling_older_adults_s1_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_older_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2016_2017_specific_primary.csv

  analyse_dataset_older_adults_rsv_s1_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_older_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2016_2017_specific_*.csv

  analyse_dataset_older_adults_flu_s1_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_older_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2016_2017_specific_*.csv

  analyse_dataset_older_adults_flu_further_s1_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_older_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2016_2017_specific_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s1_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_older_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2016_2017_specific_*.csv

  generate_dataset_older_adults_s2_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2017_2018_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2017_2018.arrow
      -- older_adults season2_start_date season2_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2017_2018_specific_primary.arrow

  process_dataset_older_adults_s2_specific_primary:
    run: r:latest analysis/data_processing.R older_adults season2_start_date season2_end_date
      specific primary
    needs:
    - generate_dataset_older_adults_s2_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2017_2018_specific_primary.arrow

  describe_dataset_older_adults_s2_specific_primary:
    run: r:latest analysis/season_summary.R older_adults season2_start_date season2_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2017_2018_specific_primary.csv

  calculate_rates_weekly_older_adults_s2_specific_primary:
    run: r:latest analysis/rates_over_time.R older_adults season2_start_date season2_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2017_2018_specific_primary.csv

  calculate_rates_rolling_older_adults_s2_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_older_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2017_2018_specific_primary.csv

  analyse_dataset_older_adults_rsv_s2_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_older_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2017_2018_specific_*.csv

  analyse_dataset_older_adults_flu_s2_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_older_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2017_2018_specific_*.csv

  analyse_dataset_older_adults_flu_further_s2_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_older_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2017_2018_specific_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s2_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_older_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2017_2018_specific_*.csv

  generate_dataset_older_adults_s3_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2018_2019_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2018_2019.arrow
      -- older_adults season3_start_date season3_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2018_2019_specific_primary.arrow

  process_dataset_older_adults_s3_specific_primary:
    run: r:latest analysis/data_processing.R older_adults season3_start_date season3_end_date
      specific primary
    needs:
    - generate_dataset_older_adults_s3_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2018_2019_specific_primary.arrow

  describe_dataset_older_adults_s3_specific_primary:
    run: r:latest analysis/season_summary.R older_adults season3_start_date season3_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2018_2019_specific_primary.csv

  calculate_rates_weekly_older_adults_s3_specific_primary:
    run: r:latest analysis/rates_over_time.R older_adults season3_start_date season3_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2018_2019_specific_primary.csv

  calculate_rates_rolling_older_adults_s3_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_older_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2018_2019_specific_primary.csv

  analyse_dataset_older_adults_rsv_s3_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_older_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2018_2019_specific_*.csv

  analyse_dataset_older_adults_flu_s3_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_older_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2018_2019_specific_*.csv

  analyse_dataset_older_adults_flu_further_s3_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_older_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2018_2019_specific_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s3_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_older_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2018_2019_specific_*.csv

  generate_dataset_older_adults_s4_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2019_2020_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2019_2020.arrow
      -- older_adults season4_start_date season4_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2019_2020_specific_primary.arrow

  process_dataset_older_adults_s4_specific_primary:
    run: r:latest analysis/data_processing.R older_adults season4_start_date season4_end_date
      specific primary
    needs:
    - generate_dataset_older_adults_s4_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2019_2020_specific_primary.arrow

  describe_dataset_older_adults_s4_specific_primary:
    run: r:latest analysis/season_summary.R older_adults season4_start_date season4_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2019_2020_specific_primary.csv

  calculate_rates_weekly_older_adults_s4_specific_primary:
    run: r:latest analysis/rates_over_time.R older_adults season4_start_date season4_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2019_2020_specific_primary.csv

  calculate_rates_rolling_older_adults_s4_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_older_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2019_2020_specific_primary.csv

  analyse_dataset_older_adults_rsv_s4_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_older_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2019_2020_specific_*.csv

  analyse_dataset_older_adults_flu_s4_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_older_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2019_2020_specific_*.csv

  analyse_dataset_older_adults_flu_further_s4_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_older_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2019_2020_specific_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s4_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_older_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2019_2020_specific_*.csv

  analyse_dataset_older_adults_covid_s4_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R older_adults season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_older_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_older_adults_2019_2020_specific_*.csv

  generate_dataset_older_adults_s5_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2020_2021_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2020_2021.arrow
      -- older_adults season5_start_date season5_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2020_2021_specific_primary.arrow

  process_dataset_older_adults_s5_specific_primary:
    run: r:latest analysis/data_processing.R older_adults season5_start_date season5_end_date
      specific primary
    needs:
    - generate_dataset_older_adults_s5_specific_primary
    - process_household_information_s5
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2020_2021_specific_primary.arrow

  describe_dataset_older_adults_s5_specific_primary:
    run: r:latest analysis/season_summary.R older_adults season5_start_date season5_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2020_2021_specific_primary.csv

  calculate_rates_weekly_older_adults_s5_specific_primary:
    run: r:latest analysis/rates_over_time.R older_adults season5_start_date season5_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2020_2021_specific_primary.csv

  calculate_rates_rolling_older_adults_s5_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_older_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2020_2021_specific_primary.csv

  analyse_dataset_older_adults_rsv_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_older_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2020_2021_specific_*.csv

  analyse_dataset_older_adults_flu_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_older_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2020_2021_specific_*.csv

  analyse_dataset_older_adults_flu_further_s5_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_older_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2020_2021_specific_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_older_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2020_2021_specific_*.csv

  analyse_dataset_older_adults_covid_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R older_adults season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_older_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_older_adults_2020_2021_specific_*.csv

  analyse_dataset_older_adults_covid_further_s5_specific_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R older_adults
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_older_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_older_adults_2020_2021_specific_*.csv

  generate_dataset_older_adults_s6_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2021_2022_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2021_2022.arrow
      -- older_adults season6_start_date season6_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2021_2022_specific_primary.arrow

  process_dataset_older_adults_s6_specific_primary:
    run: r:latest analysis/data_processing.R older_adults season6_start_date season6_end_date
      specific primary
    needs:
    - generate_dataset_older_adults_s6_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2021_2022_specific_primary.arrow

  describe_dataset_older_adults_s6_specific_primary:
    run: r:latest analysis/season_summary.R older_adults season6_start_date season6_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2021_2022_specific_primary.csv

  calculate_rates_weekly_older_adults_s6_specific_primary:
    run: r:latest analysis/rates_over_time.R older_adults season6_start_date season6_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2021_2022_specific_primary.csv

  calculate_rates_rolling_older_adults_s6_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_older_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2021_2022_specific_primary.csv

  analyse_dataset_older_adults_rsv_s6_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_older_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2021_2022_specific_*.csv

  analyse_dataset_older_adults_flu_s6_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_older_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2021_2022_specific_*.csv

  analyse_dataset_older_adults_flu_further_s6_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_older_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2021_2022_specific_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s6_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_older_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2021_2022_specific_*.csv

  analyse_dataset_older_adults_covid_s6_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R older_adults season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_older_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_older_adults_2021_2022_specific_*.csv

  analyse_dataset_older_adults_covid_further_s6_specific_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R older_adults
      season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_older_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_older_adults_2021_2022_specific_*.csv

  generate_dataset_older_adults_s7_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2022_2023_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2022_2023.arrow
      -- older_adults season7_start_date season7_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2022_2023_specific_primary.arrow

  process_dataset_older_adults_s7_specific_primary:
    run: r:latest analysis/data_processing.R older_adults season7_start_date season7_end_date
      specific primary
    needs:
    - generate_dataset_older_adults_s7_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2022_2023_specific_primary.arrow

  describe_dataset_older_adults_s7_specific_primary:
    run: r:latest analysis/season_summary.R older_adults season7_start_date season7_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2022_2023_specific_primary.csv

  calculate_rates_weekly_older_adults_s7_specific_primary:
    run: r:latest analysis/rates_over_time.R older_adults season7_start_date season7_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2022_2023_specific_primary.csv

  calculate_rates_rolling_older_adults_s7_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_older_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2022_2023_specific_primary.csv

  analyse_dataset_older_adults_rsv_s7_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_older_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2022_2023_specific_*.csv

  analyse_dataset_older_adults_flu_s7_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_older_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2022_2023_specific_*.csv

  analyse_dataset_older_adults_flu_further_s7_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_older_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2022_2023_specific_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s7_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_older_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2022_2023_specific_*.csv

  analyse_dataset_older_adults_covid_s7_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R older_adults season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_older_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_older_adults_2022_2023_specific_*.csv

  analyse_dataset_older_adults_covid_further_s7_specific_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R older_adults
      season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_older_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_older_adults_2022_2023_specific_*.csv

  generate_dataset_older_adults_s8_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2023_2024_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2023_2024.arrow
      -- older_adults season8_start_date season8_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2023_2024_specific_primary.arrow

  process_dataset_older_adults_s8_specific_primary:
    run: r:latest analysis/data_processing.R older_adults season8_start_date season8_end_date
      specific primary
    needs:
    - generate_dataset_older_adults_s8_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2023_2024_specific_primary.arrow

  describe_dataset_older_adults_s8_specific_primary:
    run: r:latest analysis/season_summary.R older_adults season8_start_date season8_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2023_2024_specific_primary.csv

  calculate_rates_weekly_older_adults_s8_specific_primary:
    run: r:latest analysis/rates_over_time.R older_adults season8_start_date season8_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2023_2024_specific_primary.csv

  calculate_rates_rolling_older_adults_s8_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_older_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2023_2024_specific_primary.csv

  analyse_dataset_older_adults_rsv_s8_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_older_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2023_2024_specific_*.csv

  analyse_dataset_older_adults_flu_s8_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_older_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2023_2024_specific_*.csv

  analyse_dataset_older_adults_flu_further_s8_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_older_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2023_2024_specific_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s8_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_older_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2023_2024_specific_*.csv

  analyse_dataset_older_adults_covid_s8_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R older_adults season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_older_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_older_adults_2023_2024_specific_*.csv

  analyse_dataset_older_adults_covid_further_s8_specific_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R older_adults
      season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_older_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_older_adults_2023_2024_specific_*.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Adults, Season: Codelist Type: Specific, 
  ## Investigation Type: Primary 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_dataset_adults_s1_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2016_2017_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2016_2017.arrow
      -- adults season1_start_date season1_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2016_2017_specific_primary.arrow

  process_dataset_adults_s1_specific_primary:
    run: r:latest analysis/data_processing.R adults season1_start_date season1_end_date
      specific primary
    needs:
    - generate_dataset_adults_s1_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2016_2017_specific_primary.arrow

  describe_dataset_adults_s1_specific_primary:
    run: r:latest analysis/season_summary.R adults season1_start_date season1_end_date
      specific primary
    needs:
    - process_dataset_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2016_2017_specific_primary.csv

  calculate_rates_weekly_adults_s1_specific_primary:
    run: r:latest analysis/rates_over_time.R adults season1_start_date season1_end_date
      specific primary
    needs:
    - process_dataset_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2016_2017_specific_primary.csv

  calculate_rates_rolling_adults_s1_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2016_2017_specific_primary.csv

  analyse_dataset_adults_rsv_s1_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2016_2017_specific_*.csv

  analyse_dataset_adults_flu_s1_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2016_2017_specific_*.csv

  analyse_dataset_adults_flu_further_s1_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2016_2017_specific_*.csv

  analyse_dataset_adults_overall_and_all_cause_s1_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2016_2017_specific_*.csv

  generate_dataset_adults_s2_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2017_2018_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2017_2018.arrow
      -- adults season2_start_date season2_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2017_2018_specific_primary.arrow

  process_dataset_adults_s2_specific_primary:
    run: r:latest analysis/data_processing.R adults season2_start_date season2_end_date
      specific primary
    needs:
    - generate_dataset_adults_s2_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2017_2018_specific_primary.arrow

  describe_dataset_adults_s2_specific_primary:
    run: r:latest analysis/season_summary.R adults season2_start_date season2_end_date
      specific primary
    needs:
    - process_dataset_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2017_2018_specific_primary.csv

  calculate_rates_weekly_adults_s2_specific_primary:
    run: r:latest analysis/rates_over_time.R adults season2_start_date season2_end_date
      specific primary
    needs:
    - process_dataset_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2017_2018_specific_primary.csv

  calculate_rates_rolling_adults_s2_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2017_2018_specific_primary.csv

  analyse_dataset_adults_rsv_s2_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2017_2018_specific_*.csv

  analyse_dataset_adults_flu_s2_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2017_2018_specific_*.csv

  analyse_dataset_adults_flu_further_s2_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2017_2018_specific_*.csv

  analyse_dataset_adults_overall_and_all_cause_s2_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2017_2018_specific_*.csv

  generate_dataset_adults_s3_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2018_2019_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2018_2019.arrow
      -- adults season3_start_date season3_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2018_2019_specific_primary.arrow

  process_dataset_adults_s3_specific_primary:
    run: r:latest analysis/data_processing.R adults season3_start_date season3_end_date
      specific primary
    needs:
    - generate_dataset_adults_s3_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2018_2019_specific_primary.arrow

  describe_dataset_adults_s3_specific_primary:
    run: r:latest analysis/season_summary.R adults season3_start_date season3_end_date
      specific primary
    needs:
    - process_dataset_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2018_2019_specific_primary.csv

  calculate_rates_weekly_adults_s3_specific_primary:
    run: r:latest analysis/rates_over_time.R adults season3_start_date season3_end_date
      specific primary
    needs:
    - process_dataset_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2018_2019_specific_primary.csv

  calculate_rates_rolling_adults_s3_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2018_2019_specific_primary.csv

  analyse_dataset_adults_rsv_s3_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2018_2019_specific_*.csv

  analyse_dataset_adults_flu_s3_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2018_2019_specific_*.csv

  analyse_dataset_adults_flu_further_s3_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2018_2019_specific_*.csv

  analyse_dataset_adults_overall_and_all_cause_s3_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2018_2019_specific_*.csv

  generate_dataset_adults_s4_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2019_2020_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2019_2020.arrow
      -- adults season4_start_date season4_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2019_2020_specific_primary.arrow

  process_dataset_adults_s4_specific_primary:
    run: r:latest analysis/data_processing.R adults season4_start_date season4_end_date
      specific primary
    needs:
    - generate_dataset_adults_s4_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2019_2020_specific_primary.arrow

  describe_dataset_adults_s4_specific_primary:
    run: r:latest analysis/season_summary.R adults season4_start_date season4_end_date
      specific primary
    needs:
    - process_dataset_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2019_2020_specific_primary.csv

  calculate_rates_weekly_adults_s4_specific_primary:
    run: r:latest analysis/rates_over_time.R adults season4_start_date season4_end_date
      specific primary
    needs:
    - process_dataset_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2019_2020_specific_primary.csv

  calculate_rates_rolling_adults_s4_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2019_2020_specific_primary.csv

  analyse_dataset_adults_rsv_s4_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2019_2020_specific_*.csv

  analyse_dataset_adults_flu_s4_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2019_2020_specific_*.csv

  analyse_dataset_adults_flu_further_s4_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2019_2020_specific_*.csv

  analyse_dataset_adults_overall_and_all_cause_s4_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2019_2020_specific_*.csv

  analyse_dataset_adults_covid_s4_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R adults season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_adults_2019_2020_specific_*.csv

  generate_dataset_adults_s5_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2020_2021_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2020_2021.arrow
      -- adults season5_start_date season5_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2020_2021_specific_primary.arrow

  process_dataset_adults_s5_specific_primary:
    run: r:latest analysis/data_processing.R adults season5_start_date season5_end_date
      specific primary
    needs:
    - generate_dataset_adults_s5_specific_primary
    - process_household_information_s5
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2020_2021_specific_primary.arrow

  describe_dataset_adults_s5_specific_primary:
    run: r:latest analysis/season_summary.R adults season5_start_date season5_end_date
      specific primary
    needs:
    - process_dataset_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2020_2021_specific_primary.csv

  calculate_rates_weekly_adults_s5_specific_primary:
    run: r:latest analysis/rates_over_time.R adults season5_start_date season5_end_date
      specific primary
    needs:
    - process_dataset_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2020_2021_specific_primary.csv

  calculate_rates_rolling_adults_s5_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2020_2021_specific_primary.csv

  analyse_dataset_adults_rsv_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2020_2021_specific_*.csv

  analyse_dataset_adults_flu_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2020_2021_specific_*.csv

  analyse_dataset_adults_flu_further_s5_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2020_2021_specific_*.csv

  analyse_dataset_adults_overall_and_all_cause_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2020_2021_specific_*.csv

  analyse_dataset_adults_covid_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R adults season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_adults_2020_2021_specific_*.csv

  analyse_dataset_adults_covid_further_s5_specific_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R adults season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_adults_2020_2021_specific_*.csv

  generate_dataset_adults_s6_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2021_2022_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2021_2022.arrow
      -- adults season6_start_date season6_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2021_2022_specific_primary.arrow

  process_dataset_adults_s6_specific_primary:
    run: r:latest analysis/data_processing.R adults season6_start_date season6_end_date
      specific primary
    needs:
    - generate_dataset_adults_s6_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2021_2022_specific_primary.arrow

  describe_dataset_adults_s6_specific_primary:
    run: r:latest analysis/season_summary.R adults season6_start_date season6_end_date
      specific primary
    needs:
    - process_dataset_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2021_2022_specific_primary.csv

  calculate_rates_weekly_adults_s6_specific_primary:
    run: r:latest analysis/rates_over_time.R adults season6_start_date season6_end_date
      specific primary
    needs:
    - process_dataset_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2021_2022_specific_primary.csv

  calculate_rates_rolling_adults_s6_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2021_2022_specific_primary.csv

  analyse_dataset_adults_rsv_s6_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2021_2022_specific_*.csv

  analyse_dataset_adults_flu_s6_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2021_2022_specific_*.csv

  analyse_dataset_adults_flu_further_s6_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2021_2022_specific_*.csv

  analyse_dataset_adults_overall_and_all_cause_s6_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2021_2022_specific_*.csv

  analyse_dataset_adults_covid_s6_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R adults season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_adults_2021_2022_specific_*.csv

  analyse_dataset_adults_covid_further_s6_specific_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R adults season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_adults_2021_2022_specific_*.csv

  generate_dataset_adults_s7_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2022_2023_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2022_2023.arrow
      -- adults season7_start_date season7_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2022_2023_specific_primary.arrow

  process_dataset_adults_s7_specific_primary:
    run: r:latest analysis/data_processing.R adults season7_start_date season7_end_date
      specific primary
    needs:
    - generate_dataset_adults_s7_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2022_2023_specific_primary.arrow

  describe_dataset_adults_s7_specific_primary:
    run: r:latest analysis/season_summary.R adults season7_start_date season7_end_date
      specific primary
    needs:
    - process_dataset_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2022_2023_specific_primary.csv

  calculate_rates_weekly_adults_s7_specific_primary:
    run: r:latest analysis/rates_over_time.R adults season7_start_date season7_end_date
      specific primary
    needs:
    - process_dataset_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2022_2023_specific_primary.csv

  calculate_rates_rolling_adults_s7_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2022_2023_specific_primary.csv

  analyse_dataset_adults_rsv_s7_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2022_2023_specific_*.csv

  analyse_dataset_adults_flu_s7_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2022_2023_specific_*.csv

  analyse_dataset_adults_flu_further_s7_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2022_2023_specific_*.csv

  analyse_dataset_adults_overall_and_all_cause_s7_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2022_2023_specific_*.csv

  analyse_dataset_adults_covid_s7_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R adults season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_adults_2022_2023_specific_*.csv

  analyse_dataset_adults_covid_further_s7_specific_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R adults season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_adults_2022_2023_specific_*.csv

  generate_dataset_adults_s8_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2023_2024_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2023_2024.arrow
      -- adults season8_start_date season8_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2023_2024_specific_primary.arrow

  process_dataset_adults_s8_specific_primary:
    run: r:latest analysis/data_processing.R adults season8_start_date season8_end_date
      specific primary
    needs:
    - generate_dataset_adults_s8_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2023_2024_specific_primary.arrow

  describe_dataset_adults_s8_specific_primary:
    run: r:latest analysis/season_summary.R adults season8_start_date season8_end_date
      specific primary
    needs:
    - process_dataset_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2023_2024_specific_primary.csv

  calculate_rates_weekly_adults_s8_specific_primary:
    run: r:latest analysis/rates_over_time.R adults season8_start_date season8_end_date
      specific primary
    needs:
    - process_dataset_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2023_2024_specific_primary.csv

  calculate_rates_rolling_adults_s8_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2023_2024_specific_primary.csv

  analyse_dataset_adults_rsv_s8_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2023_2024_specific_*.csv

  analyse_dataset_adults_flu_s8_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2023_2024_specific_*.csv

  analyse_dataset_adults_flu_further_s8_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2023_2024_specific_*.csv

  analyse_dataset_adults_overall_and_all_cause_s8_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2023_2024_specific_*.csv

  analyse_dataset_adults_covid_s8_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R adults season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_adults_2023_2024_specific_*.csv

  analyse_dataset_adults_covid_further_s8_specific_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R adults season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_adults_2023_2024_specific_*.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Children and Adolescents, Codelist Type: Specific, 
  ## Investigation Type: Primary 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_dataset_children_and_adolescents_s1_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2016_2017_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2016_2017.arrow
      -- children_and_adolescents season1_start_date season1_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2016_2017_specific_primary.arrow

  process_dataset_children_and_adolescents_s1_specific_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season1_start_date
      season1_end_date specific primary
    needs:
    - generate_dataset_children_and_adolescents_s1_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2016_2017_specific_primary.arrow

  describe_dataset_children_and_adolescents_s1_specific_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2016_2017_specific_primary.csv

  calculate_rates_weekly_children_and_adolescents_s1_specific_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s1_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2016_2017_specific_primary.csv

  calculate_rates_rolling_children_and_adolescents_s1_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s1_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2016_2017_specific_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s1_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2016_2017_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_s1_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2016_2017_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s1_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2016_2017_specific_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s1_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2016_2017_specific_*.csv

  generate_dataset_children_and_adolescents_s2_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2017_2018_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2017_2018.arrow
      -- children_and_adolescents season2_start_date season2_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2017_2018_specific_primary.arrow

  process_dataset_children_and_adolescents_s2_specific_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season2_start_date
      season2_end_date specific primary
    needs:
    - generate_dataset_children_and_adolescents_s2_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2017_2018_specific_primary.arrow

  describe_dataset_children_and_adolescents_s2_specific_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2017_2018_specific_primary.csv

  calculate_rates_weekly_children_and_adolescents_s2_specific_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s2_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2017_2018_specific_primary.csv

  calculate_rates_rolling_children_and_adolescents_s2_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s2_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2017_2018_specific_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s2_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2017_2018_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_s2_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2017_2018_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s2_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2017_2018_specific_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s2_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2017_2018_specific_*.csv

  generate_dataset_children_and_adolescents_s3_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2018_2019_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2018_2019.arrow
      -- children_and_adolescents season3_start_date season3_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2018_2019_specific_primary.arrow

  process_dataset_children_and_adolescents_s3_specific_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season3_start_date
      season3_end_date specific primary
    needs:
    - generate_dataset_children_and_adolescents_s3_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2018_2019_specific_primary.arrow

  describe_dataset_children_and_adolescents_s3_specific_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2018_2019_specific_primary.csv

  calculate_rates_weekly_children_and_adolescents_s3_specific_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s3_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2018_2019_specific_primary.csv

  calculate_rates_rolling_children_and_adolescents_s3_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s3_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2018_2019_specific_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s3_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2018_2019_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_s3_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2018_2019_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s3_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2018_2019_specific_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s3_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2018_2019_specific_*.csv

  generate_dataset_children_and_adolescents_s4_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2019_2020_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2019_2020.arrow
      -- children_and_adolescents season4_start_date season4_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2019_2020_specific_primary.arrow

  process_dataset_children_and_adolescents_s4_specific_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season4_start_date
      season4_end_date specific primary
    needs:
    - generate_dataset_children_and_adolescents_s4_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2019_2020_specific_primary.arrow

  describe_dataset_children_and_adolescents_s4_specific_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2019_2020_specific_primary.csv

  calculate_rates_weekly_children_and_adolescents_s4_specific_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s4_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2019_2020_specific_primary.csv

  calculate_rates_rolling_children_and_adolescents_s4_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s4_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2019_2020_specific_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s4_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2019_2020_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_s4_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2019_2020_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s4_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2019_2020_specific_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s4_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2019_2020_specific_*.csv

  analyse_dataset_children_and_adolescents_covid_s4_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R children_and_adolescents
      season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_children_and_adolescents_2019_2020_specific_*.csv

  generate_dataset_children_and_adolescents_s5_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2020_2021_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2020_2021.arrow
      -- children_and_adolescents season5_start_date season5_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2020_2021_specific_primary.arrow

  process_dataset_children_and_adolescents_s5_specific_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season5_start_date
      season5_end_date specific primary
    needs:
    - generate_dataset_children_and_adolescents_s5_specific_primary
    - process_household_information_s5
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2020_2021_specific_primary.arrow

  describe_dataset_children_and_adolescents_s5_specific_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2020_2021_specific_primary.csv

  calculate_rates_weekly_children_and_adolescents_s5_specific_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2020_2021_specific_primary.csv

  calculate_rates_rolling_children_and_adolescents_s5_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2020_2021_specific_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2020_2021_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2020_2021_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s5_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2020_2021_specific_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2020_2021_specific_*.csv

  analyse_dataset_children_and_adolescents_covid_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R children_and_adolescents
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_children_and_adolescents_2020_2021_specific_*.csv

  analyse_dataset_children_and_adolescents_covid_further_s5_specific_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R children_and_adolescents
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_children_and_adolescents_2020_2021_specific_*.csv

  generate_dataset_children_and_adolescents_s6_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2021_2022_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2021_2022.arrow
      -- children_and_adolescents season6_start_date season6_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2021_2022_specific_primary.arrow

  process_dataset_children_and_adolescents_s6_specific_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season6_start_date
      season6_end_date specific primary
    needs:
    - generate_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2021_2022_specific_primary.arrow

  describe_dataset_children_and_adolescents_s6_specific_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2021_2022_specific_primary.csv

  calculate_rates_weekly_children_and_adolescents_s6_specific_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2021_2022_specific_primary.csv

  calculate_rates_rolling_children_and_adolescents_s6_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2021_2022_specific_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s6_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2021_2022_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_s6_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2021_2022_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s6_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2021_2022_specific_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s6_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2021_2022_specific_*.csv

  analyse_dataset_children_and_adolescents_covid_s6_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R children_and_adolescents
      season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_children_and_adolescents_2021_2022_specific_*.csv

  analyse_dataset_children_and_adolescents_covid_further_s6_specific_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R children_and_adolescents
      season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_children_and_adolescents_2021_2022_specific_*.csv

  generate_dataset_children_and_adolescents_s7_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2022_2023_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2022_2023.arrow
      -- children_and_adolescents season7_start_date season7_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2022_2023_specific_primary.arrow

  process_dataset_children_and_adolescents_s7_specific_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season7_start_date
      season7_end_date specific primary
    needs:
    - generate_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2022_2023_specific_primary.arrow

  describe_dataset_children_and_adolescents_s7_specific_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2022_2023_specific_primary.csv

  calculate_rates_weekly_children_and_adolescents_s7_specific_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2022_2023_specific_primary.csv

  calculate_rates_rolling_children_and_adolescents_s7_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2022_2023_specific_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s7_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2022_2023_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_s7_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2022_2023_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s7_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2022_2023_specific_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s7_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2022_2023_specific_*.csv

  analyse_dataset_children_and_adolescents_covid_s7_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R children_and_adolescents
      season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_children_and_adolescents_2022_2023_specific_*.csv

  analyse_dataset_children_and_adolescents_covid_further_s7_specific_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R children_and_adolescents
      season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_children_and_adolescents_2022_2023_specific_*.csv

  generate_dataset_children_and_adolescents_s8_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2023_2024_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2023_2024.arrow
      -- children_and_adolescents season8_start_date season8_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2023_2024_specific_primary.arrow

  process_dataset_children_and_adolescents_s8_specific_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season8_start_date
      season8_end_date specific primary
    needs:
    - generate_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2023_2024_specific_primary.arrow

  describe_dataset_children_and_adolescents_s8_specific_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2023_2024_specific_primary.csv

  calculate_rates_weekly_children_and_adolescents_s8_specific_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2023_2024_specific_primary.csv

  calculate_rates_rolling_children_and_adolescents_s8_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2023_2024_specific_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s8_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2023_2024_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_s8_specific_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2023_2024_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s8_specific_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2023_2024_specific_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s8_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2023_2024_specific_*.csv

  analyse_dataset_children_and_adolescents_covid_s8_specific_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R children_and_adolescents
      season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_children_and_adolescents_2023_2024_specific_*.csv

  analyse_dataset_children_and_adolescents_covid_further_s8_specific_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R children_and_adolescents
      season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_children_and_adolescents_2023_2024_specific_*.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Infants, Codelist Type: Specific, 
  ## Investigation Type: Primary 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_dataset_infants_s1_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2016_2017_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2016_2017.arrow
      -- infants season1_start_date season1_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2016_2017_specific_primary.arrow

  process_dataset_infants_s1_specific_primary:
    run: r:latest analysis/data_processing.R infants season1_start_date season1_end_date
      specific primary
    needs:
    - generate_dataset_infants_s1_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2016_2017_specific_primary.arrow

  describe_dataset_infants_s1_specific_primary:
    run: r:latest analysis/season_summary.R infants season1_start_date season1_end_date
      specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2016_2017_specific_primary.csv

  calculate_rates_weekly_infants_s1_specific_primary:
    run: r:latest analysis/rates_over_time.R infants season1_start_date season1_end_date
      specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2016_2017_specific_primary.csv

  calculate_rates_rolling_infants_s1_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2016_2017_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s1_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2016_2017_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_s1_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2016_2017_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s1_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2016_2017_specific_primary.csv

  analyse_dataset_infants_rsv_ses_s1_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2016_2017_specific_primary.csv

  analyse_dataset_infants_flu_ses_s1_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2016_2017_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s1_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2016_2017_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s1_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2016_2017_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s1_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2016_2017_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s1_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2016_2017_specific_primary.csv

  generate_dataset_infants_s2_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2017_2018_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2017_2018.arrow
      -- infants season2_start_date season2_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2017_2018_specific_primary.arrow

  process_dataset_infants_s2_specific_primary:
    run: r:latest analysis/data_processing.R infants season2_start_date season2_end_date
      specific primary
    needs:
    - generate_dataset_infants_s2_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2017_2018_specific_primary.arrow

  describe_dataset_infants_s2_specific_primary:
    run: r:latest analysis/season_summary.R infants season2_start_date season2_end_date
      specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2017_2018_specific_primary.csv

  calculate_rates_weekly_infants_s2_specific_primary:
    run: r:latest analysis/rates_over_time.R infants season2_start_date season2_end_date
      specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2017_2018_specific_primary.csv

  calculate_rates_rolling_infants_s2_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2017_2018_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s2_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2017_2018_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_s2_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2017_2018_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s2_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2017_2018_specific_primary.csv

  analyse_dataset_infants_rsv_ses_s2_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2017_2018_specific_primary.csv

  analyse_dataset_infants_flu_ses_s2_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2017_2018_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s2_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2017_2018_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s2_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2017_2018_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s2_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2017_2018_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s2_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2017_2018_specific_primary.csv

  generate_dataset_infants_s3_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2018_2019_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2018_2019.arrow
      -- infants season3_start_date season3_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2018_2019_specific_primary.arrow

  process_dataset_infants_s3_specific_primary:
    run: r:latest analysis/data_processing.R infants season3_start_date season3_end_date
      specific primary
    needs:
    - generate_dataset_infants_s3_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2018_2019_specific_primary.arrow

  describe_dataset_infants_s3_specific_primary:
    run: r:latest analysis/season_summary.R infants season3_start_date season3_end_date
      specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2018_2019_specific_primary.csv

  calculate_rates_weekly_infants_s3_specific_primary:
    run: r:latest analysis/rates_over_time.R infants season3_start_date season3_end_date
      specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2018_2019_specific_primary.csv

  calculate_rates_rolling_infants_s3_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2018_2019_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s3_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2018_2019_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_s3_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2018_2019_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s3_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2018_2019_specific_primary.csv

  analyse_dataset_infants_rsv_ses_s3_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2018_2019_specific_primary.csv

  analyse_dataset_infants_flu_ses_s3_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2018_2019_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s3_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2018_2019_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s3_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2018_2019_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s3_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2018_2019_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s3_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2018_2019_specific_primary.csv

  generate_dataset_infants_s4_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2019_2020_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2019_2020.arrow
      -- infants season4_start_date season4_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2019_2020_specific_primary.arrow

  process_dataset_infants_s4_specific_primary:
    run: r:latest analysis/data_processing.R infants season4_start_date season4_end_date
      specific primary
    needs:
    - generate_dataset_infants_s4_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2019_2020_specific_primary.arrow

  describe_dataset_infants_s4_specific_primary:
    run: r:latest analysis/season_summary.R infants season4_start_date season4_end_date
      specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2019_2020_specific_primary.csv

  calculate_rates_weekly_infants_s4_specific_primary:
    run: r:latest analysis/rates_over_time.R infants season4_start_date season4_end_date
      specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2019_2020_specific_primary.csv

  calculate_rates_rolling_infants_s4_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2019_2020_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s4_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2019_2020_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_s4_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2019_2020_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s4_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2019_2020_specific_primary.csv

  analyse_dataset_infants_rsv_ses_s4_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2019_2020_specific_primary.csv

  analyse_dataset_infants_flu_ses_s4_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2019_2020_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s4_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2019_2020_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s4_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2019_2020_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s4_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2019_2020_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s4_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2019_2020_specific_primary.csv

  analyse_dataset_infants_covid_ethnicity_s4_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_2019_2020_specific_primary.csv

  analyse_dataset_infants_covid_ses_s4_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_2019_2020_specific_primary.csv

  analyse_dataset_infants_covid_ethnicity_ses_s4_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_2019_2020_specific_primary.csv

  generate_dataset_infants_s5_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2020_2021_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2020_2021.arrow
      -- infants season5_start_date season5_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2020_2021_specific_primary.arrow

  process_dataset_infants_s5_specific_primary:
    run: r:latest analysis/data_processing.R infants season5_start_date season5_end_date
      specific primary
    needs:
    - generate_dataset_infants_s5_specific_primary
    - process_household_information_s5
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2020_2021_specific_primary.arrow

  describe_dataset_infants_s5_specific_primary:
    run: r:latest analysis/season_summary.R infants season5_start_date season5_end_date
      specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2020_2021_specific_primary.csv

  calculate_rates_weekly_infants_s5_specific_primary:
    run: r:latest analysis/rates_over_time.R infants season5_start_date season5_end_date
      specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2020_2021_specific_primary.csv

  calculate_rates_rolling_infants_s5_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_rsv_ses_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_flu_ses_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_rsv_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_hh_comp_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_hh_comp_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_flu_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_hh_comp_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_hh_comp_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_hh_comp_models.R
      infants season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_hh_comp_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_hh_comp_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_hh_comp_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_hh_comp_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_hh_comp_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_hh_comp_models.R
      infants season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_hh_comp_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_rsv_ses_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_hh_comp_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_hh_comp_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_flu_ses_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_hh_comp_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_hh_comp_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_hh_comp_models.R
      infants season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_hh_comp_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_rsv_full_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_full_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_full_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_flu_full_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_full_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_full_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_full_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_full_models.R
      infants season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_full_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_covid_ethnicity_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_covid_ses_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_covid_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_hh_comp_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_hh_comp_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_covid_ethnicity_ses_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_covid_ethnicity_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_hh_comp_models.R infants
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_hh_comp_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_covid_ses_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ses_hh_comp_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_hh_comp_model_outputs_infants_2020_2021_specific_primary.csv

  analyse_dataset_infants_covid_full_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_full_models.R infants season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_full_model_outputs_infants_2020_2021_specific_primary.csv

  generate_dataset_infants_s6_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2021_2022_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2021_2022.arrow
      -- infants season6_start_date season6_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2021_2022_specific_primary.arrow

  process_dataset_infants_s6_specific_primary:
    run: r:latest analysis/data_processing.R infants season6_start_date season6_end_date
      specific primary
    needs:
    - generate_dataset_infants_s6_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2021_2022_specific_primary.arrow

  describe_dataset_infants_s6_specific_primary:
    run: r:latest analysis/season_summary.R infants season6_start_date season6_end_date
      specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2021_2022_specific_primary.csv

  calculate_rates_weekly_infants_s6_specific_primary:
    run: r:latest analysis/rates_over_time.R infants season6_start_date season6_end_date
      specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2021_2022_specific_primary.csv

  calculate_rates_rolling_infants_s6_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2021_2022_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s6_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2021_2022_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_s6_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2021_2022_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s6_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2021_2022_specific_primary.csv

  analyse_dataset_infants_rsv_ses_s6_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2021_2022_specific_primary.csv

  analyse_dataset_infants_flu_ses_s6_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2021_2022_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s6_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2021_2022_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s6_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2021_2022_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s6_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2021_2022_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s6_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2021_2022_specific_primary.csv

  analyse_dataset_infants_covid_ethnicity_s6_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_2021_2022_specific_primary.csv

  analyse_dataset_infants_covid_ses_s6_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_2021_2022_specific_primary.csv

  analyse_dataset_infants_covid_ethnicity_ses_s6_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_2021_2022_specific_primary.csv

  generate_dataset_infants_s7_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2022_2023_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2022_2023.arrow
      -- infants season7_start_date season7_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2022_2023_specific_primary.arrow

  process_dataset_infants_s7_specific_primary:
    run: r:latest analysis/data_processing.R infants season7_start_date season7_end_date
      specific primary
    needs:
    - generate_dataset_infants_s7_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2022_2023_specific_primary.arrow

  describe_dataset_infants_s7_specific_primary:
    run: r:latest analysis/season_summary.R infants season7_start_date season7_end_date
      specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2022_2023_specific_primary.csv

  calculate_rates_weekly_infants_s7_specific_primary:
    run: r:latest analysis/rates_over_time.R infants season7_start_date season7_end_date
      specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2022_2023_specific_primary.csv

  calculate_rates_rolling_infants_s7_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2022_2023_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s7_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2022_2023_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_s7_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2022_2023_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s7_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2022_2023_specific_primary.csv

  analyse_dataset_infants_rsv_ses_s7_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2022_2023_specific_primary.csv

  analyse_dataset_infants_flu_ses_s7_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2022_2023_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s7_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2022_2023_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s7_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2022_2023_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s7_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2022_2023_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s7_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2022_2023_specific_primary.csv

  analyse_dataset_infants_covid_ethnicity_s7_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_2022_2023_specific_primary.csv

  analyse_dataset_infants_covid_ses_s7_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_2022_2023_specific_primary.csv

  analyse_dataset_infants_covid_ethnicity_ses_s7_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_2022_2023_specific_primary.csv

  generate_dataset_infants_s8_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2023_2024_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2023_2024.arrow
      -- infants season8_start_date season8_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2023_2024_specific_primary.arrow

  process_dataset_infants_s8_specific_primary:
    run: r:latest analysis/data_processing.R infants season8_start_date season8_end_date
      specific primary
    needs:
    - generate_dataset_infants_s8_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2023_2024_specific_primary.arrow

  describe_dataset_infants_s8_specific_primary:
    run: r:latest analysis/season_summary.R infants season8_start_date season8_end_date
      specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2023_2024_specific_primary.csv

  calculate_rates_weekly_infants_s8_specific_primary:
    run: r:latest analysis/rates_over_time.R infants season8_start_date season8_end_date
      specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2023_2024_specific_primary.csv

  calculate_rates_rolling_infants_s8_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2023_2024_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s8_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2023_2024_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_s8_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2023_2024_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s8_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2023_2024_specific_primary.csv

  analyse_dataset_infants_rsv_ses_s8_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2023_2024_specific_primary.csv

  analyse_dataset_infants_flu_ses_s8_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2023_2024_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s8_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2023_2024_specific_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s8_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2023_2024_specific_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s8_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2023_2024_specific_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s8_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2023_2024_specific_primary.csv

  analyse_dataset_infants_covid_ethnicity_s8_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_2023_2024_specific_primary.csv

  analyse_dataset_infants_covid_ses_s8_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_2023_2024_specific_primary.csv

  analyse_dataset_infants_covid_ethnicity_ses_s8_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_2023_2024_specific_primary.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Infants Subgroup, Codelist Type: Specific, 
  ## Investigation Type: Primary 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_dataset_infants_subgroup_s1_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2016_2017_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2016_2017.arrow
      -- infants_subgroup season1_start_date season1_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2016_2017_specific_primary.arrow

  process_mothers_s1_specific_primary:
    run: r:latest analysis/data_processing_mothers.R season1_start_date season1_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s1_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2016_2017_specific_primary.arrow

  generate_maternal_characteristics_s1_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2016_2017_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2016_2017.arrow
      -- infants_subroup season1_start_date season1_end_date specific primary
    needs:
    - generate_dataset_infants_subgroup_s1_specific_primary
    - process_mothers_s1_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2016_2017_specific_primary.arrow

  process_dataset_infants_subgroup_s1_specific_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season1_start_date season1_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s1_specific_primary
    - process_mothers_s1_specific_primary
    - generate_maternal_characteristics_s1_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2016_2017_specific_primary.arrow

  describe_dataset_infants_subgroup_s1_specific_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season1_start_date season1_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2016_2017_specific_primary.csv

  calculate_rates_weekly_infants_subgroup_s1_specific_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season1_start_date season1_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2016_2017_specific_primary.csv

  calculate_rates_rolling_infants_subgroup_s1_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2016_2017_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s1_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2016_2017_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s1_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2016_2017_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s1_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2016_2017_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s1_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2016_2017_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s1_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2016_2017_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s1_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2016_2017_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s1_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2016_2017_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s1_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2016_2017_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s1_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season1_start_date season1_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2016_2017_specific_primary.csv

  generate_dataset_infants_subgroup_s2_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2017_2018_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2017_2018.arrow
      -- infants_subgroup season2_start_date season2_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2017_2018_specific_primary.arrow

  process_mothers_s2_specific_primary:
    run: r:latest analysis/data_processing_mothers.R season2_start_date season2_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s2_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2017_2018_specific_primary.arrow

  generate_maternal_characteristics_s2_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2017_2018_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2017_2018.arrow
      -- infants_subroup season2_start_date season2_end_date specific primary
    needs:
    - generate_dataset_infants_subgroup_s2_specific_primary
    - process_mothers_s2_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2017_2018_specific_primary.arrow

  process_dataset_infants_subgroup_s2_specific_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season2_start_date season2_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s2_specific_primary
    - process_mothers_s2_specific_primary
    - generate_maternal_characteristics_s2_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2017_2018_specific_primary.arrow

  describe_dataset_infants_subgroup_s2_specific_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season2_start_date season2_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2017_2018_specific_primary.csv

  calculate_rates_weekly_infants_subgroup_s2_specific_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season2_start_date season2_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2017_2018_specific_primary.csv

  calculate_rates_rolling_infants_subgroup_s2_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2017_2018_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s2_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2017_2018_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s2_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2017_2018_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s2_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2017_2018_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s2_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2017_2018_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s2_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2017_2018_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s2_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2017_2018_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s2_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2017_2018_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s2_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2017_2018_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s2_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season2_start_date season2_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2017_2018_specific_primary.csv

  generate_dataset_infants_subgroup_s3_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2018_2019_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2018_2019.arrow
      -- infants_subgroup season3_start_date season3_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2018_2019_specific_primary.arrow

  process_mothers_s3_specific_primary:
    run: r:latest analysis/data_processing_mothers.R season3_start_date season3_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s3_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2018_2019_specific_primary.arrow

  generate_maternal_characteristics_s3_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2018_2019_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2018_2019.arrow
      -- infants_subroup season3_start_date season3_end_date specific primary
    needs:
    - generate_dataset_infants_subgroup_s3_specific_primary
    - process_mothers_s3_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2018_2019_specific_primary.arrow

  process_dataset_infants_subgroup_s3_specific_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season3_start_date season3_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s3_specific_primary
    - process_mothers_s3_specific_primary
    - generate_maternal_characteristics_s3_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2018_2019_specific_primary.arrow

  describe_dataset_infants_subgroup_s3_specific_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season3_start_date season3_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2018_2019_specific_primary.csv

  calculate_rates_weekly_infants_subgroup_s3_specific_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season3_start_date season3_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2018_2019_specific_primary.csv

  calculate_rates_rolling_infants_subgroup_s3_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2018_2019_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s3_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2018_2019_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s3_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2018_2019_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s3_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2018_2019_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s3_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2018_2019_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s3_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2018_2019_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s3_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2018_2019_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s3_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2018_2019_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s3_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2018_2019_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s3_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season3_start_date season3_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2018_2019_specific_primary.csv

  generate_dataset_infants_subgroup_s4_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2019_2020_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2019_2020.arrow
      -- infants_subgroup season4_start_date season4_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2019_2020_specific_primary.arrow

  process_mothers_s4_specific_primary:
    run: r:latest analysis/data_processing_mothers.R season4_start_date season4_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s4_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2019_2020_specific_primary.arrow

  generate_maternal_characteristics_s4_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2019_2020_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2019_2020.arrow
      -- infants_subroup season4_start_date season4_end_date specific primary
    needs:
    - generate_dataset_infants_subgroup_s4_specific_primary
    - process_mothers_s4_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2019_2020_specific_primary.arrow

  process_dataset_infants_subgroup_s4_specific_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season4_start_date season4_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s4_specific_primary
    - process_mothers_s4_specific_primary
    - generate_maternal_characteristics_s4_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2019_2020_specific_primary.arrow

  describe_dataset_infants_subgroup_s4_specific_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season4_start_date season4_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2019_2020_specific_primary.csv

  calculate_rates_weekly_infants_subgroup_s4_specific_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season4_start_date season4_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2019_2020_specific_primary.csv

  calculate_rates_rolling_infants_subgroup_s4_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2019_2020_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s4_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2019_2020_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s4_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2019_2020_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s4_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2019_2020_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s4_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2019_2020_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s4_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2019_2020_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s4_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2019_2020_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s4_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2019_2020_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s4_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2019_2020_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s4_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2019_2020_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_s4_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants_subgroup
      season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_subgroup_2019_2020_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ses_s4_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants_subgroup season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_subgroup_2019_2020_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_ses_s4_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants_subgroup
      season4_start_date season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_subgroup_2019_2020_specific_primary.csv

  generate_dataset_infants_subgroup_s5_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2020_2021_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2020_2021.arrow
      -- infants_subgroup season5_start_date season5_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2020_2021_specific_primary.arrow

  process_mothers_s5_specific_primary:
    run: r:latest analysis/data_processing_mothers.R season5_start_date season5_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s5_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2020_2021_specific_primary.arrow

  generate_maternal_characteristics_s5_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2020_2021_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2020_2021.arrow
      -- infants_subroup season5_start_date season5_end_date specific primary
    needs:
    - generate_dataset_infants_subgroup_s5_specific_primary
    - process_mothers_s5_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2020_2021_specific_primary.arrow

  process_dataset_infants_subgroup_s5_specific_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season5_start_date season5_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s5_specific_primary
    - process_mothers_s5_specific_primary
    - generate_maternal_characteristics_s5_specific_primary
    - process_household_information_s5
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2020_2021_specific_primary.arrow

  describe_dataset_infants_subgroup_s5_specific_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season5_start_date season5_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2020_2021_specific_primary.csv

  calculate_rates_weekly_infants_subgroup_s5_specific_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season5_start_date season5_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2020_2021_specific_primary.csv

  calculate_rates_rolling_infants_subgroup_s5_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_hh_comp_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_hh_comp_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_hh_comp_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_hh_comp_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_hh_comp_models.R
      infants_subgroup season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_hh_comp_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_hh_comp_models.R infants_subgroup
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_hh_comp_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_hh_comp_models.R infants_subgroup
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_hh_comp_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_hh_comp_models.R
      infants_subgroup season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_hh_comp_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_hh_comp_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_hh_comp_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_hh_comp_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_hh_comp_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_hh_comp_models.R
      infants_subgroup season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_hh_comp_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_full_s5_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_full_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_full_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_full_s5_specific_primary:
    run: r:latest analysis/outcome_flu/flu_full_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_full_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_full_s5_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_full_models.R
      infants_subgroup season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_full_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants_subgroup
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ses_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_hh_comp_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_hh_comp_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_ses_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants_subgroup
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_hh_comp_models.R infants_subgroup
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_hh_comp_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ses_hh_comp_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ses_hh_comp_models.R infants_subgroup
      season5_start_date season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_hh_comp_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_full_s5_specific_primary:
    run: r:latest analysis/outcome_covid/covid_full_models.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_full_model_outputs_infants_subgroup_2020_2021_specific_primary.csv

  generate_dataset_infants_subgroup_s6_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2021_2022_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2021_2022.arrow
      -- infants_subgroup season6_start_date season6_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2021_2022_specific_primary.arrow

  process_mothers_s6_specific_primary:
    run: r:latest analysis/data_processing_mothers.R season6_start_date season6_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s6_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2021_2022_specific_primary.arrow

  generate_maternal_characteristics_s6_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2021_2022_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2021_2022.arrow
      -- infants_subroup season6_start_date season6_end_date specific primary
    needs:
    - generate_dataset_infants_subgroup_s6_specific_primary
    - process_mothers_s6_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2021_2022_specific_primary.arrow

  process_dataset_infants_subgroup_s6_specific_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season6_start_date season6_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s6_specific_primary
    - process_mothers_s6_specific_primary
    - generate_maternal_characteristics_s6_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2021_2022_specific_primary.arrow

  describe_dataset_infants_subgroup_s6_specific_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season6_start_date season6_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2021_2022_specific_primary.csv

  calculate_rates_weekly_infants_subgroup_s6_specific_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season6_start_date season6_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2021_2022_specific_primary.csv

  calculate_rates_rolling_infants_subgroup_s6_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2021_2022_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s6_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2021_2022_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s6_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2021_2022_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s6_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2021_2022_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s6_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2021_2022_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s6_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2021_2022_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s6_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2021_2022_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s6_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2021_2022_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s6_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2021_2022_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s6_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2021_2022_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_s6_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants_subgroup
      season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_subgroup_2021_2022_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ses_s6_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants_subgroup season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_subgroup_2021_2022_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_ses_s6_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants_subgroup
      season6_start_date season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_subgroup_2021_2022_specific_primary.csv

  generate_dataset_infants_subgroup_s7_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2022_2023_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2022_2023.arrow
      -- infants_subgroup season7_start_date season7_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2022_2023_specific_primary.arrow

  process_mothers_s7_specific_primary:
    run: r:latest analysis/data_processing_mothers.R season7_start_date season7_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s7_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2022_2023_specific_primary.arrow

  generate_maternal_characteristics_s7_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2022_2023_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2022_2023.arrow
      -- infants_subroup season7_start_date season7_end_date specific primary
    needs:
    - generate_dataset_infants_subgroup_s7_specific_primary
    - process_mothers_s7_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2022_2023_specific_primary.arrow

  process_dataset_infants_subgroup_s7_specific_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season7_start_date season7_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s7_specific_primary
    - process_mothers_s7_specific_primary
    - generate_maternal_characteristics_s7_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2022_2023_specific_primary.arrow

  describe_dataset_infants_subgroup_s7_specific_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season7_start_date season7_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2022_2023_specific_primary.csv

  calculate_rates_weekly_infants_subgroup_s7_specific_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season7_start_date season7_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2022_2023_specific_primary.csv

  calculate_rates_rolling_infants_subgroup_s7_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2022_2023_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s7_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2022_2023_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s7_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2022_2023_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s7_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2022_2023_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s7_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2022_2023_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s7_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2022_2023_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s7_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2022_2023_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s7_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2022_2023_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s7_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2022_2023_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s7_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2022_2023_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_s7_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants_subgroup
      season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_subgroup_2022_2023_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ses_s7_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants_subgroup season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_subgroup_2022_2023_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_ses_s7_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants_subgroup
      season7_start_date season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_subgroup_2022_2023_specific_primary.csv

  generate_dataset_infants_subgroup_s8_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2023_2024_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2023_2024.arrow
      -- infants_subgroup season8_start_date season8_end_date specific primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2023_2024_specific_primary.arrow

  process_mothers_s8_specific_primary:
    run: r:latest analysis/data_processing_mothers.R season8_start_date season8_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s8_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2023_2024_specific_primary.arrow

  generate_maternal_characteristics_s8_specific_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2023_2024_specific_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2023_2024.arrow
      -- infants_subroup season8_start_date season8_end_date specific primary
    needs:
    - generate_dataset_infants_subgroup_s8_specific_primary
    - process_mothers_s8_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2023_2024_specific_primary.arrow

  process_dataset_infants_subgroup_s8_specific_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season8_start_date season8_end_date
      specific primary
    needs:
    - generate_dataset_infants_subgroup_s8_specific_primary
    - process_mothers_s8_specific_primary
    - generate_maternal_characteristics_s8_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2023_2024_specific_primary.arrow

  describe_dataset_infants_subgroup_s8_specific_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season8_start_date season8_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2023_2024_specific_primary.csv

  calculate_rates_weekly_infants_subgroup_s8_specific_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season8_start_date season8_end_date
      specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2023_2024_specific_primary.csv

  calculate_rates_rolling_infants_subgroup_s8_specific_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2023_2024_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s8_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2023_2024_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s8_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2023_2024_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s8_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2023_2024_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s8_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2023_2024_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s8_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2023_2024_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s8_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2023_2024_specific_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s8_specific_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2023_2024_specific_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s8_specific_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2023_2024_specific_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s8_specific_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2023_2024_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_s8_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants_subgroup
      season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_subgroup_2023_2024_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ses_s8_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants_subgroup season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_subgroup_2023_2024_specific_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_ses_s8_specific_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants_subgroup
      season8_start_date season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_subgroup_2023_2024_specific_primary.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## SENSITIVE PHENOTYPES 
  ## # # # # # # # # # # # # # # # # # # # 
  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Older Adults, Codelist Type: Sensitive, 
  ## Investigation Type: Primary 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_dataset_older_adults_s1_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2016_2017_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2016_2017.arrow
      -- older_adults season1_start_date season1_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2016_2017_sensitive_primary.arrow

  process_dataset_older_adults_s1_sensitive_primary:
    run: r:latest analysis/data_processing.R older_adults season1_start_date season1_end_date
      sensitive primary
    needs:
    - generate_dataset_older_adults_s1_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2016_2017_sensitive_primary.arrow

  describe_dataset_older_adults_s1_sensitive_primary:
    run: r:latest analysis/season_summary.R older_adults season1_start_date season1_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2016_2017_sensitive_primary.csv

  calculate_rates_weekly_older_adults_s1_sensitive_primary:
    run: r:latest analysis/rates_over_time.R older_adults season1_start_date season1_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2016_2017_sensitive_primary.csv

  calculate_rates_rolling_older_adults_s1_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2016_2017_sensitive_primary.csv

  analyse_dataset_older_adults_rsv_s1_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2016_2017_sensitive_*.csv

  analyse_dataset_older_adults_flu_s1_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2016_2017_sensitive_*.csv

  analyse_dataset_older_adults_flu_further_s1_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2016_2017_sensitive_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s1_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2016_2017_sensitive_*.csv

  generate_dataset_older_adults_s2_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2017_2018_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2017_2018.arrow
      -- older_adults season2_start_date season2_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2017_2018_sensitive_primary.arrow

  process_dataset_older_adults_s2_sensitive_primary:
    run: r:latest analysis/data_processing.R older_adults season2_start_date season2_end_date
      sensitive primary
    needs:
    - generate_dataset_older_adults_s2_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2017_2018_sensitive_primary.arrow

  describe_dataset_older_adults_s2_sensitive_primary:
    run: r:latest analysis/season_summary.R older_adults season2_start_date season2_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2017_2018_sensitive_primary.csv

  calculate_rates_weekly_older_adults_s2_sensitive_primary:
    run: r:latest analysis/rates_over_time.R older_adults season2_start_date season2_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2017_2018_sensitive_primary.csv

  calculate_rates_rolling_older_adults_s2_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2017_2018_sensitive_primary.csv

  analyse_dataset_older_adults_rsv_s2_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2017_2018_sensitive_*.csv

  analyse_dataset_older_adults_flu_s2_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2017_2018_sensitive_*.csv

  analyse_dataset_older_adults_flu_further_s2_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2017_2018_sensitive_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s2_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2017_2018_sensitive_*.csv

  generate_dataset_older_adults_s3_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2018_2019_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2018_2019.arrow
      -- older_adults season3_start_date season3_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2018_2019_sensitive_primary.arrow

  process_dataset_older_adults_s3_sensitive_primary:
    run: r:latest analysis/data_processing.R older_adults season3_start_date season3_end_date
      sensitive primary
    needs:
    - generate_dataset_older_adults_s3_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2018_2019_sensitive_primary.arrow

  describe_dataset_older_adults_s3_sensitive_primary:
    run: r:latest analysis/season_summary.R older_adults season3_start_date season3_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2018_2019_sensitive_primary.csv

  calculate_rates_weekly_older_adults_s3_sensitive_primary:
    run: r:latest analysis/rates_over_time.R older_adults season3_start_date season3_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2018_2019_sensitive_primary.csv

  calculate_rates_rolling_older_adults_s3_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2018_2019_sensitive_primary.csv

  analyse_dataset_older_adults_rsv_s3_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2018_2019_sensitive_*.csv

  analyse_dataset_older_adults_flu_s3_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2018_2019_sensitive_*.csv

  analyse_dataset_older_adults_flu_further_s3_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2018_2019_sensitive_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s3_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2018_2019_sensitive_*.csv

  generate_dataset_older_adults_s4_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2019_2020_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2019_2020.arrow
      -- older_adults season4_start_date season4_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2019_2020_sensitive_primary.arrow

  process_dataset_older_adults_s4_sensitive_primary:
    run: r:latest analysis/data_processing.R older_adults season4_start_date season4_end_date
      sensitive primary
    needs:
    - generate_dataset_older_adults_s4_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2019_2020_sensitive_primary.arrow

  describe_dataset_older_adults_s4_sensitive_primary:
    run: r:latest analysis/season_summary.R older_adults season4_start_date season4_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2019_2020_sensitive_primary.csv

  calculate_rates_weekly_older_adults_s4_sensitive_primary:
    run: r:latest analysis/rates_over_time.R older_adults season4_start_date season4_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2019_2020_sensitive_primary.csv

  calculate_rates_rolling_older_adults_s4_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2019_2020_sensitive_primary.csv

  analyse_dataset_older_adults_rsv_s4_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2019_2020_sensitive_*.csv

  analyse_dataset_older_adults_flu_s4_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2019_2020_sensitive_*.csv

  analyse_dataset_older_adults_flu_further_s4_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2019_2020_sensitive_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s4_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2019_2020_sensitive_*.csv

  analyse_dataset_older_adults_covid_s4_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R older_adults season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_older_adults_2019_2020_sensitive_*.csv

  generate_dataset_older_adults_s5_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2020_2021_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2020_2021.arrow
      -- older_adults season5_start_date season5_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2020_2021_sensitive_primary.arrow

  process_dataset_older_adults_s5_sensitive_primary:
    run: r:latest analysis/data_processing.R older_adults season5_start_date season5_end_date
      sensitive primary
    needs:
    - generate_dataset_older_adults_s5_sensitive_primary
    - process_household_information_s5
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2020_2021_sensitive_primary.arrow

  describe_dataset_older_adults_s5_sensitive_primary:
    run: r:latest analysis/season_summary.R older_adults season5_start_date season5_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2020_2021_sensitive_primary.csv

  calculate_rates_weekly_older_adults_s5_sensitive_primary:
    run: r:latest analysis/rates_over_time.R older_adults season5_start_date season5_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2020_2021_sensitive_primary.csv

  calculate_rates_rolling_older_adults_s5_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2020_2021_sensitive_primary.csv

  analyse_dataset_older_adults_rsv_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2020_2021_sensitive_*.csv

  analyse_dataset_older_adults_flu_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2020_2021_sensitive_*.csv

  analyse_dataset_older_adults_flu_further_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2020_2021_sensitive_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2020_2021_sensitive_*.csv

  analyse_dataset_older_adults_covid_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R older_adults season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_older_adults_2020_2021_sensitive_*.csv

  analyse_dataset_older_adults_covid_further_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R older_adults
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_older_adults_2020_2021_sensitive_*.csv

  generate_dataset_older_adults_s6_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2021_2022_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2021_2022.arrow
      -- older_adults season6_start_date season6_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2021_2022_sensitive_primary.arrow

  process_dataset_older_adults_s6_sensitive_primary:
    run: r:latest analysis/data_processing.R older_adults season6_start_date season6_end_date
      sensitive primary
    needs:
    - generate_dataset_older_adults_s6_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2021_2022_sensitive_primary.arrow

  describe_dataset_older_adults_s6_sensitive_primary:
    run: r:latest analysis/season_summary.R older_adults season6_start_date season6_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2021_2022_sensitive_primary.csv

  calculate_rates_weekly_older_adults_s6_sensitive_primary:
    run: r:latest analysis/rates_over_time.R older_adults season6_start_date season6_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2021_2022_sensitive_primary.csv

  calculate_rates_rolling_older_adults_s6_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2021_2022_sensitive_primary.csv

  analyse_dataset_older_adults_rsv_s6_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2021_2022_sensitive_*.csv

  analyse_dataset_older_adults_flu_s6_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2021_2022_sensitive_*.csv

  analyse_dataset_older_adults_flu_further_s6_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2021_2022_sensitive_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s6_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2021_2022_sensitive_*.csv

  analyse_dataset_older_adults_covid_s6_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R older_adults season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_older_adults_2021_2022_sensitive_*.csv

  analyse_dataset_older_adults_covid_further_s6_sensitive_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R older_adults
      season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_older_adults_2021_2022_sensitive_*.csv

  generate_dataset_older_adults_s7_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2022_2023_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2022_2023.arrow
      -- older_adults season7_start_date season7_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2022_2023_sensitive_primary.arrow

  process_dataset_older_adults_s7_sensitive_primary:
    run: r:latest analysis/data_processing.R older_adults season7_start_date season7_end_date
      sensitive primary
    needs:
    - generate_dataset_older_adults_s7_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2022_2023_sensitive_primary.arrow

  describe_dataset_older_adults_s7_sensitive_primary:
    run: r:latest analysis/season_summary.R older_adults season7_start_date season7_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2022_2023_sensitive_primary.csv

  calculate_rates_weekly_older_adults_s7_sensitive_primary:
    run: r:latest analysis/rates_over_time.R older_adults season7_start_date season7_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2022_2023_sensitive_primary.csv

  calculate_rates_rolling_older_adults_s7_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2022_2023_sensitive_primary.csv

  analyse_dataset_older_adults_rsv_s7_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2022_2023_sensitive_*.csv

  analyse_dataset_older_adults_flu_s7_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2022_2023_sensitive_*.csv

  analyse_dataset_older_adults_flu_further_s7_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2022_2023_sensitive_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s7_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2022_2023_sensitive_*.csv

  analyse_dataset_older_adults_covid_s7_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R older_adults season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_older_adults_2022_2023_sensitive_*.csv

  analyse_dataset_older_adults_covid_further_s7_sensitive_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R older_adults
      season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_older_adults_2022_2023_sensitive_*.csv

  generate_dataset_older_adults_s8_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2023_2024_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2023_2024.arrow
      -- older_adults season8_start_date season8_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2023_2024_sensitive_primary.arrow

  process_dataset_older_adults_s8_sensitive_primary:
    run: r:latest analysis/data_processing.R older_adults season8_start_date season8_end_date
      sensitive primary
    needs:
    - generate_dataset_older_adults_s8_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2023_2024_sensitive_primary.arrow

  describe_dataset_older_adults_s8_sensitive_primary:
    run: r:latest analysis/season_summary.R older_adults season8_start_date season8_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2023_2024_sensitive_primary.csv

  calculate_rates_weekly_older_adults_s8_sensitive_primary:
    run: r:latest analysis/rates_over_time.R older_adults season8_start_date season8_end_date
      sensitive primary
    needs:
    - process_dataset_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_older_adults_2023_2024_sensitive_primary.csv

  calculate_rates_rolling_older_adults_s8_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R older_adults season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_older_adults_2023_2024_sensitive_primary.csv

  analyse_dataset_older_adults_rsv_s8_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_older_adults_2023_2024_sensitive_*.csv

  analyse_dataset_older_adults_flu_s8_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_older_adults_2023_2024_sensitive_*.csv

  analyse_dataset_older_adults_flu_further_s8_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_older_adults_2023_2024_sensitive_*.csv

  analyse_dataset_older_adults_overall_and_all_cause_s8_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      older_adults season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_older_adults_2023_2024_sensitive_*.csv

  analyse_dataset_older_adults_covid_s8_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R older_adults season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_older_adults_2023_2024_sensitive_*.csv

  analyse_dataset_older_adults_covid_further_s8_sensitive_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R older_adults
      season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_older_adults_2023_2024_sensitive_*.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Adults, Codelist Type: Sensitive, 
  ## Investigation Type: Primary 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_dataset_adults_s1_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2016_2017_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2016_2017.arrow
      -- adults season1_start_date season1_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2016_2017_sensitive_primary.arrow

  process_dataset_adults_s1_sensitive_primary:
    run: r:latest analysis/data_processing.R adults season1_start_date season1_end_date
      sensitive primary
    needs:
    - generate_dataset_adults_s1_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2016_2017_sensitive_primary.arrow

  describe_dataset_adults_s1_sensitive_primary:
    run: r:latest analysis/season_summary.R adults season1_start_date season1_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2016_2017_sensitive_primary.csv

  calculate_rates_weekly_adults_s1_sensitive_primary:
    run: r:latest analysis/rates_over_time.R adults season1_start_date season1_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2016_2017_sensitive_primary.csv

  calculate_rates_rolling_adults_s1_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2016_2017_sensitive_primary.csv

  analyse_dataset_adults_rsv_s1_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2016_2017_sensitive_*.csv

  analyse_dataset_adults_flu_s1_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2016_2017_sensitive_*.csv

  analyse_dataset_adults_flu_further_s1_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2016_2017_sensitive_*.csv

  analyse_dataset_adults_overall_and_all_cause_s1_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2016_2017_sensitive_*.csv

  generate_dataset_adults_s2_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2017_2018_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2017_2018.arrow
      -- adults season2_start_date season2_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2017_2018_sensitive_primary.arrow

  process_dataset_adults_s2_sensitive_primary:
    run: r:latest analysis/data_processing.R adults season2_start_date season2_end_date
      sensitive primary
    needs:
    - generate_dataset_adults_s2_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2017_2018_sensitive_primary.arrow

  describe_dataset_adults_s2_sensitive_primary:
    run: r:latest analysis/season_summary.R adults season2_start_date season2_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2017_2018_sensitive_primary.csv

  calculate_rates_weekly_adults_s2_sensitive_primary:
    run: r:latest analysis/rates_over_time.R adults season2_start_date season2_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2017_2018_sensitive_primary.csv

  calculate_rates_rolling_adults_s2_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2017_2018_sensitive_primary.csv

  analyse_dataset_adults_rsv_s2_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2017_2018_sensitive_*.csv

  analyse_dataset_adults_flu_s2_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2017_2018_sensitive_*.csv

  analyse_dataset_adults_flu_further_s2_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2017_2018_sensitive_*.csv

  analyse_dataset_adults_overall_and_all_cause_s2_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2017_2018_sensitive_*.csv

  generate_dataset_adults_s3_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2018_2019_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2018_2019.arrow
      -- adults season3_start_date season3_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2018_2019_sensitive_primary.arrow

  process_dataset_adults_s3_sensitive_primary:
    run: r:latest analysis/data_processing.R adults season3_start_date season3_end_date
      sensitive primary
    needs:
    - generate_dataset_adults_s3_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2018_2019_sensitive_primary.arrow

  describe_dataset_adults_s3_sensitive_primary:
    run: r:latest analysis/season_summary.R adults season3_start_date season3_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2018_2019_sensitive_primary.csv

  calculate_rates_weekly_adults_s3_sensitive_primary:
    run: r:latest analysis/rates_over_time.R adults season3_start_date season3_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2018_2019_sensitive_primary.csv

  calculate_rates_rolling_adults_s3_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2018_2019_sensitive_primary.csv

  analyse_dataset_adults_rsv_s3_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2018_2019_sensitive_*.csv

  analyse_dataset_adults_flu_s3_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2018_2019_sensitive_*.csv

  analyse_dataset_adults_flu_further_s3_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2018_2019_sensitive_*.csv

  analyse_dataset_adults_overall_and_all_cause_s3_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2018_2019_sensitive_*.csv

  generate_dataset_adults_s4_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2019_2020_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2019_2020.arrow
      -- adults season4_start_date season4_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2019_2020_sensitive_primary.arrow

  process_dataset_adults_s4_sensitive_primary:
    run: r:latest analysis/data_processing.R adults season4_start_date season4_end_date
      sensitive primary
    needs:
    - generate_dataset_adults_s4_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2019_2020_sensitive_primary.arrow

  describe_dataset_adults_s4_sensitive_primary:
    run: r:latest analysis/season_summary.R adults season4_start_date season4_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2019_2020_sensitive_primary.csv

  calculate_rates_weekly_adults_s4_sensitive_primary:
    run: r:latest analysis/rates_over_time.R adults season4_start_date season4_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2019_2020_sensitive_primary.csv

  calculate_rates_rolling_adults_s4_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2019_2020_sensitive_primary.csv

  analyse_dataset_adults_rsv_s4_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2019_2020_sensitive_*.csv

  analyse_dataset_adults_flu_s4_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2019_2020_sensitive_*.csv

  analyse_dataset_adults_flu_further_s4_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2019_2020_sensitive_*.csv

  analyse_dataset_adults_overall_and_all_cause_s4_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2019_2020_sensitive_*.csv

  analyse_dataset_adults_covid_s4_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R adults season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_adults_2019_2020_sensitive_*.csv

  generate_dataset_adults_s5_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2020_2021_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2020_2021.arrow
      -- adults season5_start_date season5_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2020_2021_sensitive_primary.arrow

  process_dataset_adults_s5_sensitive_primary:
    run: r:latest analysis/data_processing.R adults season5_start_date season5_end_date
      sensitive primary
    needs:
    - generate_dataset_adults_s5_sensitive_primary
    - process_household_information_s5
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2020_2021_sensitive_primary.arrow

  describe_dataset_adults_s5_sensitive_primary:
    run: r:latest analysis/season_summary.R adults season5_start_date season5_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2020_2021_sensitive_primary.csv

  calculate_rates_weekly_adults_s5_sensitive_primary:
    run: r:latest analysis/rates_over_time.R adults season5_start_date season5_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2020_2021_sensitive_primary.csv

  calculate_rates_rolling_adults_s5_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2020_2021_sensitive_primary.csv

  analyse_dataset_adults_rsv_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2020_2021_sensitive_*.csv

  analyse_dataset_adults_flu_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2020_2021_sensitive_*.csv

  analyse_dataset_adults_flu_further_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2020_2021_sensitive_*.csv

  analyse_dataset_adults_overall_and_all_cause_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2020_2021_sensitive_*.csv

  analyse_dataset_adults_covid_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R adults season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_adults_2020_2021_sensitive_*.csv

  analyse_dataset_adults_covid_further_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R adults season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_adults_2020_2021_sensitive_*.csv

  generate_dataset_adults_s6_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2021_2022_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2021_2022.arrow
      -- adults season6_start_date season6_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2021_2022_sensitive_primary.arrow

  process_dataset_adults_s6_sensitive_primary:
    run: r:latest analysis/data_processing.R adults season6_start_date season6_end_date
      sensitive primary
    needs:
    - generate_dataset_adults_s6_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2021_2022_sensitive_primary.arrow

  describe_dataset_adults_s6_sensitive_primary:
    run: r:latest analysis/season_summary.R adults season6_start_date season6_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2021_2022_sensitive_primary.csv

  calculate_rates_weekly_adults_s6_sensitive_primary:
    run: r:latest analysis/rates_over_time.R adults season6_start_date season6_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2021_2022_sensitive_primary.csv

  calculate_rates_rolling_adults_s6_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2021_2022_sensitive_primary.csv

  analyse_dataset_adults_rsv_s6_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2021_2022_sensitive_*.csv

  analyse_dataset_adults_flu_s6_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2021_2022_sensitive_*.csv

  analyse_dataset_adults_flu_further_s6_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2021_2022_sensitive_*.csv

  analyse_dataset_adults_overall_and_all_cause_s6_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2021_2022_sensitive_*.csv

  analyse_dataset_adults_covid_s6_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R adults season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_adults_2021_2022_sensitive_*.csv

  analyse_dataset_adults_covid_further_s6_sensitive_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R adults season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_adults_2021_2022_sensitive_*.csv

  generate_dataset_adults_s7_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2022_2023_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2022_2023.arrow
      -- adults season7_start_date season7_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2022_2023_sensitive_primary.arrow

  process_dataset_adults_s7_sensitive_primary:
    run: r:latest analysis/data_processing.R adults season7_start_date season7_end_date
      sensitive primary
    needs:
    - generate_dataset_adults_s7_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2022_2023_sensitive_primary.arrow

  describe_dataset_adults_s7_sensitive_primary:
    run: r:latest analysis/season_summary.R adults season7_start_date season7_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2022_2023_sensitive_primary.csv

  calculate_rates_weekly_adults_s7_sensitive_primary:
    run: r:latest analysis/rates_over_time.R adults season7_start_date season7_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2022_2023_sensitive_primary.csv

  calculate_rates_rolling_adults_s7_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2022_2023_sensitive_primary.csv

  analyse_dataset_adults_rsv_s7_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2022_2023_sensitive_*.csv

  analyse_dataset_adults_flu_s7_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2022_2023_sensitive_*.csv

  analyse_dataset_adults_flu_further_s7_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2022_2023_sensitive_*.csv

  analyse_dataset_adults_overall_and_all_cause_s7_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2022_2023_sensitive_*.csv

  analyse_dataset_adults_covid_s7_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R adults season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_adults_2022_2023_sensitive_*.csv

  analyse_dataset_adults_covid_further_s7_sensitive_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R adults season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_adults_2022_2023_sensitive_*.csv

  generate_dataset_adults_s8_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_adults_2023_2024_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_adults_2023_2024.arrow
      -- adults season8_start_date season8_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_adults_2023_2024_sensitive_primary.arrow

  process_dataset_adults_s8_sensitive_primary:
    run: r:latest analysis/data_processing.R adults season8_start_date season8_end_date
      sensitive primary
    needs:
    - generate_dataset_adults_s8_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_adults_2023_2024_sensitive_primary.arrow

  describe_dataset_adults_s8_sensitive_primary:
    run: r:latest analysis/season_summary.R adults season8_start_date season8_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2023_2024_sensitive_primary.csv

  calculate_rates_weekly_adults_s8_sensitive_primary:
    run: r:latest analysis/rates_over_time.R adults season8_start_date season8_end_date
      sensitive primary
    needs:
    - process_dataset_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_adults_2023_2024_sensitive_primary.csv

  calculate_rates_rolling_adults_s8_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R adults season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_adults_2023_2024_sensitive_primary.csv

  analyse_dataset_adults_rsv_s8_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_adults_2023_2024_sensitive_*.csv

  analyse_dataset_adults_flu_s8_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_adults_2023_2024_sensitive_*.csv

  analyse_dataset_adults_flu_further_s8_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_adults_2023_2024_sensitive_*.csv

  analyse_dataset_adults_overall_and_all_cause_s8_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      adults season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_adults_2023_2024_sensitive_*.csv

  analyse_dataset_adults_covid_s8_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R adults season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_adults_2023_2024_sensitive_*.csv

  analyse_dataset_adults_covid_further_s8_sensitive_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R adults season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_adults_2023_2024_sensitive_*.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Children and Adolescents, Codelist Type: Sensitive, 
  ## Investigation Type: Primary 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_dataset_children_and_adolescents_s1_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2016_2017_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2016_2017.arrow
      -- children_and_adolescents season1_start_date season1_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2016_2017_sensitive_primary.arrow

  process_dataset_children_and_adolescents_s1_sensitive_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season1_start_date
      season1_end_date sensitive primary
    needs:
    - generate_dataset_children_and_adolescents_s1_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2016_2017_sensitive_primary.arrow

  describe_dataset_children_and_adolescents_s1_sensitive_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2016_2017_sensitive_primary.csv

  calculate_rates_weekly_children_and_adolescents_s1_sensitive_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2016_2017_sensitive_primary.csv

  calculate_rates_rolling_children_and_adolescents_s1_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2016_2017_sensitive_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s1_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2016_2017_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_s1_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2016_2017_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s1_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2016_2017_sensitive_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s1_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2016_2017_sensitive_*.csv

  generate_dataset_children_and_adolescents_s2_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2017_2018_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2017_2018.arrow
      -- children_and_adolescents season2_start_date season2_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2017_2018_sensitive_primary.arrow

  process_dataset_children_and_adolescents_s2_sensitive_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season2_start_date
      season2_end_date sensitive primary
    needs:
    - generate_dataset_children_and_adolescents_s2_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2017_2018_sensitive_primary.arrow

  describe_dataset_children_and_adolescents_s2_sensitive_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2017_2018_sensitive_primary.csv

  calculate_rates_weekly_children_and_adolescents_s2_sensitive_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2017_2018_sensitive_primary.csv

  calculate_rates_rolling_children_and_adolescents_s2_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2017_2018_sensitive_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s2_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2017_2018_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_s2_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2017_2018_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s2_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2017_2018_sensitive_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s2_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2017_2018_sensitive_*.csv

  generate_dataset_children_and_adolescents_s3_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2018_2019_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2018_2019.arrow
      -- children_and_adolescents season3_start_date season3_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2018_2019_sensitive_primary.arrow

  process_dataset_children_and_adolescents_s3_sensitive_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season3_start_date
      season3_end_date sensitive primary
    needs:
    - generate_dataset_children_and_adolescents_s3_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2018_2019_sensitive_primary.arrow

  describe_dataset_children_and_adolescents_s3_sensitive_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2018_2019_sensitive_primary.csv

  calculate_rates_weekly_children_and_adolescents_s3_sensitive_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2018_2019_sensitive_primary.csv

  calculate_rates_rolling_children_and_adolescents_s3_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2018_2019_sensitive_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s3_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2018_2019_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_s3_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2018_2019_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s3_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2018_2019_sensitive_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s3_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2018_2019_sensitive_*.csv

  generate_dataset_children_and_adolescents_s4_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2019_2020_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2019_2020.arrow
      -- children_and_adolescents season4_start_date season4_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2019_2020_sensitive_primary.arrow

  process_dataset_children_and_adolescents_s4_sensitive_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season4_start_date
      season4_end_date sensitive primary
    needs:
    - generate_dataset_children_and_adolescents_s4_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2019_2020_sensitive_primary.arrow

  describe_dataset_children_and_adolescents_s4_sensitive_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2019_2020_sensitive_primary.csv

  calculate_rates_weekly_children_and_adolescents_s4_sensitive_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2019_2020_sensitive_primary.csv

  calculate_rates_rolling_children_and_adolescents_s4_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2019_2020_sensitive_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s4_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2019_2020_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_s4_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2019_2020_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s4_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2019_2020_sensitive_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s4_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2019_2020_sensitive_*.csv

  analyse_dataset_children_and_adolescents_covid_s4_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R children_and_adolescents
      season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_children_and_adolescents_2019_2020_sensitive_*.csv

  generate_dataset_children_and_adolescents_s5_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2020_2021_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2020_2021.arrow
      -- children_and_adolescents season5_start_date season5_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2020_2021_sensitive_primary.arrow

  process_dataset_children_and_adolescents_s5_sensitive_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season5_start_date
      season5_end_date sensitive primary
    needs:
    - generate_dataset_children_and_adolescents_s5_sensitive_primary
    - process_household_information_s5
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2020_2021_sensitive_primary.arrow

  describe_dataset_children_and_adolescents_s5_sensitive_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2020_2021_sensitive_primary.csv

  calculate_rates_weekly_children_and_adolescents_s5_sensitive_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2020_2021_sensitive_primary.csv

  calculate_rates_rolling_children_and_adolescents_s5_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2020_2021_sensitive_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2020_2021_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2020_2021_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2020_2021_sensitive_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2020_2021_sensitive_*.csv

  analyse_dataset_children_and_adolescents_covid_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R children_and_adolescents
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_children_and_adolescents_2020_2021_sensitive_*.csv

  analyse_dataset_children_and_adolescents_covid_further_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R children_and_adolescents
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_children_and_adolescents_2020_2021_sensitive_*.csv

  generate_dataset_children_and_adolescents_s6_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2021_2022_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2021_2022.arrow
      -- children_and_adolescents season6_start_date season6_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2021_2022_sensitive_primary.arrow

  process_dataset_children_and_adolescents_s6_sensitive_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season6_start_date
      season6_end_date sensitive primary
    needs:
    - generate_dataset_children_and_adolescents_s6_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2021_2022_sensitive_primary.arrow

  describe_dataset_children_and_adolescents_s6_sensitive_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2021_2022_sensitive_primary.csv

  calculate_rates_weekly_children_and_adolescents_s6_sensitive_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2021_2022_sensitive_primary.csv

  calculate_rates_rolling_children_and_adolescents_s6_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2021_2022_sensitive_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s6_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2021_2022_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_s6_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2021_2022_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s6_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2021_2022_sensitive_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s6_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2021_2022_sensitive_*.csv

  analyse_dataset_children_and_adolescents_covid_s6_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R children_and_adolescents
      season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_children_and_adolescents_2021_2022_sensitive_*.csv

  analyse_dataset_children_and_adolescents_covid_further_s6_sensitive_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R children_and_adolescents
      season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_children_and_adolescents_2021_2022_sensitive_*.csv

  generate_dataset_children_and_adolescents_s7_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2022_2023_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2022_2023.arrow
      -- children_and_adolescents season7_start_date season7_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2022_2023_sensitive_primary.arrow

  process_dataset_children_and_adolescents_s7_sensitive_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season7_start_date
      season7_end_date sensitive primary
    needs:
    - generate_dataset_children_and_adolescents_s7_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2022_2023_sensitive_primary.arrow

  describe_dataset_children_and_adolescents_s7_sensitive_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2022_2023_sensitive_primary.csv

  calculate_rates_weekly_children_and_adolescents_s7_sensitive_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2022_2023_sensitive_primary.csv

  calculate_rates_rolling_children_and_adolescents_s7_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2022_2023_sensitive_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s7_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2022_2023_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_s7_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2022_2023_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s7_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2022_2023_sensitive_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s7_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2022_2023_sensitive_*.csv

  analyse_dataset_children_and_adolescents_covid_s7_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R children_and_adolescents
      season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_children_and_adolescents_2022_2023_sensitive_*.csv

  analyse_dataset_children_and_adolescents_covid_further_s7_sensitive_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R children_and_adolescents
      season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_children_and_adolescents_2022_2023_sensitive_*.csv

  generate_dataset_children_and_adolescents_s8_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_children_and_adolescents_2023_2024_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_children_and_adolescents_2023_2024.arrow
      -- children_and_adolescents season8_start_date season8_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_children_and_adolescents_2023_2024_sensitive_primary.arrow

  process_dataset_children_and_adolescents_s8_sensitive_primary:
    run: r:latest analysis/data_processing.R children_and_adolescents season8_start_date
      season8_end_date sensitive primary
    needs:
    - generate_dataset_children_and_adolescents_s8_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_children_and_adolescents_2023_2024_sensitive_primary.arrow

  describe_dataset_children_and_adolescents_s8_sensitive_primary:
    run: r:latest analysis/season_summary.R children_and_adolescents season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2023_2024_sensitive_primary.csv

  calculate_rates_weekly_children_and_adolescents_s8_sensitive_primary:
    run: r:latest analysis/rates_over_time.R children_and_adolescents season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_children_and_adolescents_2023_2024_sensitive_primary.csv

  calculate_rates_rolling_children_and_adolescents_s8_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R children_and_adolescents
      season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_children_and_adolescents_2023_2024_sensitive_primary.csv

  analyse_dataset_children_and_adolescents_rsv_s8_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/*_children_and_adolescents_2023_2024_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_s8_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/*_children_and_adolescents_2023_2024_sensitive_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s8_sensitive_primary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/further_*_children_and_adolescents_2023_2024_sensitive_*.csv

  analyse_dataset_children_and_adolescents_overall_and_all_cause_s8_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_models_master.R
      children_and_adolescents season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/*_children_and_adolescents_2023_2024_sensitive_*.csv

  analyse_dataset_children_and_adolescents_covid_s8_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_models_master.R children_and_adolescents
      season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/*_children_and_adolescents_2023_2024_sensitive_*.csv

  analyse_dataset_children_and_adolescents_covid_further_s8_sensitive_primary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R children_and_adolescents
      season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/further_*_children_and_adolescents_2023_2024_sensitive_*.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Infants, Codelist Type: Sensitive, 
  ## Investigation Type: Primary 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_dataset_infants_s1_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2016_2017_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2016_2017.arrow
      -- infants season1_start_date season1_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2016_2017_sensitive_primary.arrow

  process_dataset_infants_s1_sensitive_primary:
    run: r:latest analysis/data_processing.R infants season1_start_date season1_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_s1_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2016_2017_sensitive_primary.arrow

  describe_dataset_infants_s1_sensitive_primary:
    run: r:latest analysis/season_summary.R infants season1_start_date season1_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2016_2017_sensitive_primary.csv

  calculate_rates_weekly_infants_s1_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants season1_start_date season1_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2016_2017_sensitive_primary.csv

  calculate_rates_rolling_infants_s1_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s1_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_s1_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s1_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_rsv_ses_s1_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_flu_ses_s1_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s1_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s1_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s1_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s1_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2016_2017_sensitive_primary.csv

  generate_dataset_infants_s2_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2017_2018_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2017_2018.arrow
      -- infants season2_start_date season2_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2017_2018_sensitive_primary.arrow

  process_dataset_infants_s2_sensitive_primary:
    run: r:latest analysis/data_processing.R infants season2_start_date season2_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_s2_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2017_2018_sensitive_primary.arrow

  describe_dataset_infants_s2_sensitive_primary:
    run: r:latest analysis/season_summary.R infants season2_start_date season2_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2017_2018_sensitive_primary.csv

  calculate_rates_weekly_infants_s2_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants season2_start_date season2_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2017_2018_sensitive_primary.csv

  calculate_rates_rolling_infants_s2_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s2_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_s2_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s2_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_rsv_ses_s2_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_flu_ses_s2_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s2_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s2_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s2_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s2_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2017_2018_sensitive_primary.csv

  generate_dataset_infants_s3_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2018_2019_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2018_2019.arrow
      -- infants season3_start_date season3_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2018_2019_sensitive_primary.arrow

  process_dataset_infants_s3_sensitive_primary:
    run: r:latest analysis/data_processing.R infants season3_start_date season3_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_s3_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2018_2019_sensitive_primary.arrow

  describe_dataset_infants_s3_sensitive_primary:
    run: r:latest analysis/season_summary.R infants season3_start_date season3_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2018_2019_sensitive_primary.csv

  calculate_rates_weekly_infants_s3_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants season3_start_date season3_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2018_2019_sensitive_primary.csv

  calculate_rates_rolling_infants_s3_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s3_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_s3_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s3_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_rsv_ses_s3_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_flu_ses_s3_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s3_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s3_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s3_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s3_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2018_2019_sensitive_primary.csv

  generate_dataset_infants_s4_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2019_2020_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2019_2020.arrow
      -- infants season4_start_date season4_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2019_2020_sensitive_primary.arrow

  process_dataset_infants_s4_sensitive_primary:
    run: r:latest analysis/data_processing.R infants season4_start_date season4_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_s4_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2019_2020_sensitive_primary.arrow

  describe_dataset_infants_s4_sensitive_primary:
    run: r:latest analysis/season_summary.R infants season4_start_date season4_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2019_2020_sensitive_primary.csv

  calculate_rates_weekly_infants_s4_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants season4_start_date season4_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2019_2020_sensitive_primary.csv

  calculate_rates_rolling_infants_s4_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s4_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_s4_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s4_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_rsv_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_flu_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_covid_ethnicity_s4_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_covid_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_covid_ethnicity_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_2019_2020_sensitive_primary.csv

  generate_dataset_infants_s5_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2020_2021_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2020_2021.arrow
      -- infants season5_start_date season5_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2020_2021_sensitive_primary.arrow

  process_dataset_infants_s5_sensitive_primary:
    run: r:latest analysis/data_processing.R infants season5_start_date season5_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_s5_sensitive_primary
    - process_household_information_s5
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2020_2021_sensitive_primary.arrow

  describe_dataset_infants_s5_sensitive_primary:
    run: r:latest analysis/season_summary.R infants season5_start_date season5_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2020_2021_sensitive_primary.csv

  calculate_rates_weekly_infants_s5_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants season5_start_date season5_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2020_2021_sensitive_primary.csv

  calculate_rates_rolling_infants_s5_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_rsv_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_flu_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_rsv_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_hh_comp_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_hh_comp_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_flu_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_hh_comp_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_hh_comp_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_hh_comp_models.R
      infants season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_hh_comp_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_hh_comp_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_hh_comp_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_hh_comp_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_hh_comp_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_hh_comp_models.R
      infants season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_hh_comp_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_rsv_ses_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_hh_comp_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_hh_comp_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_flu_ses_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_hh_comp_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_hh_comp_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_hh_comp_models.R
      infants season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_hh_comp_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_rsv_full_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_full_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_full_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_flu_full_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_full_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_full_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_full_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_full_models.R
      infants season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_full_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_covid_ethnicity_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_covid_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_covid_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_hh_comp_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_hh_comp_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_covid_ethnicity_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_covid_ethnicity_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_hh_comp_models.R infants
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_hh_comp_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_covid_ses_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ses_hh_comp_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_hh_comp_model_outputs_infants_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_covid_full_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_full_models.R infants season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_full_model_outputs_infants_2020_2021_sensitive_primary.csv

  generate_dataset_infants_s6_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2021_2022_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2021_2022.arrow
      -- infants season6_start_date season6_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2021_2022_sensitive_primary.arrow

  process_dataset_infants_s6_sensitive_primary:
    run: r:latest analysis/data_processing.R infants season6_start_date season6_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_s6_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2021_2022_sensitive_primary.arrow

  describe_dataset_infants_s6_sensitive_primary:
    run: r:latest analysis/season_summary.R infants season6_start_date season6_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2021_2022_sensitive_primary.csv

  calculate_rates_weekly_infants_s6_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants season6_start_date season6_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2021_2022_sensitive_primary.csv

  calculate_rates_rolling_infants_s6_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s6_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_s6_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s6_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_rsv_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_flu_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_covid_ethnicity_s6_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_covid_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_covid_ethnicity_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_2021_2022_sensitive_primary.csv

  generate_dataset_infants_s7_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2022_2023_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2022_2023.arrow
      -- infants season7_start_date season7_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2022_2023_sensitive_primary.arrow

  process_dataset_infants_s7_sensitive_primary:
    run: r:latest analysis/data_processing.R infants season7_start_date season7_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_s7_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2022_2023_sensitive_primary.arrow

  describe_dataset_infants_s7_sensitive_primary:
    run: r:latest analysis/season_summary.R infants season7_start_date season7_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2022_2023_sensitive_primary.csv

  calculate_rates_weekly_infants_s7_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants season7_start_date season7_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2022_2023_sensitive_primary.csv

  calculate_rates_rolling_infants_s7_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s7_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_s7_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s7_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_rsv_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_flu_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_covid_ethnicity_s7_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_covid_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_covid_ethnicity_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_2022_2023_sensitive_primary.csv

  generate_dataset_infants_s8_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_2023_2024_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_2023_2024.arrow
      -- infants season8_start_date season8_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_2023_2024_sensitive_primary.arrow

  process_dataset_infants_s8_sensitive_primary:
    run: r:latest analysis/data_processing.R infants season8_start_date season8_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_s8_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_2023_2024_sensitive_primary.arrow

  describe_dataset_infants_s8_sensitive_primary:
    run: r:latest analysis/season_summary.R infants season8_start_date season8_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2023_2024_sensitive_primary.csv

  calculate_rates_weekly_infants_s8_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants season8_start_date season8_end_date
      sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_2023_2024_sensitive_primary.csv

  calculate_rates_rolling_infants_s8_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_s8_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_s8_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_s8_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_rsv_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_flu_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_flu_ethnicity_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_covid_ethnicity_s8_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_covid_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_covid_ethnicity_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_2023_2024_sensitive_primary.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Infants Subgroup, Codelist Type: Sensitive, 
  ## Investigation Type: Primary 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_dataset_infants_subgroup_s1_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2016_2017_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2016_2017.arrow
      -- infants_subgroup season1_start_date season1_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2016_2017_sensitive_primary.arrow

  process_mothers_s1_sensitive_primary:
    run: r:latest analysis/data_processing_mothers.R season1_start_date season1_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2016_2017_sensitive_primary.arrow

  generate_maternal_characteristics_s1_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2016_2017_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2016_2017.arrow
      -- infants_subroup season1_start_date season1_end_date sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s1_sensitive_primary
    - process_mothers_s1_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2016_2017_sensitive_primary.arrow

  process_dataset_infants_subgroup_s1_sensitive_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season1_start_date season1_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s1_sensitive_primary
    - process_mothers_s1_sensitive_primary
    - generate_maternal_characteristics_s1_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2016_2017_sensitive_primary.arrow

  describe_dataset_infants_subgroup_s1_sensitive_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season1_start_date season1_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2016_2017_sensitive_primary.csv

  calculate_rates_weekly_infants_subgroup_s1_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season1_start_date season1_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2016_2017_sensitive_primary.csv

  calculate_rates_rolling_infants_subgroup_s1_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s1_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s1_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s1_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s1_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s1_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season1_start_date
      season1_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s1_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s1_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s1_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2016_2017_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s1_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season1_start_date season1_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2016_2017_sensitive_primary.csv

  generate_dataset_infants_subgroup_s2_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2017_2018_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2017_2018.arrow
      -- infants_subgroup season2_start_date season2_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2017_2018_sensitive_primary.arrow

  process_mothers_s2_sensitive_primary:
    run: r:latest analysis/data_processing_mothers.R season2_start_date season2_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2017_2018_sensitive_primary.arrow

  generate_maternal_characteristics_s2_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2017_2018_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2017_2018.arrow
      -- infants_subroup season2_start_date season2_end_date sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s2_sensitive_primary
    - process_mothers_s2_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2017_2018_sensitive_primary.arrow

  process_dataset_infants_subgroup_s2_sensitive_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season2_start_date season2_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s2_sensitive_primary
    - process_mothers_s2_sensitive_primary
    - generate_maternal_characteristics_s2_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2017_2018_sensitive_primary.arrow

  describe_dataset_infants_subgroup_s2_sensitive_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season2_start_date season2_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2017_2018_sensitive_primary.csv

  calculate_rates_weekly_infants_subgroup_s2_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season2_start_date season2_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2017_2018_sensitive_primary.csv

  calculate_rates_rolling_infants_subgroup_s2_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s2_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s2_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s2_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s2_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s2_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season2_start_date
      season2_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s2_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s2_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s2_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2017_2018_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s2_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season2_start_date season2_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2017_2018_sensitive_primary.csv

  generate_dataset_infants_subgroup_s3_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2018_2019_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2018_2019.arrow
      -- infants_subgroup season3_start_date season3_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2018_2019_sensitive_primary.arrow

  process_mothers_s3_sensitive_primary:
    run: r:latest analysis/data_processing_mothers.R season3_start_date season3_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2018_2019_sensitive_primary.arrow

  generate_maternal_characteristics_s3_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2018_2019_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2018_2019.arrow
      -- infants_subroup season3_start_date season3_end_date sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s3_sensitive_primary
    - process_mothers_s3_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2018_2019_sensitive_primary.arrow

  process_dataset_infants_subgroup_s3_sensitive_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season3_start_date season3_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s3_sensitive_primary
    - process_mothers_s3_sensitive_primary
    - generate_maternal_characteristics_s3_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2018_2019_sensitive_primary.arrow

  describe_dataset_infants_subgroup_s3_sensitive_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season3_start_date season3_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2018_2019_sensitive_primary.csv

  calculate_rates_weekly_infants_subgroup_s3_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season3_start_date season3_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2018_2019_sensitive_primary.csv

  calculate_rates_rolling_infants_subgroup_s3_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s3_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s3_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s3_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s3_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s3_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season3_start_date
      season3_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s3_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s3_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s3_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2018_2019_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s3_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season3_start_date season3_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2018_2019_sensitive_primary.csv

  generate_dataset_infants_subgroup_s4_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2019_2020_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2019_2020.arrow
      -- infants_subgroup season4_start_date season4_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2019_2020_sensitive_primary.arrow

  process_mothers_s4_sensitive_primary:
    run: r:latest analysis/data_processing_mothers.R season4_start_date season4_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2019_2020_sensitive_primary.arrow

  generate_maternal_characteristics_s4_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2019_2020_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2019_2020.arrow
      -- infants_subroup season4_start_date season4_end_date sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s4_sensitive_primary
    - process_mothers_s4_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2019_2020_sensitive_primary.arrow

  process_dataset_infants_subgroup_s4_sensitive_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season4_start_date season4_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s4_sensitive_primary
    - process_mothers_s4_sensitive_primary
    - generate_maternal_characteristics_s4_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2019_2020_sensitive_primary.arrow

  describe_dataset_infants_subgroup_s4_sensitive_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season4_start_date season4_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2019_2020_sensitive_primary.csv

  calculate_rates_weekly_infants_subgroup_s4_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season4_start_date season4_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2019_2020_sensitive_primary.csv

  calculate_rates_rolling_infants_subgroup_s4_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s4_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s4_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s4_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_s4_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants_subgroup
      season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_subgroup_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants_subgroup season4_start_date
      season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_subgroup_2019_2020_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_ses_s4_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants_subgroup
      season4_start_date season4_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_subgroup_2019_2020_sensitive_primary.csv

  generate_dataset_infants_subgroup_s5_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2020_2021_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2020_2021.arrow
      -- infants_subgroup season5_start_date season5_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2020_2021_sensitive_primary.arrow

  process_mothers_s5_sensitive_primary:
    run: r:latest analysis/data_processing_mothers.R season5_start_date season5_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2020_2021_sensitive_primary.arrow

  generate_maternal_characteristics_s5_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2020_2021_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2020_2021.arrow
      -- infants_subroup season5_start_date season5_end_date sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s5_sensitive_primary
    - process_mothers_s5_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2020_2021_sensitive_primary.arrow

  process_dataset_infants_subgroup_s5_sensitive_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season5_start_date season5_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s5_sensitive_primary
    - process_mothers_s5_sensitive_primary
    - generate_maternal_characteristics_s5_sensitive_primary
    - process_household_information_s5
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2020_2021_sensitive_primary.arrow

  describe_dataset_infants_subgroup_s5_sensitive_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season5_start_date season5_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2020_2021_sensitive_primary.csv

  calculate_rates_weekly_infants_subgroup_s5_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season5_start_date season5_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2020_2021_sensitive_primary.csv

  calculate_rates_rolling_infants_subgroup_s5_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_hh_comp_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_hh_comp_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_hh_comp_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_hh_comp_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_hh_comp_models.R
      infants_subgroup season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_hh_comp_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_hh_comp_models.R infants_subgroup
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_hh_comp_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_hh_comp_models.R infants_subgroup
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_hh_comp_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_hh_comp_models.R
      infants_subgroup season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_hh_comp_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_hh_comp_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_hh_comp_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_hh_comp_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_hh_comp_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_hh_comp_models.R
      infants_subgroup season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_hh_comp_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_full_s5_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_full_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_full_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_full_s5_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_full_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_full_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_full_s5_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_full_models.R
      infants_subgroup season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_full_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants_subgroup
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_hh_comp_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_hh_comp_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_ses_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants_subgroup
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_hh_comp_models.R infants_subgroup
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_hh_comp_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ses_hh_comp_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ses_hh_comp_models.R infants_subgroup
      season5_start_date season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_hh_comp_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_full_s5_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_full_models.R infants_subgroup season5_start_date
      season5_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_full_model_outputs_infants_subgroup_2020_2021_sensitive_primary.csv

  generate_dataset_infants_subgroup_s6_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2021_2022_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2021_2022.arrow
      -- infants_subgroup season6_start_date season6_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2021_2022_sensitive_primary.arrow

  process_mothers_s6_sensitive_primary:
    run: r:latest analysis/data_processing_mothers.R season6_start_date season6_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2021_2022_sensitive_primary.arrow

  generate_maternal_characteristics_s6_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2021_2022_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2021_2022.arrow
      -- infants_subroup season6_start_date season6_end_date sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s6_sensitive_primary
    - process_mothers_s6_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2021_2022_sensitive_primary.arrow

  process_dataset_infants_subgroup_s6_sensitive_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season6_start_date season6_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s6_sensitive_primary
    - process_mothers_s6_sensitive_primary
    - generate_maternal_characteristics_s6_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2021_2022_sensitive_primary.arrow

  describe_dataset_infants_subgroup_s6_sensitive_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season6_start_date season6_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2021_2022_sensitive_primary.csv

  calculate_rates_weekly_infants_subgroup_s6_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season6_start_date season6_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2021_2022_sensitive_primary.csv

  calculate_rates_rolling_infants_subgroup_s6_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s6_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s6_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s6_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_s6_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants_subgroup
      season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_subgroup_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants_subgroup season6_start_date
      season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_subgroup_2021_2022_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_ses_s6_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants_subgroup
      season6_start_date season6_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_subgroup_2021_2022_sensitive_primary.csv

  generate_dataset_infants_subgroup_s7_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2022_2023_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2022_2023.arrow
      -- infants_subgroup season7_start_date season7_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2022_2023_sensitive_primary.arrow

  process_mothers_s7_sensitive_primary:
    run: r:latest analysis/data_processing_mothers.R season7_start_date season7_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2022_2023_sensitive_primary.arrow

  generate_maternal_characteristics_s7_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2022_2023_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2022_2023.arrow
      -- infants_subroup season7_start_date season7_end_date sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s7_sensitive_primary
    - process_mothers_s7_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2022_2023_sensitive_primary.arrow

  process_dataset_infants_subgroup_s7_sensitive_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season7_start_date season7_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s7_sensitive_primary
    - process_mothers_s7_sensitive_primary
    - generate_maternal_characteristics_s7_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2022_2023_sensitive_primary.arrow

  describe_dataset_infants_subgroup_s7_sensitive_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season7_start_date season7_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2022_2023_sensitive_primary.csv

  calculate_rates_weekly_infants_subgroup_s7_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season7_start_date season7_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2022_2023_sensitive_primary.csv

  calculate_rates_rolling_infants_subgroup_s7_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s7_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s7_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s7_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_s7_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants_subgroup
      season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_subgroup_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants_subgroup season7_start_date
      season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_subgroup_2022_2023_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_ses_s7_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants_subgroup
      season7_start_date season7_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_subgroup_2022_2023_sensitive_primary.csv

  generate_dataset_infants_subgroup_s8_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_infants_subgroup_2023_2024_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_infants_subgroup_2023_2024.arrow
      -- infants_subgroup season8_start_date season8_end_date sensitive primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_infants_subgroup_2023_2024_sensitive_primary.arrow

  process_mothers_s8_sensitive_primary:
    run: r:latest analysis/data_processing_mothers.R season8_start_date season8_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_mothers_processed_2023_2024_sensitive_primary.arrow

  generate_maternal_characteristics_s8_sensitive_primary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition_mothers.py
      --output output/data/input_maternal_infants_subgroup_2023_2024_sensitive_primary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_maternal_2023_2024.arrow
      -- infants_subroup season8_start_date season8_end_date sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s8_sensitive_primary
    - process_mothers_s8_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_maternal_infants_subgroup_2023_2024_sensitive_primary.arrow

  process_dataset_infants_subgroup_s8_sensitive_primary:
    run: r:latest analysis/data_processing.R infants_subgroup season8_start_date season8_end_date
      sensitive primary
    needs:
    - generate_dataset_infants_subgroup_s8_sensitive_primary
    - process_mothers_s8_sensitive_primary
    - generate_maternal_characteristics_s8_sensitive_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2023_2024_sensitive_primary.arrow

  describe_dataset_infants_subgroup_s8_sensitive_primary:
    run: r:latest analysis/season_summary.R infants_subgroup season8_start_date season8_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2023_2024_sensitive_primary.csv

  calculate_rates_weekly_infants_subgroup_s8_sensitive_primary:
    run: r:latest analysis/rates_over_time.R infants_subgroup season8_start_date season8_end_date
      sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_weekly_*_infants_subgroup_2023_2024_sensitive_primary.csv

  calculate_rates_rolling_infants_subgroup_s8_sensitive_primary:
    run: r:latest analysis/rates_over_time_rolling_window.R infants_subgroup season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        dataset: output/results/rates/weekly/rates_over_time_rolling_*_infants_subgroup_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s8_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_model_outputs_infants_subgroup_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s8_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_model_outputs_infants_subgroup_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s8_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ses_model_outputs_infants_subgroup_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ses_model_outputs_infants_subgroup_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ses_models.R
      infants_subgroup season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ses_model_outputs_infants_subgroup_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_primary/rsv_ethnicity_ses_model_outputs_infants_subgroup_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_primary/flu_ethnicity_ses_model_outputs_infants_subgroup_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_ses_models.R
      infants_subgroup season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_primary/overall_and_all_cause_ethnicity_ses_model_outputs_infants_subgroup_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_s8_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_models.R infants_subgroup
      season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_model_outputs_infants_subgroup_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ses_models.R infants_subgroup season8_start_date
      season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ses_model_outputs_infants_subgroup_2023_2024_sensitive_primary.csv

  analyse_dataset_infants_subgroup_covid_ethnicity_ses_s8_sensitive_primary:
    run: r:latest analysis/outcome_covid/covid_ethnicity_ses_models.R infants_subgroup
      season8_start_date season8_end_date sensitive primary
    needs:
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_primary/covid_ethnicity_ses_model_outputs_infants_subgroup_2023_2024_sensitive_primary.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## DATA SKIMMING 
  ## # # # # # # # # # # # # # # # # # # # 
  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Older Adults 
  ## # # # # # # # # # # # # # # # # # # # 

  skim_dataset_older_adults_s1_season1_start_date_season1_end_date:
    run: r:latest analysis/data_skim.R input_older_adults_2016_2017season1_start_date_season1_end_date.arrow
    needs:
    - generate_dataset_older_adults_s1_season1_start_date_season1_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*older_adults_2016_2017*.txt

  skim_processed_dataset_older_adults_s1_season1_start_date_season1_end_date:
    run: r:latest analysis/data_skim.R input_processed_older_adults_2016_2017season1_start_date_season1_end_date.arrow
    needs:
    - process_dataset_older_adults_s1_season1_start_date_season1_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*older_adults_2016_2017*.txt

  skim_dataset_older_adults_s2_season2_start_date_season2_end_date:
    run: r:latest analysis/data_skim.R input_older_adults_2017_2018season2_start_date_season2_end_date.arrow
    needs:
    - generate_dataset_older_adults_s2_season2_start_date_season2_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*older_adults_2017_2018*.txt

  skim_processed_dataset_older_adults_s2_season2_start_date_season2_end_date:
    run: r:latest analysis/data_skim.R input_processed_older_adults_2017_2018season2_start_date_season2_end_date.arrow
    needs:
    - process_dataset_older_adults_s2_season2_start_date_season2_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*older_adults_2017_2018*.txt

  skim_dataset_older_adults_s3_season3_start_date_season3_end_date:
    run: r:latest analysis/data_skim.R input_older_adults_2018_2019season3_start_date_season3_end_date.arrow
    needs:
    - generate_dataset_older_adults_s3_season3_start_date_season3_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*older_adults_2018_2019*.txt

  skim_processed_dataset_older_adults_s3_season3_start_date_season3_end_date:
    run: r:latest analysis/data_skim.R input_processed_older_adults_2018_2019season3_start_date_season3_end_date.arrow
    needs:
    - process_dataset_older_adults_s3_season3_start_date_season3_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*older_adults_2018_2019*.txt

  skim_dataset_older_adults_s4_season4_start_date_season4_end_date:
    run: r:latest analysis/data_skim.R input_older_adults_2019_2020season4_start_date_season4_end_date.arrow
    needs:
    - generate_dataset_older_adults_s4_season4_start_date_season4_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*older_adults_2019_2020*.txt

  skim_processed_dataset_older_adults_s4_season4_start_date_season4_end_date:
    run: r:latest analysis/data_skim.R input_processed_older_adults_2019_2020season4_start_date_season4_end_date.arrow
    needs:
    - process_dataset_older_adults_s4_season4_start_date_season4_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*older_adults_2019_2020*.txt

  skim_dataset_older_adults_s5_season5_start_date_season5_end_date:
    run: r:latest analysis/data_skim.R input_older_adults_2020_2021season5_start_date_season5_end_date.arrow
    needs:
    - generate_dataset_older_adults_s5_season5_start_date_season5_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*older_adults_2020_2021*.txt

  skim_processed_dataset_older_adults_s5_season5_start_date_season5_end_date:
    run: r:latest analysis/data_skim.R input_processed_older_adults_2020_2021season5_start_date_season5_end_date.arrow
    needs:
    - process_dataset_older_adults_s5_season5_start_date_season5_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*older_adults_2020_2021*.txt

  skim_dataset_older_adults_s6_season6_start_date_season6_end_date:
    run: r:latest analysis/data_skim.R input_older_adults_2021_2022season6_start_date_season6_end_date.arrow
    needs:
    - generate_dataset_older_adults_s6_season6_start_date_season6_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*older_adults_2021_2022*.txt

  skim_processed_dataset_older_adults_s6_season6_start_date_season6_end_date:
    run: r:latest analysis/data_skim.R input_processed_older_adults_2021_2022season6_start_date_season6_end_date.arrow
    needs:
    - process_dataset_older_adults_s6_season6_start_date_season6_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*older_adults_2021_2022*.txt

  skim_dataset_older_adults_s7_season7_start_date_season7_end_date:
    run: r:latest analysis/data_skim.R input_older_adults_2022_2023season7_start_date_season7_end_date.arrow
    needs:
    - generate_dataset_older_adults_s7_season7_start_date_season7_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*older_adults_2022_2023*.txt

  skim_processed_dataset_older_adults_s7_season7_start_date_season7_end_date:
    run: r:latest analysis/data_skim.R input_processed_older_adults_2022_2023season7_start_date_season7_end_date.arrow
    needs:
    - process_dataset_older_adults_s7_season7_start_date_season7_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*older_adults_2022_2023*.txt

  skim_dataset_older_adults_s8_season8_start_date_season8_end_date:
    run: r:latest analysis/data_skim.R input_older_adults_2023_2024season8_start_date_season8_end_date.arrow
    needs:
    - generate_dataset_older_adults_s8_season8_start_date_season8_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*older_adults_2023_2024*.txt

  skim_processed_dataset_older_adults_s8_season8_start_date_season8_end_date:
    run: r:latest analysis/data_skim.R input_processed_older_adults_2023_2024season8_start_date_season8_end_date.arrow
    needs:
    - process_dataset_older_adults_s8_season8_start_date_season8_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*older_adults_2023_2024*.txt

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Adults 
  ## # # # # # # # # # # # # # # # # # # # 

  skim_dataset_adults_s1_season1_start_date_season1_end_date:
    run: r:latest analysis/data_skim.R input_adults_2016_2017season1_start_date_season1_end_date.arrow
    needs:
    - generate_dataset_adults_s1_season1_start_date_season1_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*adults_2016_2017*.txt

  skim_processed_dataset_adults_s1_season1_start_date_season1_end_date:
    run: r:latest analysis/data_skim.R input_processed_adults_2016_2017season1_start_date_season1_end_date.arrow
    needs:
    - process_dataset_adults_s1_season1_start_date_season1_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*adults_2016_2017*.txt

  skim_dataset_adults_s2_season2_start_date_season2_end_date:
    run: r:latest analysis/data_skim.R input_adults_2017_2018season2_start_date_season2_end_date.arrow
    needs:
    - generate_dataset_adults_s2_season2_start_date_season2_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*adults_2017_2018*.txt

  skim_processed_dataset_adults_s2_season2_start_date_season2_end_date:
    run: r:latest analysis/data_skim.R input_processed_adults_2017_2018season2_start_date_season2_end_date.arrow
    needs:
    - process_dataset_adults_s2_season2_start_date_season2_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*adults_2017_2018*.txt

  skim_dataset_adults_s3_season3_start_date_season3_end_date:
    run: r:latest analysis/data_skim.R input_adults_2018_2019season3_start_date_season3_end_date.arrow
    needs:
    - generate_dataset_adults_s3_season3_start_date_season3_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*adults_2018_2019*.txt

  skim_processed_dataset_adults_s3_season3_start_date_season3_end_date:
    run: r:latest analysis/data_skim.R input_processed_adults_2018_2019season3_start_date_season3_end_date.arrow
    needs:
    - process_dataset_adults_s3_season3_start_date_season3_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*adults_2018_2019*.txt

  skim_dataset_adults_s4_season4_start_date_season4_end_date:
    run: r:latest analysis/data_skim.R input_adults_2019_2020season4_start_date_season4_end_date.arrow
    needs:
    - generate_dataset_adults_s4_season4_start_date_season4_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*adults_2019_2020*.txt

  skim_processed_dataset_adults_s4_season4_start_date_season4_end_date:
    run: r:latest analysis/data_skim.R input_processed_adults_2019_2020season4_start_date_season4_end_date.arrow
    needs:
    - process_dataset_adults_s4_season4_start_date_season4_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*adults_2019_2020*.txt

  skim_dataset_adults_s5_season5_start_date_season5_end_date:
    run: r:latest analysis/data_skim.R input_adults_2020_2021season5_start_date_season5_end_date.arrow
    needs:
    - generate_dataset_adults_s5_season5_start_date_season5_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*adults_2020_2021*.txt

  skim_processed_dataset_adults_s5_season5_start_date_season5_end_date:
    run: r:latest analysis/data_skim.R input_processed_adults_2020_2021season5_start_date_season5_end_date.arrow
    needs:
    - process_dataset_adults_s5_season5_start_date_season5_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*adults_2020_2021*.txt

  skim_dataset_adults_s6_season6_start_date_season6_end_date:
    run: r:latest analysis/data_skim.R input_adults_2021_2022season6_start_date_season6_end_date.arrow
    needs:
    - generate_dataset_adults_s6_season6_start_date_season6_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*adults_2021_2022*.txt

  skim_processed_dataset_adults_s6_season6_start_date_season6_end_date:
    run: r:latest analysis/data_skim.R input_processed_adults_2021_2022season6_start_date_season6_end_date.arrow
    needs:
    - process_dataset_adults_s6_season6_start_date_season6_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*adults_2021_2022*.txt

  skim_dataset_adults_s7_season7_start_date_season7_end_date:
    run: r:latest analysis/data_skim.R input_adults_2022_2023season7_start_date_season7_end_date.arrow
    needs:
    - generate_dataset_adults_s7_season7_start_date_season7_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*adults_2022_2023*.txt

  skim_processed_dataset_adults_s7_season7_start_date_season7_end_date:
    run: r:latest analysis/data_skim.R input_processed_adults_2022_2023season7_start_date_season7_end_date.arrow
    needs:
    - process_dataset_adults_s7_season7_start_date_season7_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*adults_2022_2023*.txt

  skim_dataset_adults_s8_season8_start_date_season8_end_date:
    run: r:latest analysis/data_skim.R input_adults_2023_2024season8_start_date_season8_end_date.arrow
    needs:
    - generate_dataset_adults_s8_season8_start_date_season8_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*adults_2023_2024*.txt

  skim_processed_dataset_adults_s8_season8_start_date_season8_end_date:
    run: r:latest analysis/data_skim.R input_processed_adults_2023_2024season8_start_date_season8_end_date.arrow
    needs:
    - process_dataset_adults_s8_season8_start_date_season8_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*adults_2023_2024*.txt

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Children and Adolescents 
  ## # # # # # # # # # # # # # # # # # # # 

  skim_dataset_children_and_adolescents_s1_season1_start_date_season1_end_date:
    run: r:latest analysis/data_skim.R input_children_and_adolescents_2016_2017season1_start_date_season1_end_date.arrow
    needs:
    - generate_dataset_children_and_adolescents_s1_season1_start_date_season1_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*children_and_adolescents_2016_2017*.txt

  skim_processed_dataset_children_and_adolescents_s1_season1_start_date_season1_end_date:
    run: r:latest analysis/data_skim.R input_processed_children_and_adolescents_2016_2017season1_start_date_season1_end_date.arrow
    needs:
    - process_dataset_children_and_adolescents_s1_season1_start_date_season1_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*children_and_adolescents_2016_2017*.txt

  skim_dataset_children_and_adolescents_s2_season2_start_date_season2_end_date:
    run: r:latest analysis/data_skim.R input_children_and_adolescents_2017_2018season2_start_date_season2_end_date.arrow
    needs:
    - generate_dataset_children_and_adolescents_s2_season2_start_date_season2_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*children_and_adolescents_2017_2018*.txt

  skim_processed_dataset_children_and_adolescents_s2_season2_start_date_season2_end_date:
    run: r:latest analysis/data_skim.R input_processed_children_and_adolescents_2017_2018season2_start_date_season2_end_date.arrow
    needs:
    - process_dataset_children_and_adolescents_s2_season2_start_date_season2_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*children_and_adolescents_2017_2018*.txt

  skim_dataset_children_and_adolescents_s3_season3_start_date_season3_end_date:
    run: r:latest analysis/data_skim.R input_children_and_adolescents_2018_2019season3_start_date_season3_end_date.arrow
    needs:
    - generate_dataset_children_and_adolescents_s3_season3_start_date_season3_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*children_and_adolescents_2018_2019*.txt

  skim_processed_dataset_children_and_adolescents_s3_season3_start_date_season3_end_date:
    run: r:latest analysis/data_skim.R input_processed_children_and_adolescents_2018_2019season3_start_date_season3_end_date.arrow
    needs:
    - process_dataset_children_and_adolescents_s3_season3_start_date_season3_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*children_and_adolescents_2018_2019*.txt

  skim_dataset_children_and_adolescents_s4_season4_start_date_season4_end_date:
    run: r:latest analysis/data_skim.R input_children_and_adolescents_2019_2020season4_start_date_season4_end_date.arrow
    needs:
    - generate_dataset_children_and_adolescents_s4_season4_start_date_season4_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*children_and_adolescents_2019_2020*.txt

  skim_processed_dataset_children_and_adolescents_s4_season4_start_date_season4_end_date:
    run: r:latest analysis/data_skim.R input_processed_children_and_adolescents_2019_2020season4_start_date_season4_end_date.arrow
    needs:
    - process_dataset_children_and_adolescents_s4_season4_start_date_season4_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*children_and_adolescents_2019_2020*.txt

  skim_dataset_children_and_adolescents_s5_season5_start_date_season5_end_date:
    run: r:latest analysis/data_skim.R input_children_and_adolescents_2020_2021season5_start_date_season5_end_date.arrow
    needs:
    - generate_dataset_children_and_adolescents_s5_season5_start_date_season5_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*children_and_adolescents_2020_2021*.txt

  skim_processed_dataset_children_and_adolescents_s5_season5_start_date_season5_end_date:
    run: r:latest analysis/data_skim.R input_processed_children_and_adolescents_2020_2021season5_start_date_season5_end_date.arrow
    needs:
    - process_dataset_children_and_adolescents_s5_season5_start_date_season5_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*children_and_adolescents_2020_2021*.txt

  skim_dataset_children_and_adolescents_s6_season6_start_date_season6_end_date:
    run: r:latest analysis/data_skim.R input_children_and_adolescents_2021_2022season6_start_date_season6_end_date.arrow
    needs:
    - generate_dataset_children_and_adolescents_s6_season6_start_date_season6_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*children_and_adolescents_2021_2022*.txt

  skim_processed_dataset_children_and_adolescents_s6_season6_start_date_season6_end_date:
    run: r:latest analysis/data_skim.R input_processed_children_and_adolescents_2021_2022season6_start_date_season6_end_date.arrow
    needs:
    - process_dataset_children_and_adolescents_s6_season6_start_date_season6_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*children_and_adolescents_2021_2022*.txt

  skim_dataset_children_and_adolescents_s7_season7_start_date_season7_end_date:
    run: r:latest analysis/data_skim.R input_children_and_adolescents_2022_2023season7_start_date_season7_end_date.arrow
    needs:
    - generate_dataset_children_and_adolescents_s7_season7_start_date_season7_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*children_and_adolescents_2022_2023*.txt

  skim_processed_dataset_children_and_adolescents_s7_season7_start_date_season7_end_date:
    run: r:latest analysis/data_skim.R input_processed_children_and_adolescents_2022_2023season7_start_date_season7_end_date.arrow
    needs:
    - process_dataset_children_and_adolescents_s7_season7_start_date_season7_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*children_and_adolescents_2022_2023*.txt

  skim_dataset_children_and_adolescents_s8_season8_start_date_season8_end_date:
    run: r:latest analysis/data_skim.R input_children_and_adolescents_2023_2024season8_start_date_season8_end_date.arrow
    needs:
    - generate_dataset_children_and_adolescents_s8_season8_start_date_season8_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*children_and_adolescents_2023_2024*.txt

  skim_processed_dataset_children_and_adolescents_s8_season8_start_date_season8_end_date:
    run: r:latest analysis/data_skim.R input_processed_children_and_adolescents_2023_2024season8_start_date_season8_end_date.arrow
    needs:
    - process_dataset_children_and_adolescents_s8_season8_start_date_season8_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*children_and_adolescents_2023_2024*.txt

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Infants 
  ## # # # # # # # # # # # # # # # # # # # 

  skim_dataset_infants_s1_season1_start_date_season1_end_date:
    run: r:latest analysis/data_skim.R input_infants_2016_2017season1_start_date_season1_end_date.arrow
    needs:
    - generate_dataset_infants_s1_season1_start_date_season1_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_2016_2017*.txt

  skim_processed_dataset_infants_s1_season1_start_date_season1_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_2016_2017season1_start_date_season1_end_date.arrow
    needs:
    - process_dataset_infants_s1_season1_start_date_season1_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_2016_2017*.txt

  skim_dataset_infants_s2_season2_start_date_season2_end_date:
    run: r:latest analysis/data_skim.R input_infants_2017_2018season2_start_date_season2_end_date.arrow
    needs:
    - generate_dataset_infants_s2_season2_start_date_season2_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_2017_2018*.txt

  skim_processed_dataset_infants_s2_season2_start_date_season2_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_2017_2018season2_start_date_season2_end_date.arrow
    needs:
    - process_dataset_infants_s2_season2_start_date_season2_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_2017_2018*.txt

  skim_dataset_infants_s3_season3_start_date_season3_end_date:
    run: r:latest analysis/data_skim.R input_infants_2018_2019season3_start_date_season3_end_date.arrow
    needs:
    - generate_dataset_infants_s3_season3_start_date_season3_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_2018_2019*.txt

  skim_processed_dataset_infants_s3_season3_start_date_season3_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_2018_2019season3_start_date_season3_end_date.arrow
    needs:
    - process_dataset_infants_s3_season3_start_date_season3_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_2018_2019*.txt

  skim_dataset_infants_s4_season4_start_date_season4_end_date:
    run: r:latest analysis/data_skim.R input_infants_2019_2020season4_start_date_season4_end_date.arrow
    needs:
    - generate_dataset_infants_s4_season4_start_date_season4_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_2019_2020*.txt

  skim_processed_dataset_infants_s4_season4_start_date_season4_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_2019_2020season4_start_date_season4_end_date.arrow
    needs:
    - process_dataset_infants_s4_season4_start_date_season4_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_2019_2020*.txt

  skim_dataset_infants_s5_season5_start_date_season5_end_date:
    run: r:latest analysis/data_skim.R input_infants_2020_2021season5_start_date_season5_end_date.arrow
    needs:
    - generate_dataset_infants_s5_season5_start_date_season5_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_2020_2021*.txt

  skim_processed_dataset_infants_s5_season5_start_date_season5_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_2020_2021season5_start_date_season5_end_date.arrow
    needs:
    - process_dataset_infants_s5_season5_start_date_season5_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_2020_2021*.txt

  skim_dataset_infants_s6_season6_start_date_season6_end_date:
    run: r:latest analysis/data_skim.R input_infants_2021_2022season6_start_date_season6_end_date.arrow
    needs:
    - generate_dataset_infants_s6_season6_start_date_season6_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_2021_2022*.txt

  skim_processed_dataset_infants_s6_season6_start_date_season6_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_2021_2022season6_start_date_season6_end_date.arrow
    needs:
    - process_dataset_infants_s6_season6_start_date_season6_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_2021_2022*.txt

  skim_dataset_infants_s7_season7_start_date_season7_end_date:
    run: r:latest analysis/data_skim.R input_infants_2022_2023season7_start_date_season7_end_date.arrow
    needs:
    - generate_dataset_infants_s7_season7_start_date_season7_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_2022_2023*.txt

  skim_processed_dataset_infants_s7_season7_start_date_season7_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_2022_2023season7_start_date_season7_end_date.arrow
    needs:
    - process_dataset_infants_s7_season7_start_date_season7_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_2022_2023*.txt

  skim_dataset_infants_s8_season8_start_date_season8_end_date:
    run: r:latest analysis/data_skim.R input_infants_2023_2024season8_start_date_season8_end_date.arrow
    needs:
    - generate_dataset_infants_s8_season8_start_date_season8_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_2023_2024*.txt

  skim_processed_dataset_infants_s8_season8_start_date_season8_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_2023_2024season8_start_date_season8_end_date.arrow
    needs:
    - process_dataset_infants_s8_season8_start_date_season8_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_2023_2024*.txt

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Infants Subgroup 
  ## # # # # # # # # # # # # # # # # # # # 

  skim_dataset_infants_subgroup_s1_season1_start_date_season1_end_date:
    run: r:latest analysis/data_skim.R input_infants_subgroup_2016_2017season1_start_date_season1_end_date.arrow
    needs:
    - generate_dataset_infants_subgroup_s1_season1_start_date_season1_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_subgroup_2016_2017*.txt

  skim_processed_dataset_infants_subgroup_s1_season1_start_date_season1_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_subgroup_2016_2017season1_start_date_season1_end_date.arrow
    needs:
    - process_dataset_infants_subgroup_s1_season1_start_date_season1_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_subgroup_2016_2017*.txt

  skim_dataset_infants_subgroup_s2_season2_start_date_season2_end_date:
    run: r:latest analysis/data_skim.R input_infants_subgroup_2017_2018season2_start_date_season2_end_date.arrow
    needs:
    - generate_dataset_infants_subgroup_s2_season2_start_date_season2_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_subgroup_2017_2018*.txt

  skim_processed_dataset_infants_subgroup_s2_season2_start_date_season2_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_subgroup_2017_2018season2_start_date_season2_end_date.arrow
    needs:
    - process_dataset_infants_subgroup_s2_season2_start_date_season2_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_subgroup_2017_2018*.txt

  skim_dataset_infants_subgroup_s3_season3_start_date_season3_end_date:
    run: r:latest analysis/data_skim.R input_infants_subgroup_2018_2019season3_start_date_season3_end_date.arrow
    needs:
    - generate_dataset_infants_subgroup_s3_season3_start_date_season3_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_subgroup_2018_2019*.txt

  skim_processed_dataset_infants_subgroup_s3_season3_start_date_season3_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_subgroup_2018_2019season3_start_date_season3_end_date.arrow
    needs:
    - process_dataset_infants_subgroup_s3_season3_start_date_season3_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_subgroup_2018_2019*.txt

  skim_dataset_infants_subgroup_s4_season4_start_date_season4_end_date:
    run: r:latest analysis/data_skim.R input_infants_subgroup_2019_2020season4_start_date_season4_end_date.arrow
    needs:
    - generate_dataset_infants_subgroup_s4_season4_start_date_season4_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_subgroup_2019_2020*.txt

  skim_processed_dataset_infants_subgroup_s4_season4_start_date_season4_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_subgroup_2019_2020season4_start_date_season4_end_date.arrow
    needs:
    - process_dataset_infants_subgroup_s4_season4_start_date_season4_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_subgroup_2019_2020*.txt

  skim_dataset_infants_subgroup_s5_season5_start_date_season5_end_date:
    run: r:latest analysis/data_skim.R input_infants_subgroup_2020_2021season5_start_date_season5_end_date.arrow
    needs:
    - generate_dataset_infants_subgroup_s5_season5_start_date_season5_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_subgroup_2020_2021*.txt

  skim_processed_dataset_infants_subgroup_s5_season5_start_date_season5_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_subgroup_2020_2021season5_start_date_season5_end_date.arrow
    needs:
    - process_dataset_infants_subgroup_s5_season5_start_date_season5_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_subgroup_2020_2021*.txt

  skim_dataset_infants_subgroup_s6_season6_start_date_season6_end_date:
    run: r:latest analysis/data_skim.R input_infants_subgroup_2021_2022season6_start_date_season6_end_date.arrow
    needs:
    - generate_dataset_infants_subgroup_s6_season6_start_date_season6_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_subgroup_2021_2022*.txt

  skim_processed_dataset_infants_subgroup_s6_season6_start_date_season6_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_subgroup_2021_2022season6_start_date_season6_end_date.arrow
    needs:
    - process_dataset_infants_subgroup_s6_season6_start_date_season6_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_subgroup_2021_2022*.txt

  skim_dataset_infants_subgroup_s7_season7_start_date_season7_end_date:
    run: r:latest analysis/data_skim.R input_infants_subgroup_2022_2023season7_start_date_season7_end_date.arrow
    needs:
    - generate_dataset_infants_subgroup_s7_season7_start_date_season7_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_subgroup_2022_2023*.txt

  skim_processed_dataset_infants_subgroup_s7_season7_start_date_season7_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_subgroup_2022_2023season7_start_date_season7_end_date.arrow
    needs:
    - process_dataset_infants_subgroup_s7_season7_start_date_season7_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_subgroup_2022_2023*.txt

  skim_dataset_infants_subgroup_s8_season8_start_date_season8_end_date:
    run: r:latest analysis/data_skim.R input_infants_subgroup_2023_2024season8_start_date_season8_end_date.arrow
    needs:
    - generate_dataset_infants_subgroup_s8_season8_start_date_season8_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*infants_subgroup_2023_2024*.txt

  skim_processed_dataset_infants_subgroup_s8_season8_start_date_season8_end_date:
    run: r:latest analysis/data_skim.R input_processed_infants_subgroup_2023_2024season8_start_date_season8_end_date.arrow
    needs:
    - process_dataset_infants_subgroup_s8_season8_start_date_season8_end_date
    outputs:
      moderately_sensitive:
        txt: output/data/*processed*infants_subgroup_2023_2024*.txt

  ## # # # # # # # # # # # # # # # # # # # 
  ## DESCRIPTIVE ANALYSES 
  ## # # # # # # # # # # # # # # # # # # # 
  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Older Adults 
  ## # # # # # # # # # # # # # # # # # # # 

  describe_cohort_older_adults_s1:
    run: r:latest analysis/cohort_description.R older_adults season1_start_date season1_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_older_adults_2016_2017.csv

  describe_cohort_older_adults_s2:
    run: r:latest analysis/cohort_description.R older_adults season2_start_date season2_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_older_adults_2017_2018.csv

  describe_cohort_older_adults_s3:
    run: r:latest analysis/cohort_description.R older_adults season3_start_date season3_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_older_adults_2018_2019.csv

  describe_cohort_older_adults_s4:
    run: r:latest analysis/cohort_description.R older_adults season4_start_date season4_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_older_adults_2019_2020.csv

  describe_cohort_older_adults_s5:
    run: r:latest analysis/cohort_description.R older_adults season5_start_date season5_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_older_adults_2020_2021.csv

  describe_cohort_older_adults_s6:
    run: r:latest analysis/cohort_description.R older_adults season6_start_date season6_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_older_adults_2021_2022.csv

  describe_cohort_older_adults_s7:
    run: r:latest analysis/cohort_description.R older_adults season7_start_date season7_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_older_adults_2022_2023.csv

  describe_cohort_older_adults_s8:
    run: r:latest analysis/cohort_description.R older_adults season8_start_date season8_end_date
      specific primary
    needs:
    - process_dataset_older_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_older_adults_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Adults 
  ## # # # # # # # # # # # # # # # # # # # 

  describe_cohort_adults_s1:
    run: r:latest analysis/cohort_description.R adults season1_start_date season1_end_date
      specific primary
    needs:
    - process_dataset_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_adults_2016_2017.csv

  describe_cohort_adults_s2:
    run: r:latest analysis/cohort_description.R adults season2_start_date season2_end_date
      specific primary
    needs:
    - process_dataset_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_adults_2017_2018.csv

  describe_cohort_adults_s3:
    run: r:latest analysis/cohort_description.R adults season3_start_date season3_end_date
      specific primary
    needs:
    - process_dataset_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_adults_2018_2019.csv

  describe_cohort_adults_s4:
    run: r:latest analysis/cohort_description.R adults season4_start_date season4_end_date
      specific primary
    needs:
    - process_dataset_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_adults_2019_2020.csv

  describe_cohort_adults_s5:
    run: r:latest analysis/cohort_description.R adults season5_start_date season5_end_date
      specific primary
    needs:
    - process_dataset_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_adults_2020_2021.csv

  describe_cohort_adults_s6:
    run: r:latest analysis/cohort_description.R adults season6_start_date season6_end_date
      specific primary
    needs:
    - process_dataset_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_adults_2021_2022.csv

  describe_cohort_adults_s7:
    run: r:latest analysis/cohort_description.R adults season7_start_date season7_end_date
      specific primary
    needs:
    - process_dataset_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_adults_2022_2023.csv

  describe_cohort_adults_s8:
    run: r:latest analysis/cohort_description.R adults season8_start_date season8_end_date
      specific primary
    needs:
    - process_dataset_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_adults_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Children and Adolescents 
  ## # # # # # # # # # # # # # # # # # # # 

  describe_cohort_children_and_adolescents_s1:
    run: r:latest analysis/cohort_description.R children_and_adolescents season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_children_and_adolescents_2016_2017.csv

  describe_cohort_children_and_adolescents_s2:
    run: r:latest analysis/cohort_description.R children_and_adolescents season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_children_and_adolescents_2017_2018.csv

  describe_cohort_children_and_adolescents_s3:
    run: r:latest analysis/cohort_description.R children_and_adolescents season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_children_and_adolescents_2018_2019.csv

  describe_cohort_children_and_adolescents_s4:
    run: r:latest analysis/cohort_description.R children_and_adolescents season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_children_and_adolescents_2019_2020.csv

  describe_cohort_children_and_adolescents_s5:
    run: r:latest analysis/cohort_description.R children_and_adolescents season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_children_and_adolescents_2020_2021.csv

  describe_cohort_children_and_adolescents_s6:
    run: r:latest analysis/cohort_description.R children_and_adolescents season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_children_and_adolescents_2021_2022.csv

  describe_cohort_children_and_adolescents_s7:
    run: r:latest analysis/cohort_description.R children_and_adolescents season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_children_and_adolescents_2022_2023.csv

  describe_cohort_children_and_adolescents_s8:
    run: r:latest analysis/cohort_description.R children_and_adolescents season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_children_and_adolescents_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Infants 
  ## # # # # # # # # # # # # # # # # # # # 

  describe_cohort_infants_s1:
    run: r:latest analysis/cohort_description.R infants season1_start_date season1_end_date
      specific primary
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_2016_2017.csv

  describe_cohort_infants_s2:
    run: r:latest analysis/cohort_description.R infants season2_start_date season2_end_date
      specific primary
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_2017_2018.csv

  describe_cohort_infants_s3:
    run: r:latest analysis/cohort_description.R infants season3_start_date season3_end_date
      specific primary
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_2018_2019.csv

  describe_cohort_infants_s4:
    run: r:latest analysis/cohort_description.R infants season4_start_date season4_end_date
      specific primary
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_2019_2020.csv

  describe_cohort_infants_s5:
    run: r:latest analysis/cohort_description.R infants season5_start_date season5_end_date
      specific primary
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_2020_2021.csv

  describe_cohort_infants_s6:
    run: r:latest analysis/cohort_description.R infants season6_start_date season6_end_date
      specific primary
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_2021_2022.csv

  describe_cohort_infants_s7:
    run: r:latest analysis/cohort_description.R infants season7_start_date season7_end_date
      specific primary
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_2022_2023.csv

  describe_cohort_infants_s8:
    run: r:latest analysis/cohort_description.R infants season8_start_date season8_end_date
      specific primary
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Infants Subgroup 
  ## # # # # # # # # # # # # # # # # # # # 

  describe_cohort_infants_subgroup_s1:
    run: r:latest analysis/cohort_description.R infants_subgroup season1_start_date
      season1_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_subgroup_2016_2017.csv

  describe_cohort_infants_subgroup_s2:
    run: r:latest analysis/cohort_description.R infants_subgroup season2_start_date
      season2_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_subgroup_2017_2018.csv

  describe_cohort_infants_subgroup_s3:
    run: r:latest analysis/cohort_description.R infants_subgroup season3_start_date
      season3_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_subgroup_2018_2019.csv

  describe_cohort_infants_subgroup_s4:
    run: r:latest analysis/cohort_description.R infants_subgroup season4_start_date
      season4_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_subgroup_2019_2020.csv

  describe_cohort_infants_subgroup_s5:
    run: r:latest analysis/cohort_description.R infants_subgroup season5_start_date
      season5_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_subgroup_2020_2021.csv

  describe_cohort_infants_subgroup_s6:
    run: r:latest analysis/cohort_description.R infants_subgroup season6_start_date
      season6_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_subgroup_2021_2022.csv

  describe_cohort_infants_subgroup_s7:
    run: r:latest analysis/cohort_description.R infants_subgroup season7_start_date
      season7_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_subgroup_2022_2023.csv

  describe_cohort_infants_subgroup_s8:
    run: r:latest analysis/cohort_description.R infants_subgroup season8_start_date
      season8_end_date specific primary
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/table1/table1_infants_subgroup_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## SECONDARY ANALYSES 
  ## # # # # # # # # # # # # # # # # # # # 
  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Older Adults, Codelist Type: Specific, 
  ## Investigation Type: Secondary 
  ## # # # # # # # # # # # # # # # # # # # 

  generate_dataset_older_adults_s2_specific_secondary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2017_2018_specific_secondary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2017_2018.arrow
      -- older_adults season2_start_date season2_end_date specific secondary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2017_2018_specific_secondary.arrow

  process_dataset_older_adults_s2_specific_secondary:
    run: r:latest analysis/secondary_analyses/data_processing_sec.R older_adults season2_start_date
      season2_end_date specific secondary
    needs:
    - generate_dataset_older_adults_s2_specific_secondary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2017_2018_specific_secondary.arrow

  describe_dataset_older_adults_s2_specific_secondary:
    run: r:latest analysis/secondary_analyses/season_summary_sec.R older_adults season2_start_date
      season2_end_date specific secondary
    needs:
    - process_dataset_older_adults_s2_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2017_2018_specific_secondary.csv

  analyse_dataset_older_adults_rsv_s2_specific_secondary:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season2_start_date
      season2_end_date specific secondary
    needs:
    - process_dataset_older_adults_s2_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_secondary/*_older_adults_2017_2018_specific_*.csv

  describe_cohort_secondary_older_adults_s2:
    run: r:latest analysis/cohort_description.R older_adults season2_start_date season2_end_date
      specific secondary
    needs:
    - process_dataset_older_adults_s2_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/table1/secondary_table1_older_adults_2017_2018.csv

  generate_dataset_older_adults_s3_specific_secondary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2018_2019_specific_secondary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2018_2019.arrow
      -- older_adults season3_start_date season3_end_date specific secondary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2018_2019_specific_secondary.arrow

  process_dataset_older_adults_s3_specific_secondary:
    run: r:latest analysis/secondary_analyses/data_processing_sec.R older_adults season3_start_date
      season3_end_date specific secondary
    needs:
    - generate_dataset_older_adults_s3_specific_secondary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2018_2019_specific_secondary.arrow

  describe_dataset_older_adults_s3_specific_secondary:
    run: r:latest analysis/secondary_analyses/season_summary_sec.R older_adults season3_start_date
      season3_end_date specific secondary
    needs:
    - process_dataset_older_adults_s3_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2018_2019_specific_secondary.csv

  analyse_dataset_older_adults_flu_s3_specific_secondary:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season3_start_date
      season3_end_date specific secondary
    needs:
    - process_dataset_older_adults_s3_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_secondary/*_older_adults_2018_2019_specific_*.csv

  analyse_dataset_older_adults_flu_further_s3_specific_secondary:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season3_start_date
      season3_end_date specific secondary
    needs:
    - process_dataset_older_adults_s3_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_secondary/further_*_older_adults_2018_2019_specific_*.csv

  describe_cohort_secondary_older_adults_s3:
    run: r:latest analysis/cohort_description.R older_adults season3_start_date season3_end_date
      specific secondary
    needs:
    - process_dataset_older_adults_s3_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/table1/secondary_table1_older_adults_2018_2019.csv

  generate_dataset_older_adults_s5_specific_secondary:
    run: |-
      ehrql:v1 generate-dataset analysis/dataset_definition.py
      --output output/data/input_older_adults_2020_2021_specific_secondary.arrow
      --dummy-data-file analysis/dummydata/dummyextract_older_adults_2020_2021.arrow
      -- older_adults season5_start_date season5_end_date specific secondary
    outputs:
      highly_sensitive:
        dataset: output/data/input_older_adults_2020_2021_specific_secondary.arrow

  process_dataset_older_adults_s5_specific_secondary:
    run: r:latest analysis/secondary_analyses/data_processing_sec.R older_adults season5_start_date
      season5_end_date specific secondary
    needs:
    - generate_dataset_older_adults_s5_specific_secondary
    - process_household_information_s5
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_older_adults_2020_2021_specific_secondary.arrow

  describe_dataset_older_adults_s5_specific_secondary:
    run: r:latest analysis/secondary_analyses/season_summary_sec.R older_adults season5_start_date
      season5_end_date specific secondary
    needs:
    - process_dataset_older_adults_s5_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2020_2021_specific_secondary.csv

  analyse_dataset_older_adults_covid_s5_specific_secondary:
    run: r:latest analysis/outcome_covid/covid_models_master.R older_adults season5_start_date
      season5_end_date specific secondary
    needs:
    - process_dataset_older_adults_s5_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/results/models/covid_secondary/*_older_adults_2020_2021_specific_secondary.csv

  analyse_dataset_older_adults_covid_further_s5_specific_secondary:
    run: r:latest analysis/outcome_covid/further_covid_models_master.R older_adults
      season5_start_date season5_end_date specific secondary
    needs:
    - process_dataset_older_adults_s5_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/results/models/further_covid_model_outputs_older_adults_2020_2021_specific_secondary.csv

  describe_cohort_secondary_older_adults_s5:
    run: r:latest analysis/cohort_description.R older_adults season5_start_date season5_end_date
      specific secondary
    needs:
    - process_dataset_older_adults_s5_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/table1/secondary_table1_older_adults_2020_2021.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## EXPLORATORY ANALYSES 
  ## # # # # # # # # # # # # # # # # # # # 
  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Older Adults 
  ## # # # # # # # # # # # # # # # # # # # 

  phenotype_sensitivity_older_adults_s1:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R older_adults
      season1_start_date season1_end_date
    needs:
    - process_dataset_older_adults_s1_specific_primary
    - process_dataset_older_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_older_adults_2016_2017.csv

  multiple_episodes_older_adults_s1:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R older_adults season1_start_date
      season1_end_date
    needs:
    - process_dataset_older_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_older_adults_2016_2017.csv

  reinfections_older_adults_s1:
    run: r:latest analysis/exploratory_analyses/reinfections.R older_adults season1_start_date
      season1_end_date
    needs:
    - process_dataset_older_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_older_adults_2016_2017.csv

  phenotype_sensitivity_older_adults_s2:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R older_adults
      season2_start_date season2_end_date
    needs:
    - process_dataset_older_adults_s2_specific_primary
    - process_dataset_older_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_older_adults_2017_2018.csv

  multiple_episodes_older_adults_s2:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R older_adults season2_start_date
      season2_end_date
    needs:
    - process_dataset_older_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_older_adults_2017_2018.csv

  reinfections_older_adults_s2:
    run: r:latest analysis/exploratory_analyses/reinfections.R older_adults season2_start_date
      season2_end_date
    needs:
    - process_dataset_older_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_older_adults_2017_2018.csv

  phenotype_sensitivity_older_adults_s3:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R older_adults
      season3_start_date season3_end_date
    needs:
    - process_dataset_older_adults_s3_specific_primary
    - process_dataset_older_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_older_adults_2018_2019.csv

  multiple_episodes_older_adults_s3:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R older_adults season3_start_date
      season3_end_date
    needs:
    - process_dataset_older_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_older_adults_2018_2019.csv

  reinfections_older_adults_s3:
    run: r:latest analysis/exploratory_analyses/reinfections.R older_adults season3_start_date
      season3_end_date
    needs:
    - process_dataset_older_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_older_adults_2018_2019.csv

  phenotype_sensitivity_older_adults_s4:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R older_adults
      season4_start_date season4_end_date
    needs:
    - process_dataset_older_adults_s4_specific_primary
    - process_dataset_older_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_older_adults_2019_2020.csv

  multiple_episodes_older_adults_s4:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R older_adults season4_start_date
      season4_end_date
    needs:
    - process_dataset_older_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_older_adults_2019_2020.csv

  reinfections_older_adults_s4:
    run: r:latest analysis/exploratory_analyses/reinfections.R older_adults season4_start_date
      season4_end_date
    needs:
    - process_dataset_older_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_older_adults_2019_2020.csv

  phenotype_sensitivity_older_adults_s5:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R older_adults
      season5_start_date season5_end_date
    needs:
    - process_dataset_older_adults_s5_specific_primary
    - process_dataset_older_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_older_adults_2020_2021.csv

  multiple_episodes_older_adults_s5:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R older_adults season5_start_date
      season5_end_date
    needs:
    - process_dataset_older_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_older_adults_2020_2021.csv

  reinfections_older_adults_s5:
    run: r:latest analysis/exploratory_analyses/reinfections.R older_adults season5_start_date
      season5_end_date
    needs:
    - process_dataset_older_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_older_adults_2020_2021.csv

  phenotype_sensitivity_older_adults_s6:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R older_adults
      season6_start_date season6_end_date
    needs:
    - process_dataset_older_adults_s6_specific_primary
    - process_dataset_older_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_older_adults_2021_2022.csv

  multiple_episodes_older_adults_s6:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R older_adults season6_start_date
      season6_end_date
    needs:
    - process_dataset_older_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_older_adults_2021_2022.csv

  reinfections_older_adults_s6:
    run: r:latest analysis/exploratory_analyses/reinfections.R older_adults season6_start_date
      season6_end_date
    needs:
    - process_dataset_older_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_older_adults_2021_2022.csv

  phenotype_sensitivity_older_adults_s7:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R older_adults
      season7_start_date season7_end_date
    needs:
    - process_dataset_older_adults_s7_specific_primary
    - process_dataset_older_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_older_adults_2022_2023.csv

  multiple_episodes_older_adults_s7:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R older_adults season7_start_date
      season7_end_date
    needs:
    - process_dataset_older_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_older_adults_2022_2023.csv

  reinfections_older_adults_s7:
    run: r:latest analysis/exploratory_analyses/reinfections.R older_adults season7_start_date
      season7_end_date
    needs:
    - process_dataset_older_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_older_adults_2022_2023.csv

  phenotype_sensitivity_older_adults_s8:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R older_adults
      season8_start_date season8_end_date
    needs:
    - process_dataset_older_adults_s8_specific_primary
    - process_dataset_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_older_adults_2023_2024.csv

  multiple_episodes_older_adults_s8:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R older_adults season8_start_date
      season8_end_date
    needs:
    - process_dataset_older_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_older_adults_2023_2024.csv

  reinfections_older_adults_s8:
    run: r:latest analysis/exploratory_analyses/reinfections.R older_adults season8_start_date
      season8_end_date
    needs:
    - process_dataset_older_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_older_adults_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Adults 
  ## # # # # # # # # # # # # # # # # # # # 

  phenotype_sensitivity_adults_s1:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R adults season1_start_date
      season1_end_date
    needs:
    - process_dataset_adults_s1_specific_primary
    - process_dataset_adults_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_adults_2016_2017.csv

  multiple_episodes_adults_s1:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R adults season1_start_date
      season1_end_date
    needs:
    - process_dataset_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_adults_2016_2017.csv

  reinfections_adults_s1:
    run: r:latest analysis/exploratory_analyses/reinfections.R adults season1_start_date
      season1_end_date
    needs:
    - process_dataset_adults_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_adults_2016_2017.csv

  phenotype_sensitivity_adults_s2:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R adults season2_start_date
      season2_end_date
    needs:
    - process_dataset_adults_s2_specific_primary
    - process_dataset_adults_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_adults_2017_2018.csv

  multiple_episodes_adults_s2:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R adults season2_start_date
      season2_end_date
    needs:
    - process_dataset_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_adults_2017_2018.csv

  reinfections_adults_s2:
    run: r:latest analysis/exploratory_analyses/reinfections.R adults season2_start_date
      season2_end_date
    needs:
    - process_dataset_adults_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_adults_2017_2018.csv

  phenotype_sensitivity_adults_s3:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R adults season3_start_date
      season3_end_date
    needs:
    - process_dataset_adults_s3_specific_primary
    - process_dataset_adults_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_adults_2018_2019.csv

  multiple_episodes_adults_s3:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R adults season3_start_date
      season3_end_date
    needs:
    - process_dataset_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_adults_2018_2019.csv

  reinfections_adults_s3:
    run: r:latest analysis/exploratory_analyses/reinfections.R adults season3_start_date
      season3_end_date
    needs:
    - process_dataset_adults_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_adults_2018_2019.csv

  phenotype_sensitivity_adults_s4:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R adults season4_start_date
      season4_end_date
    needs:
    - process_dataset_adults_s4_specific_primary
    - process_dataset_adults_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_adults_2019_2020.csv

  multiple_episodes_adults_s4:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R adults season4_start_date
      season4_end_date
    needs:
    - process_dataset_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_adults_2019_2020.csv

  reinfections_adults_s4:
    run: r:latest analysis/exploratory_analyses/reinfections.R adults season4_start_date
      season4_end_date
    needs:
    - process_dataset_adults_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_adults_2019_2020.csv

  phenotype_sensitivity_adults_s5:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R adults season5_start_date
      season5_end_date
    needs:
    - process_dataset_adults_s5_specific_primary
    - process_dataset_adults_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_adults_2020_2021.csv

  multiple_episodes_adults_s5:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R adults season5_start_date
      season5_end_date
    needs:
    - process_dataset_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_adults_2020_2021.csv

  reinfections_adults_s5:
    run: r:latest analysis/exploratory_analyses/reinfections.R adults season5_start_date
      season5_end_date
    needs:
    - process_dataset_adults_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_adults_2020_2021.csv

  phenotype_sensitivity_adults_s6:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R adults season6_start_date
      season6_end_date
    needs:
    - process_dataset_adults_s6_specific_primary
    - process_dataset_adults_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_adults_2021_2022.csv

  multiple_episodes_adults_s6:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R adults season6_start_date
      season6_end_date
    needs:
    - process_dataset_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_adults_2021_2022.csv

  reinfections_adults_s6:
    run: r:latest analysis/exploratory_analyses/reinfections.R adults season6_start_date
      season6_end_date
    needs:
    - process_dataset_adults_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_adults_2021_2022.csv

  phenotype_sensitivity_adults_s7:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R adults season7_start_date
      season7_end_date
    needs:
    - process_dataset_adults_s7_specific_primary
    - process_dataset_adults_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_adults_2022_2023.csv

  multiple_episodes_adults_s7:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R adults season7_start_date
      season7_end_date
    needs:
    - process_dataset_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_adults_2022_2023.csv

  reinfections_adults_s7:
    run: r:latest analysis/exploratory_analyses/reinfections.R adults season7_start_date
      season7_end_date
    needs:
    - process_dataset_adults_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_adults_2022_2023.csv

  phenotype_sensitivity_adults_s8:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R adults season8_start_date
      season8_end_date
    needs:
    - process_dataset_adults_s8_specific_primary
    - process_dataset_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_adults_2023_2024.csv

  multiple_episodes_adults_s8:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R adults season8_start_date
      season8_end_date
    needs:
    - process_dataset_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_adults_2023_2024.csv

  reinfections_adults_s8:
    run: r:latest analysis/exploratory_analyses/reinfections.R adults season8_start_date
      season8_end_date
    needs:
    - process_dataset_adults_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_adults_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Children and Adolescents 
  ## # # # # # # # # # # # # # # # # # # # 

  phenotype_sensitivity_children_and_adolescents_s1:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R children_and_adolescents
      season1_start_date season1_end_date
    needs:
    - process_dataset_children_and_adolescents_s1_specific_primary
    - process_dataset_children_and_adolescents_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_children_and_adolescents_2016_2017.csv

  multiple_episodes_children_and_adolescents_s1:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R children_and_adolescents
      season1_start_date season1_end_date
    needs:
    - process_dataset_children_and_adolescents_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_children_and_adolescents_2016_2017.csv

  reinfections_children_and_adolescents_s1:
    run: r:latest analysis/exploratory_analyses/reinfections.R children_and_adolescents
      season1_start_date season1_end_date
    needs:
    - process_dataset_children_and_adolescents_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_children_and_adolescents_2016_2017.csv

  phenotype_sensitivity_children_and_adolescents_s2:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R children_and_adolescents
      season2_start_date season2_end_date
    needs:
    - process_dataset_children_and_adolescents_s2_specific_primary
    - process_dataset_children_and_adolescents_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_children_and_adolescents_2017_2018.csv

  multiple_episodes_children_and_adolescents_s2:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R children_and_adolescents
      season2_start_date season2_end_date
    needs:
    - process_dataset_children_and_adolescents_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_children_and_adolescents_2017_2018.csv

  reinfections_children_and_adolescents_s2:
    run: r:latest analysis/exploratory_analyses/reinfections.R children_and_adolescents
      season2_start_date season2_end_date
    needs:
    - process_dataset_children_and_adolescents_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_children_and_adolescents_2017_2018.csv

  phenotype_sensitivity_children_and_adolescents_s3:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R children_and_adolescents
      season3_start_date season3_end_date
    needs:
    - process_dataset_children_and_adolescents_s3_specific_primary
    - process_dataset_children_and_adolescents_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_children_and_adolescents_2018_2019.csv

  multiple_episodes_children_and_adolescents_s3:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R children_and_adolescents
      season3_start_date season3_end_date
    needs:
    - process_dataset_children_and_adolescents_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_children_and_adolescents_2018_2019.csv

  reinfections_children_and_adolescents_s3:
    run: r:latest analysis/exploratory_analyses/reinfections.R children_and_adolescents
      season3_start_date season3_end_date
    needs:
    - process_dataset_children_and_adolescents_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_children_and_adolescents_2018_2019.csv

  phenotype_sensitivity_children_and_adolescents_s4:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R children_and_adolescents
      season4_start_date season4_end_date
    needs:
    - process_dataset_children_and_adolescents_s4_specific_primary
    - process_dataset_children_and_adolescents_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_children_and_adolescents_2019_2020.csv

  multiple_episodes_children_and_adolescents_s4:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R children_and_adolescents
      season4_start_date season4_end_date
    needs:
    - process_dataset_children_and_adolescents_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_children_and_adolescents_2019_2020.csv

  reinfections_children_and_adolescents_s4:
    run: r:latest analysis/exploratory_analyses/reinfections.R children_and_adolescents
      season4_start_date season4_end_date
    needs:
    - process_dataset_children_and_adolescents_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_children_and_adolescents_2019_2020.csv

  phenotype_sensitivity_children_and_adolescents_s5:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R children_and_adolescents
      season5_start_date season5_end_date
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    - process_dataset_children_and_adolescents_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_children_and_adolescents_2020_2021.csv

  multiple_episodes_children_and_adolescents_s5:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R children_and_adolescents
      season5_start_date season5_end_date
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_children_and_adolescents_2020_2021.csv

  reinfections_children_and_adolescents_s5:
    run: r:latest analysis/exploratory_analyses/reinfections.R children_and_adolescents
      season5_start_date season5_end_date
    needs:
    - process_dataset_children_and_adolescents_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_children_and_adolescents_2020_2021.csv

  phenotype_sensitivity_children_and_adolescents_s6:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R children_and_adolescents
      season6_start_date season6_end_date
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    - process_dataset_children_and_adolescents_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_children_and_adolescents_2021_2022.csv

  multiple_episodes_children_and_adolescents_s6:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R children_and_adolescents
      season6_start_date season6_end_date
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_children_and_adolescents_2021_2022.csv

  reinfections_children_and_adolescents_s6:
    run: r:latest analysis/exploratory_analyses/reinfections.R children_and_adolescents
      season6_start_date season6_end_date
    needs:
    - process_dataset_children_and_adolescents_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_children_and_adolescents_2021_2022.csv

  phenotype_sensitivity_children_and_adolescents_s7:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R children_and_adolescents
      season7_start_date season7_end_date
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    - process_dataset_children_and_adolescents_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_children_and_adolescents_2022_2023.csv

  multiple_episodes_children_and_adolescents_s7:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R children_and_adolescents
      season7_start_date season7_end_date
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_children_and_adolescents_2022_2023.csv

  reinfections_children_and_adolescents_s7:
    run: r:latest analysis/exploratory_analyses/reinfections.R children_and_adolescents
      season7_start_date season7_end_date
    needs:
    - process_dataset_children_and_adolescents_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_children_and_adolescents_2022_2023.csv

  phenotype_sensitivity_children_and_adolescents_s8:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R children_and_adolescents
      season8_start_date season8_end_date
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    - process_dataset_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_children_and_adolescents_2023_2024.csv

  multiple_episodes_children_and_adolescents_s8:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R children_and_adolescents
      season8_start_date season8_end_date
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_children_and_adolescents_2023_2024.csv

  reinfections_children_and_adolescents_s8:
    run: r:latest analysis/exploratory_analyses/reinfections.R children_and_adolescents
      season8_start_date season8_end_date
    needs:
    - process_dataset_children_and_adolescents_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_children_and_adolescents_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Infants 
  ## # # # # # # # # # # # # # # # # # # # 

  phenotype_sensitivity_infants_s1:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants season1_start_date
      season1_end_date
    needs:
    - process_dataset_infants_s1_specific_primary
    - process_dataset_infants_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_2016_2017.csv

  multiple_episodes_infants_s1:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants season1_start_date
      season1_end_date
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_2016_2017.csv

  reinfections_infants_s1:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants season1_start_date
      season1_end_date
    needs:
    - process_dataset_infants_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_2016_2017.csv

  phenotype_sensitivity_infants_s2:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants season2_start_date
      season2_end_date
    needs:
    - process_dataset_infants_s2_specific_primary
    - process_dataset_infants_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_2017_2018.csv

  multiple_episodes_infants_s2:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants season2_start_date
      season2_end_date
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_2017_2018.csv

  reinfections_infants_s2:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants season2_start_date
      season2_end_date
    needs:
    - process_dataset_infants_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_2017_2018.csv

  phenotype_sensitivity_infants_s3:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants season3_start_date
      season3_end_date
    needs:
    - process_dataset_infants_s3_specific_primary
    - process_dataset_infants_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_2018_2019.csv

  multiple_episodes_infants_s3:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants season3_start_date
      season3_end_date
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_2018_2019.csv

  reinfections_infants_s3:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants season3_start_date
      season3_end_date
    needs:
    - process_dataset_infants_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_2018_2019.csv

  phenotype_sensitivity_infants_s4:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants season4_start_date
      season4_end_date
    needs:
    - process_dataset_infants_s4_specific_primary
    - process_dataset_infants_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_2019_2020.csv

  multiple_episodes_infants_s4:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants season4_start_date
      season4_end_date
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_2019_2020.csv

  reinfections_infants_s4:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants season4_start_date
      season4_end_date
    needs:
    - process_dataset_infants_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_2019_2020.csv

  phenotype_sensitivity_infants_s5:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants season5_start_date
      season5_end_date
    needs:
    - process_dataset_infants_s5_specific_primary
    - process_dataset_infants_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_2020_2021.csv

  multiple_episodes_infants_s5:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants season5_start_date
      season5_end_date
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_2020_2021.csv

  reinfections_infants_s5:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants season5_start_date
      season5_end_date
    needs:
    - process_dataset_infants_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_2020_2021.csv

  phenotype_sensitivity_infants_s6:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants season6_start_date
      season6_end_date
    needs:
    - process_dataset_infants_s6_specific_primary
    - process_dataset_infants_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_2021_2022.csv

  multiple_episodes_infants_s6:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants season6_start_date
      season6_end_date
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_2021_2022.csv

  reinfections_infants_s6:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants season6_start_date
      season6_end_date
    needs:
    - process_dataset_infants_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_2021_2022.csv

  phenotype_sensitivity_infants_s7:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants season7_start_date
      season7_end_date
    needs:
    - process_dataset_infants_s7_specific_primary
    - process_dataset_infants_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_2022_2023.csv

  multiple_episodes_infants_s7:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants season7_start_date
      season7_end_date
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_2022_2023.csv

  reinfections_infants_s7:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants season7_start_date
      season7_end_date
    needs:
    - process_dataset_infants_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_2022_2023.csv

  phenotype_sensitivity_infants_s8:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants season8_start_date
      season8_end_date
    needs:
    - process_dataset_infants_s8_specific_primary
    - process_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_2023_2024.csv

  multiple_episodes_infants_s8:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants season8_start_date
      season8_end_date
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_2023_2024.csv

  reinfections_infants_s8:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants season8_start_date
      season8_end_date
    needs:
    - process_dataset_infants_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Infants Subgroup 
  ## # # # # # # # # # # # # # # # # # # # 

  phenotype_sensitivity_infants_subgroup_s1:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants_subgroup
      season1_start_date season1_end_date
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    - process_dataset_infants_subgroup_s1_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_subgroup_2016_2017.csv

  multiple_episodes_infants_subgroup_s1:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants_subgroup
      season1_start_date season1_end_date
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_subgroup_2016_2017.csv

  reinfections_infants_subgroup_s1:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants_subgroup season1_start_date
      season1_end_date
    needs:
    - process_dataset_infants_subgroup_s1_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_subgroup_2016_2017.csv

  phenotype_sensitivity_infants_subgroup_s2:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants_subgroup
      season2_start_date season2_end_date
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    - process_dataset_infants_subgroup_s2_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_subgroup_2017_2018.csv

  multiple_episodes_infants_subgroup_s2:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants_subgroup
      season2_start_date season2_end_date
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_subgroup_2017_2018.csv

  reinfections_infants_subgroup_s2:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants_subgroup season2_start_date
      season2_end_date
    needs:
    - process_dataset_infants_subgroup_s2_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_subgroup_2017_2018.csv

  phenotype_sensitivity_infants_subgroup_s3:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants_subgroup
      season3_start_date season3_end_date
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    - process_dataset_infants_subgroup_s3_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_subgroup_2018_2019.csv

  multiple_episodes_infants_subgroup_s3:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants_subgroup
      season3_start_date season3_end_date
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_subgroup_2018_2019.csv

  reinfections_infants_subgroup_s3:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants_subgroup season3_start_date
      season3_end_date
    needs:
    - process_dataset_infants_subgroup_s3_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_subgroup_2018_2019.csv

  phenotype_sensitivity_infants_subgroup_s4:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants_subgroup
      season4_start_date season4_end_date
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    - process_dataset_infants_subgroup_s4_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_subgroup_2019_2020.csv

  multiple_episodes_infants_subgroup_s4:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants_subgroup
      season4_start_date season4_end_date
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_subgroup_2019_2020.csv

  reinfections_infants_subgroup_s4:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants_subgroup season4_start_date
      season4_end_date
    needs:
    - process_dataset_infants_subgroup_s4_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_subgroup_2019_2020.csv

  phenotype_sensitivity_infants_subgroup_s5:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants_subgroup
      season5_start_date season5_end_date
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    - process_dataset_infants_subgroup_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_subgroup_2020_2021.csv

  multiple_episodes_infants_subgroup_s5:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants_subgroup
      season5_start_date season5_end_date
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_subgroup_2020_2021.csv

  reinfections_infants_subgroup_s5:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants_subgroup season5_start_date
      season5_end_date
    needs:
    - process_dataset_infants_subgroup_s5_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_subgroup_2020_2021.csv

  phenotype_sensitivity_infants_subgroup_s6:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants_subgroup
      season6_start_date season6_end_date
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    - process_dataset_infants_subgroup_s6_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_subgroup_2021_2022.csv

  multiple_episodes_infants_subgroup_s6:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants_subgroup
      season6_start_date season6_end_date
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_subgroup_2021_2022.csv

  reinfections_infants_subgroup_s6:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants_subgroup season6_start_date
      season6_end_date
    needs:
    - process_dataset_infants_subgroup_s6_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_subgroup_2021_2022.csv

  phenotype_sensitivity_infants_subgroup_s7:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants_subgroup
      season7_start_date season7_end_date
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    - process_dataset_infants_subgroup_s7_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_subgroup_2022_2023.csv

  multiple_episodes_infants_subgroup_s7:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants_subgroup
      season7_start_date season7_end_date
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_subgroup_2022_2023.csv

  reinfections_infants_subgroup_s7:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants_subgroup season7_start_date
      season7_end_date
    needs:
    - process_dataset_infants_subgroup_s7_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_subgroup_2022_2023.csv

  phenotype_sensitivity_infants_subgroup_s8:
    run: r:latest analysis/exploratory_analyses/phenotype_sensitivity.R infants_subgroup
      season8_start_date season8_end_date
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    - process_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/phenotype_sensitivity_infants_subgroup_2023_2024.csv

  multiple_episodes_infants_subgroup_s8:
    run: r:latest analysis/exploratory_analyses/multiple_episodes.R infants_subgroup
      season8_start_date season8_end_date
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/multiple_episodes_infants_subgroup_2023_2024.csv

  reinfections_infants_subgroup_s8:
    run: r:latest analysis/exploratory_analyses/reinfections.R infants_subgroup season8_start_date
      season8_end_date
    needs:
    - process_dataset_infants_subgroup_s8_specific_primary
    outputs:
      moderately_sensitive:
        csv: output/exploratory/reinfections_infants_subgroup_2023_2024.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## SENSITIVITY ANALYSES: REDUCED SEASONS 
  ## # # # # # # # # # # # # # # # # # # # 
  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Older Adults, Codelist Type: Specific, 
  ## Investigation Type: Sensitivity 
  ## # # # # # # # # # # # # # # # # # # # 

  process_dataset_older_adults_s2_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/data_processing_sens.R older_adults
      season2_start_date season2_end_date specific primary sensitivity
    needs:
    - generate_dataset_older_adults_s2_specific_primary
    outputs:
      highly_sensitive:
        csv: output/data/input_processed_older_adults_2017_2018_specific_sensitivity.arrow

  describe_dataset_older_adults_s2_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/season_summary_sens.R older_adults
      season2_start_date season2_end_date specific sensitivity
    needs:
    - process_dataset_older_adults_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2017_2018_specific_sensitivity.csv

  analyse_dataset_older_adults_rsv_s2_specific_sensitivity:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R older_adults season2_start_date
      season2_end_date specific sensitivity
    needs:
    - process_dataset_older_adults_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_sensitivity/*_older_adults_2017_2018_specific_*.csv

  process_dataset_older_adults_s3_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/data_processing_sens.R older_adults
      season3_start_date season3_end_date specific primary sensitivity
    needs:
    - generate_dataset_older_adults_s3_specific_primary
    outputs:
      highly_sensitive:
        csv: output/data/input_processed_older_adults_2018_2019_specific_sensitivity.arrow

  describe_dataset_older_adults_s3_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/season_summary_sens.R older_adults
      season3_start_date season3_end_date specific sensitivity
    needs:
    - process_dataset_older_adults_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_older_adults_2018_2019_specific_sensitivity.csv

  analyse_dataset_older_adults_flu_s3_specific_sensitivity:
    run: r:latest analysis/outcome_flu/flu_models_master.R older_adults season3_start_date
      season3_end_date specific sensitivity
    needs:
    - process_dataset_older_adults_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_sensitivity/*_older_adults_2018_2019_specific_*.csv

  analyse_dataset_older_adults_flu_further_s3_specific_sensitivity:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R older_adults season3_start_date
      season3_end_date specific sensitivity
    needs:
    - process_dataset_older_adults_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_sensitivity/further_*_older_adults_2018_2019_specific_*.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Adults, Codelist Type: Specific, 
  ## Investigation Type: Sensitivity 
  ## # # # # # # # # # # # # # # # # # # # 

  process_dataset_adults_s2_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/data_processing_sens.R adults season2_start_date
      season2_end_date specific primary sensitivity
    needs:
    - generate_dataset_adults_s2_specific_primary
    outputs:
      highly_sensitive:
        csv: output/data/input_processed_adults_2017_2018_specific_sensitivity.arrow

  describe_dataset_adults_s2_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/season_summary_sens.R adults season2_start_date
      season2_end_date specific sensitivity
    needs:
    - process_dataset_adults_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2017_2018_specific_sensitivity.csv

  analyse_dataset_adults_rsv_s2_specific_sensitivity:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R adults season2_start_date
      season2_end_date specific sensitivity
    needs:
    - process_dataset_adults_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_sensitivity/*_adults_2017_2018_specific_*.csv

  process_dataset_adults_s3_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/data_processing_sens.R adults season3_start_date
      season3_end_date specific primary sensitivity
    needs:
    - generate_dataset_adults_s3_specific_primary
    outputs:
      highly_sensitive:
        csv: output/data/input_processed_adults_2018_2019_specific_sensitivity.arrow

  describe_dataset_adults_s3_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/season_summary_sens.R adults season3_start_date
      season3_end_date specific sensitivity
    needs:
    - process_dataset_adults_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_adults_2018_2019_specific_sensitivity.csv

  analyse_dataset_adults_flu_s3_specific_sensitivity:
    run: r:latest analysis/outcome_flu/flu_models_master.R adults season3_start_date
      season3_end_date specific sensitivity
    needs:
    - process_dataset_adults_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_sensitivity/*_adults_2018_2019_specific_*.csv

  analyse_dataset_adults_flu_further_s3_specific_sensitivity:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R adults season3_start_date
      season3_end_date specific sensitivity
    needs:
    - process_dataset_adults_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_sensitivity/further_*_adults_2018_2019_specific_*.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Children and Adolscents, Codelist Type: Specific, 
  ## Investigation Type: Sensitivity 
  ## # # # # # # # # # # # # # # # # # # # 

  process_dataset_children_and_adolescents_s2_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/data_processing_sens.R children_and_adolescents
      season2_start_date season2_end_date specific primary sensitivity
    needs:
    - generate_dataset_children_and_adolescents_s2_specific_primary
    outputs:
      highly_sensitive:
        csv: output/data/input_processed_children_and_adolescents_2017_2018_specific_sensitivity.arrow

  describe_dataset_children_and_adolescents_s2_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/season_summary_sens.R children_and_adolescents
      season2_start_date season2_end_date specific sensitivity
    needs:
    - process_dataset_children_and_adolescents_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2017_2018_specific_sensitivity.csv

  analyse_dataset_children_and_adolescents_rsv_s2_specific_sensitivity:
    run: r:latest analysis/outcome_rsv/rsv_models_master.R children_and_adolescents
      season2_start_date season2_end_date specific sensitivity
    needs:
    - process_dataset_children_and_adolescents_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_sensitivity/*_children_and_adolescents_2017_2018_specific_*.csv

  process_dataset_children_and_adolescents_s3_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/data_processing_sens.R children_and_adolescents
      season3_start_date season3_end_date specific primary sensitivity
    needs:
    - generate_dataset_children_and_adolescents_s3_specific_primary
    outputs:
      highly_sensitive:
        csv: output/data/input_processed_children_and_adolescents_2018_2019_specific_sensitivity.arrow

  describe_dataset_children_and_adolescents_s3_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/season_summary_sens.R children_and_adolescents
      season3_start_date season3_end_date specific sensitivity
    needs:
    - process_dataset_children_and_adolescents_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_children_and_adolescents_2018_2019_specific_sensitivity.csv

  analyse_dataset_children_and_adolescents_flu_s3_specific_sensitivity:
    run: r:latest analysis/outcome_flu/flu_models_master.R children_and_adolescents
      season3_start_date season3_end_date specific sensitivity
    needs:
    - process_dataset_children_and_adolescents_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_sensitivity/*_children_and_adolescents_2018_2019_specific_*.csv

  analyse_dataset_children_and_adolescents_flu_further_s3_specific_sensitivity:
    run: r:latest analysis/outcome_flu/further_flu_models_master.R children_and_adolescents
      season3_start_date season3_end_date specific sensitivity
    needs:
    - process_dataset_children_and_adolescents_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_sensitivity/further_*_children_and_adolescents_2018_2019_specific_*.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Infants, Codelist Type: Specific, 
  ## Investigation Type: Sensitivity 
  ## # # # # # # # # # # # # # # # # # # # 

  process_dataset_infants_s2_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/data_processing_sens.R infants season2_start_date
      season2_end_date specific primary sensitivity
    needs:
    - generate_dataset_infants_s2_specific_primary
    outputs:
      highly_sensitive:
        csv: output/data/input_processed_infants_2017_2018_specific_sensitivity.arrow

  describe_dataset_infants_s2_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/season_summary_sens.R infants season2_start_date
      season2_end_date specific sensitivity
    needs:
    - process_dataset_infants_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2017_2018_specific_sensitivity.csv

  analyse_dataset_infants_rsv_ethnicity_s2_specific_sensitivity:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants season2_start_date
      season2_end_date specific sensitivity
    needs:
    - process_dataset_infants_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_sensitivity/rsv_ethnicity_model_outputs_infants_2017_2018_specific_sensitivity.csv

  analyse_dataset_infants_rsv_ses_s2_specific_sensitivity:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants season2_start_date
      season2_end_date specific sensitivity
    needs:
    - process_dataset_infants_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_sensitivity/rsv_ses_model_outputs_infants_2017_2018_specific_sensitivity.csv

  analyse_dataset_infants_rsv_ethnicity_ses_s2_specific_sensitivity:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants season2_start_date
      season2_end_date specific sensitivity
    needs:
    - process_dataset_infants_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_sensitivity/rsv_ethnicity_ses_model_outputs_infants_2017_2018_specific_sensitivity.csv

  process_dataset_infants_s3_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/data_processing_sens.R infants season3_start_date
      season3_end_date specific primary sensitivity
    needs:
    - generate_dataset_infants_s3_specific_primary
    outputs:
      highly_sensitive:
        csv: output/data/input_processed_infants_2018_2019_specific_sensitivity.arrow

  describe_dataset_infants_s3_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/season_summary_sens.R infants season3_start_date
      season3_end_date specific sensitivity
    needs:
    - process_dataset_infants_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_2018_2019_specific_sensitivity.csv

  analyse_dataset_infants_flu_ethnicity_s3_specific_sensitivity:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants season3_start_date
      season3_end_date specific sensitivity
    needs:
    - process_dataset_infants_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_sensitivity/flu_ethnicity_model_outputs_infants_2018_2019_specific_sensitivity.csv

  analyse_dataset_infants_flu_ses_s3_specific_sensitivity:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants season3_start_date
      season3_end_date specific sensitivity
    needs:
    - process_dataset_infants_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_sensitivity/flu_ses_model_outputs_infants_2018_2019_specific_sensitivity.csv

  analyse_dataset_infants_flu_ethnicity_ses_s3_specific_sensitivity:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants season3_start_date
      season3_end_date specific sensitivity
    needs:
    - process_dataset_infants_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_sensitivity/flu_ethnicity_ses_model_outputs_infants_2018_2019_specific_sensitivity.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Cohort: Infants Subgroup, Codelist Type: Specific, 
  ## Investigation Type: Sensitivity 
  ## # # # # # # # # # # # # # # # # # # # 

  process_dataset_infants_subgroup_s2_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/data_processing_sens.R infants_subgroup
      season2_start_date season2_end_date specific primary sensitivity
    needs:
    - generate_dataset_infants_subgroup_s2_specific_primary
    - process_mothers_s2_specific_primary
    - generate_maternal_characteristics_s2_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2017_2018_specific_sensitivity.arrow

  describe_dataset_infants_subgroup_s2_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/season_summary_sens.R infants_subgroup
      season2_start_date season2_end_date specific sensitivity
    needs:
    - process_dataset_infants_subgroup_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2017_2018_specific_sensitivity.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_s2_specific_sensitivity:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_models.R infants_subgroup season2_start_date
      season2_end_date specific sensitivity
    needs:
    - process_dataset_infants_subgroup_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_sensitivity/rsv_ethnicity_model_outputs_infants_subgroup_2017_2018_specific_sensitivity.csv

  analyse_dataset_infants_subgroup_rsv_ses_s2_specific_sensitivity:
    run: r:latest analysis/outcome_rsv/rsv_ses_models.R infants_subgroup season2_start_date
      season2_end_date specific sensitivity
    needs:
    - process_dataset_infants_subgroup_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_sensitivity/rsv_ses_model_outputs_infants_subgroup_2017_2018_specific_sensitivity.csv

  analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s2_specific_sensitivity:
    run: r:latest analysis/outcome_rsv/rsv_ethnicity_ses_models.R infants_subgroup
      season2_start_date season2_end_date specific sensitivity
    needs:
    - process_dataset_infants_subgroup_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/rsv_sensitivity/rsv_ethnicity_ses_model_outputs_infants_subgroup_2017_2018_specific_sensitivity.csv

  process_dataset_infants_subgroup_s3_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/data_processing_sens.R infants_subgroup
      season3_start_date season3_end_date specific primary sensitivity
    needs:
    - generate_dataset_infants_subgroup_s3_specific_primary
    - process_mothers_s3_specific_primary
    - generate_maternal_characteristics_s3_specific_primary
    outputs:
      highly_sensitive:
        dataset: output/data/input_processed_infants_subgroup_2018_2019_specific_sensitivity.arrow

  describe_dataset_infants_subgroup_s3_specific_sensitivity:
    run: r:latest analysis/sensitivity_analyses/season_summary_sens.R infants_subgroup
      season3_start_date season3_end_date specific sensitivity
    needs:
    - process_dataset_infants_subgroup_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/rates/rates_infants_subgroup_2018_2019_specific_sensitivity.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_s3_specific_sensitivity:
    run: r:latest analysis/outcome_flu/flu_ethnicity_models.R infants_subgroup season3_start_date
      season3_end_date specific sensitivity
    needs:
    - process_dataset_infants_subgroup_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_sensitivity/flu_ethnicity_model_outputs_infants_subgroup_2018_2019_specific_sensitivity.csv

  analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s3_specific_sensitivity:
    run: r:latest analysis/outcome_overall_and_all_cause/overall_and_all_cause_ethnicity_models.R
      infants_subgroup season3_start_date season3_end_date specific sensitivity
    needs:
    - process_dataset_infants_subgroup_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/overall_and_all_cause_sensitivity/overall_and_all_cause_ethnicity_model_outputs_infants_subgroup_2018_2019_specific_sensitivity.csv

  analyse_dataset_infants_subgroup_flu_ses_s3_specific_sensitivity:
    run: r:latest analysis/outcome_flu/flu_ses_models.R infants_subgroup season3_start_date
      season3_end_date specific sensitivity
    needs:
    - process_dataset_infants_subgroup_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_sensitivity/flu_ses_model_outputs_infants_subgroup_2018_2019_specific_sensitivity.csv

  analyse_dataset_infants_subgroup_flu_ethnicity_ses_s3_specific_sensitivity:
    run: r:latest analysis/outcome_flu/flu_ethnicity_ses_models.R infants_subgroup
      season3_start_date season3_end_date specific sensitivity
    needs:
    - process_dataset_infants_subgroup_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/results/models/flu_sensitivity/flu_ethnicity_ses_model_outputs_infants_subgroup_2018_2019_specific_sensitivity.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## Files for release 
  ## # # # # # # # # # # # # # # # # # # # 

  collate_flow_chart_tables_older_adults:
    run: r:latest analysis/collation_code/flow_chart_table_collation.R older_adults
    needs:
    - process_flow_chart_data_older_adults_s1
    - process_flow_chart_data_older_adults_s2
    - process_flow_chart_data_older_adults_s3
    - process_flow_chart_data_older_adults_s4
    - process_flow_chart_data_older_adults_s5
    - process_flow_chart_data_older_adults_s6
    - process_flow_chart_data_older_adults_s7
    - process_flow_chart_data_older_adults_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/older_adults_flow_chart_collated.csv

  collate_table1_tables_older_adults:
    run: r:latest analysis/collation_code/table1_table_collation.R older_adults
    needs:
    - describe_cohort_older_adults_s1
    - describe_cohort_older_adults_s2
    - describe_cohort_older_adults_s3
    - describe_cohort_older_adults_s4
    - describe_cohort_older_adults_s5
    - describe_cohort_older_adults_s6
    - describe_cohort_older_adults_s7
    - describe_cohort_older_adults_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/older_adults_table1_collated.csv

  collate_secondary_table1_tables_older_adults:
    run: r:latest analysis/collation_code/secondary_table1_table_collation.R older_adults
    needs:
    - describe_cohort_secondary_older_adults_s2
    - describe_cohort_secondary_older_adults_s3
    - describe_cohort_secondary_older_adults_s5
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/older_adults_secondary_table1_collated.csv

  collate_rates_tables_primary_older_adults:
    run: r:latest analysis/collation_code/rates_table_primary_collation.R older_adults
    needs:
    - describe_dataset_older_adults_s1_specific_primary
    - describe_dataset_older_adults_s2_specific_primary
    - describe_dataset_older_adults_s3_specific_primary
    - describe_dataset_older_adults_s4_specific_primary
    - describe_dataset_older_adults_s5_specific_primary
    - describe_dataset_older_adults_s6_specific_primary
    - describe_dataset_older_adults_s7_specific_primary
    - describe_dataset_older_adults_s8_specific_primary
    - describe_dataset_older_adults_s1_sensitive_primary
    - describe_dataset_older_adults_s2_sensitive_primary
    - describe_dataset_older_adults_s3_sensitive_primary
    - describe_dataset_older_adults_s4_sensitive_primary
    - describe_dataset_older_adults_s5_sensitive_primary
    - describe_dataset_older_adults_s6_sensitive_primary
    - describe_dataset_older_adults_s7_sensitive_primary
    - describe_dataset_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/older_adults_rates_primary_collated.csv

  collate_rates_tables_secondary_older_adults:
    run: r:latest analysis/collation_code/rates_table_secondary_collation.R older_adults
    needs:
    - describe_dataset_older_adults_s2_specific_secondary
    - describe_dataset_older_adults_s3_specific_secondary
    - describe_dataset_older_adults_s5_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/older_adults_rates_secondary_collated.csv

  collate_rates_tables_sensitivity_older_adults:
    run: r:latest analysis/collation_code/rates_table_sensitivity_collation.R older_adults
    needs:
    - describe_dataset_older_adults_s2_specific_sensitivity
    - describe_dataset_older_adults_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/older_adults_rates_sensitivity_collated.csv

  collate_rates_tables_weekly_primary_older_adults:
    run: r:latest analysis/collation_code/rates_table_weekly_primary_collation.R older_adults
    needs:
    - calculate_rates_weekly_older_adults_s1_specific_primary
    - calculate_rates_weekly_older_adults_s2_specific_primary
    - calculate_rates_weekly_older_adults_s3_specific_primary
    - calculate_rates_weekly_older_adults_s4_specific_primary
    - calculate_rates_weekly_older_adults_s5_specific_primary
    - calculate_rates_weekly_older_adults_s6_specific_primary
    - calculate_rates_weekly_older_adults_s7_specific_primary
    - calculate_rates_weekly_older_adults_s8_specific_primary
    - calculate_rates_weekly_older_adults_s1_sensitive_primary
    - calculate_rates_weekly_older_adults_s2_sensitive_primary
    - calculate_rates_weekly_older_adults_s3_sensitive_primary
    - calculate_rates_weekly_older_adults_s4_sensitive_primary
    - calculate_rates_weekly_older_adults_s5_sensitive_primary
    - calculate_rates_weekly_older_adults_s6_sensitive_primary
    - calculate_rates_weekly_older_adults_s7_sensitive_primary
    - calculate_rates_weekly_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/over_time/*_older_adults_rates_weekly_primary_collated_*.csv

  collate_rates_tables_rolling_primary_older_adults:
    run: r:latest analysis/collation_code/rates_table_rolling_primary_collation.R
      older_adults
    needs:
    - calculate_rates_rolling_older_adults_s1_specific_primary
    - calculate_rates_rolling_older_adults_s2_specific_primary
    - calculate_rates_rolling_older_adults_s3_specific_primary
    - calculate_rates_rolling_older_adults_s4_specific_primary
    - calculate_rates_rolling_older_adults_s5_specific_primary
    - calculate_rates_rolling_older_adults_s6_specific_primary
    - calculate_rates_rolling_older_adults_s7_specific_primary
    - calculate_rates_rolling_older_adults_s8_specific_primary
    - calculate_rates_rolling_older_adults_s1_sensitive_primary
    - calculate_rates_rolling_older_adults_s2_sensitive_primary
    - calculate_rates_rolling_older_adults_s3_sensitive_primary
    - calculate_rates_rolling_older_adults_s4_sensitive_primary
    - calculate_rates_rolling_older_adults_s5_sensitive_primary
    - calculate_rates_rolling_older_adults_s6_sensitive_primary
    - calculate_rates_rolling_older_adults_s7_sensitive_primary
    - calculate_rates_rolling_older_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/over_time/*_older_adults_rates_rolling_primary_collated_*.csv

  collate_rsv_model_outputs_tables_older_adults:
    run: r:latest analysis/collation_code/rsv_model_outputs_table_collation.R older_adults
    needs:
    - analyse_dataset_older_adults_rsv_s1_specific_primary
    - analyse_dataset_older_adults_rsv_s2_specific_primary
    - analyse_dataset_older_adults_rsv_s3_specific_primary
    - analyse_dataset_older_adults_rsv_s4_specific_primary
    - analyse_dataset_older_adults_rsv_s5_specific_primary
    - analyse_dataset_older_adults_rsv_s6_specific_primary
    - analyse_dataset_older_adults_rsv_s7_specific_primary
    - analyse_dataset_older_adults_rsv_s8_specific_primary
    - analyse_dataset_older_adults_rsv_s1_sensitive_primary
    - analyse_dataset_older_adults_rsv_s2_sensitive_primary
    - analyse_dataset_older_adults_rsv_s3_sensitive_primary
    - analyse_dataset_older_adults_rsv_s4_sensitive_primary
    - analyse_dataset_older_adults_rsv_s5_sensitive_primary
    - analyse_dataset_older_adults_rsv_s6_sensitive_primary
    - analyse_dataset_older_adults_rsv_s7_sensitive_primary
    - analyse_dataset_older_adults_rsv_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/older_adults_rsv_model_outputs_collated.csv

  collate_flu_model_outputs_tables_older_adults:
    run: r:latest analysis/collation_code/flu_model_outputs_table_collation.R older_adults
    needs:
    - analyse_dataset_older_adults_flu_s1_specific_primary
    - analyse_dataset_older_adults_flu_s2_specific_primary
    - analyse_dataset_older_adults_flu_s3_specific_primary
    - analyse_dataset_older_adults_flu_s4_specific_primary
    - analyse_dataset_older_adults_flu_s5_specific_primary
    - analyse_dataset_older_adults_flu_s6_specific_primary
    - analyse_dataset_older_adults_flu_s7_specific_primary
    - analyse_dataset_older_adults_flu_s8_specific_primary
    - analyse_dataset_older_adults_flu_s1_sensitive_primary
    - analyse_dataset_older_adults_flu_s2_sensitive_primary
    - analyse_dataset_older_adults_flu_s3_sensitive_primary
    - analyse_dataset_older_adults_flu_s4_sensitive_primary
    - analyse_dataset_older_adults_flu_s5_sensitive_primary
    - analyse_dataset_older_adults_flu_s6_sensitive_primary
    - analyse_dataset_older_adults_flu_s7_sensitive_primary
    - analyse_dataset_older_adults_flu_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/older_adults_flu_model_outputs_collated.csv

  collate_further_flu_model_outputs_tables_older_adults:
    run: r:latest analysis/collation_code/further_flu_model_outputs_table_collation.R
      older_adults
    needs:
    - analyse_dataset_older_adults_flu_further_s1_specific_primary
    - analyse_dataset_older_adults_flu_further_s2_specific_primary
    - analyse_dataset_older_adults_flu_further_s3_specific_primary
    - analyse_dataset_older_adults_flu_further_s4_specific_primary
    - analyse_dataset_older_adults_flu_further_s5_specific_primary
    - analyse_dataset_older_adults_flu_further_s6_specific_primary
    - analyse_dataset_older_adults_flu_further_s7_specific_primary
    - analyse_dataset_older_adults_flu_further_s8_specific_primary
    - analyse_dataset_older_adults_flu_further_s1_sensitive_primary
    - analyse_dataset_older_adults_flu_further_s2_sensitive_primary
    - analyse_dataset_older_adults_flu_further_s3_sensitive_primary
    - analyse_dataset_older_adults_flu_further_s4_sensitive_primary
    - analyse_dataset_older_adults_flu_further_s5_sensitive_primary
    - analyse_dataset_older_adults_flu_further_s6_sensitive_primary
    - analyse_dataset_older_adults_flu_further_s7_sensitive_primary
    - analyse_dataset_older_adults_flu_further_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/older_adults_further_flu_model_outputs_collated.csv

  collate_covid_model_outputs_tables_older_adults:
    run: r:latest analysis/collation_code/covid_model_outputs_table_collation.R older_adults
    needs:
    - analyse_dataset_older_adults_covid_s4_specific_primary
    - analyse_dataset_older_adults_covid_s5_specific_primary
    - analyse_dataset_older_adults_covid_s6_specific_primary
    - analyse_dataset_older_adults_covid_s7_specific_primary
    - analyse_dataset_older_adults_covid_s4_sensitive_primary
    - analyse_dataset_older_adults_covid_s5_sensitive_primary
    - analyse_dataset_older_adults_covid_s6_sensitive_primary
    - analyse_dataset_older_adults_covid_s7_sensitive_primary
    - analyse_dataset_older_adults_covid_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/older_adults_covid_model_outputs_collated.csv

  collate_further_covid_model_outputs_tables_older_adults:
    run: r:latest analysis/collation_code/further_covid_model_outputs_table_collation.R
      older_adults
    needs:
    - analyse_dataset_older_adults_covid_further_s5_specific_primary
    - analyse_dataset_older_adults_covid_further_s6_specific_primary
    - analyse_dataset_older_adults_covid_further_s7_specific_primary
    - analyse_dataset_older_adults_covid_further_s5_sensitive_primary
    - analyse_dataset_older_adults_covid_further_s6_sensitive_primary
    - analyse_dataset_older_adults_covid_further_s7_sensitive_primary
    - analyse_dataset_older_adults_covid_further_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/older_adults_further_covid_model_outputs_collated.csv

  collate_overall_and_all_cause_model_outputs_tables_older_adults:
    run: r:latest analysis/collation_code/overall_and_all_cause_model_outputs_table_collation.R
      older_adults
    needs:
    - analyse_dataset_older_adults_overall_and_all_cause_s1_specific_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s2_specific_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s3_specific_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s4_specific_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s5_specific_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s6_specific_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s7_specific_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s8_specific_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s1_sensitive_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s2_sensitive_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s3_sensitive_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s4_sensitive_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s5_sensitive_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s6_sensitive_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s7_sensitive_primary
    - analyse_dataset_older_adults_overall_and_all_cause_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/older_adults_overall_and_all_cause_model_outputs_collated.csv

  collate_rsv_model_outputs_tables_older_adults_secondary:
    run: r:latest analysis/collation_code/rsv_model_outputs_table_collation_secondary.R
      older_adults
    needs:
    - analyse_dataset_older_adults_rsv_s2_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/secondary/older_adults_rsv_model_outputs_collated_secondary.csv

  collate_flu_model_outputs_tables_older_adults_secondary:
    run: r:latest analysis/collation_code/flu_model_outputs_table_collation_secondary.R
      older_adults
    needs:
    - analyse_dataset_older_adults_flu_s3_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/secondary/older_adults_flu_model_outputs_collated_secondary.csv

  collate_further_flu_model_outputs_tables_older_adults_secondary:
    run: r:latest analysis/collation_code/further_flu_model_outputs_table_collation_secondary.R
      older_adults
    needs:
    - analyse_dataset_older_adults_flu_further_s3_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/secondary/older_adults_further_flu_model_outputs_collated_secondary.csv

  collate_covid_model_outputs_tables_older_adults_secondary:
    run: r:latest analysis/collation_code/covid_model_outputs_table_collation_secondary.R
      older_adults
    needs:
    - analyse_dataset_older_adults_covid_s5_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/secondary/older_adults_covid_model_outputs_collated_secondary.csv

  collate_further_covid_model_outputs_tables_older_adults_secondary:
    run: r:latest analysis/collation_code/further_covid_model_outputs_table_collation_secondary.R
      older_adults
    needs:
    - analyse_dataset_older_adults_covid_further_s5_specific_secondary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/secondary/older_adults_further_covid_model_outputs_collated_secondary.csv

  collate_phenotype_sensitivity_tables_older_adults:
    run: r:latest analysis/collation_code/phenotype_sensitivity_table_collation.R
      older_adults
    needs:
    - phenotype_sensitivity_older_adults_s1
    - phenotype_sensitivity_older_adults_s2
    - phenotype_sensitivity_older_adults_s3
    - phenotype_sensitivity_older_adults_s4
    - phenotype_sensitivity_older_adults_s5
    - phenotype_sensitivity_older_adults_s6
    - phenotype_sensitivity_older_adults_s7
    - phenotype_sensitivity_older_adults_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/older_adults_phenotype_sensitivity_collated.csv

  collate_multiple_episodes_tables_older_adults:
    run: r:latest analysis/collation_code/multiple_episodes_table_collation.R older_adults
    needs:
    - multiple_episodes_older_adults_s1
    - multiple_episodes_older_adults_s2
    - multiple_episodes_older_adults_s3
    - multiple_episodes_older_adults_s4
    - multiple_episodes_older_adults_s5
    - multiple_episodes_older_adults_s6
    - multiple_episodes_older_adults_s7
    - multiple_episodes_older_adults_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/older_adults_multiple_episodes_collated.csv

  collate_reinfections_tables_older_adults:
    run: r:latest analysis/collation_code/reinfections_table_collation.R older_adults
    needs:
    - reinfections_older_adults_s1
    - reinfections_older_adults_s2
    - reinfections_older_adults_s3
    - reinfections_older_adults_s4
    - reinfections_older_adults_s5
    - reinfections_older_adults_s6
    - reinfections_older_adults_s7
    - reinfections_older_adults_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/older_adults_reinfections_collated.csv

  collate_rsv_model_outputs_tables_older_adults_sensitivity:
    run: r:latest analysis/collation_code/rsv_model_outputs_table_collation_sensitivity.R
      older_adults
    needs:
    - analyse_dataset_older_adults_rsv_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/sensitivity/older_adults_rsv_model_outputs_collated_sensitivity.csv

  collate_flu_model_outputs_tables_older_adults_sensitivity:
    run: r:latest analysis/collation_code/flu_model_outputs_table_collation_sensitivity.R
      older_adults
    needs:
    - analyse_dataset_older_adults_flu_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/sensitivity/older_adults_flu_model_outputs_collated_sensitivity.csv

  collate_further_flu_model_outputs_tables_older_adults_sensitivity:
    run: r:latest analysis/collation_code/further_flu_model_outputs_table_collation_sensitivity.R
      older_adults
    needs:
    - analyse_dataset_older_adults_flu_further_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/sensitivity/older_adults_further_flu_model_outputs_collated_sensitivity.csv

  collate_flow_chart_tables_adults:
    run: r:latest analysis/collation_code/flow_chart_table_collation.R adults
    needs:
    - process_flow_chart_data_adults_s1
    - process_flow_chart_data_adults_s2
    - process_flow_chart_data_adults_s3
    - process_flow_chart_data_adults_s4
    - process_flow_chart_data_adults_s5
    - process_flow_chart_data_adults_s6
    - process_flow_chart_data_adults_s7
    - process_flow_chart_data_adults_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/adults_flow_chart_collated.csv

  collate_table1_tables_adults:
    run: r:latest analysis/collation_code/table1_table_collation.R adults
    needs:
    - describe_cohort_adults_s1
    - describe_cohort_adults_s2
    - describe_cohort_adults_s3
    - describe_cohort_adults_s4
    - describe_cohort_adults_s5
    - describe_cohort_adults_s6
    - describe_cohort_adults_s7
    - describe_cohort_adults_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/adults_table1_collated.csv

  collate_rates_tables_primary_adults:
    run: r:latest analysis/collation_code/rates_table_primary_collation.R adults
    needs:
    - describe_dataset_adults_s1_specific_primary
    - describe_dataset_adults_s2_specific_primary
    - describe_dataset_adults_s3_specific_primary
    - describe_dataset_adults_s4_specific_primary
    - describe_dataset_adults_s5_specific_primary
    - describe_dataset_adults_s6_specific_primary
    - describe_dataset_adults_s7_specific_primary
    - describe_dataset_adults_s8_specific_primary
    - describe_dataset_adults_s1_sensitive_primary
    - describe_dataset_adults_s2_sensitive_primary
    - describe_dataset_adults_s3_sensitive_primary
    - describe_dataset_adults_s4_sensitive_primary
    - describe_dataset_adults_s5_sensitive_primary
    - describe_dataset_adults_s6_sensitive_primary
    - describe_dataset_adults_s7_sensitive_primary
    - describe_dataset_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/adults_rates_primary_collated.csv

  collate_rates_tables_sensitivity_adults:
    run: r:latest analysis/collation_code/rates_table_sensitivity_collation.R adults
    needs:
    - describe_dataset_adults_s2_specific_sensitivity
    - describe_dataset_adults_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/adults_rates_sensitivity_collated.csv

  collate_rates_tables_weekly_primary_adults:
    run: r:latest analysis/collation_code/rates_table_weekly_primary_collation.R adults
    needs:
    - calculate_rates_weekly_adults_s1_specific_primary
    - calculate_rates_weekly_adults_s2_specific_primary
    - calculate_rates_weekly_adults_s3_specific_primary
    - calculate_rates_weekly_adults_s4_specific_primary
    - calculate_rates_weekly_adults_s5_specific_primary
    - calculate_rates_weekly_adults_s6_specific_primary
    - calculate_rates_weekly_adults_s7_specific_primary
    - calculate_rates_weekly_adults_s8_specific_primary
    - calculate_rates_weekly_adults_s1_sensitive_primary
    - calculate_rates_weekly_adults_s2_sensitive_primary
    - calculate_rates_weekly_adults_s3_sensitive_primary
    - calculate_rates_weekly_adults_s4_sensitive_primary
    - calculate_rates_weekly_adults_s5_sensitive_primary
    - calculate_rates_weekly_adults_s6_sensitive_primary
    - calculate_rates_weekly_adults_s7_sensitive_primary
    - calculate_rates_weekly_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/over_time/*_adults_rates_weekly_primary_collated_*.csv

  collate_rates_tables_rolling_primary_adults:
    run: r:latest analysis/collation_code/rates_table_rolling_primary_collation.R
      adults
    needs:
    - calculate_rates_rolling_adults_s1_specific_primary
    - calculate_rates_rolling_adults_s2_specific_primary
    - calculate_rates_rolling_adults_s3_specific_primary
    - calculate_rates_rolling_adults_s4_specific_primary
    - calculate_rates_rolling_adults_s5_specific_primary
    - calculate_rates_rolling_adults_s6_specific_primary
    - calculate_rates_rolling_adults_s7_specific_primary
    - calculate_rates_rolling_adults_s8_specific_primary
    - calculate_rates_rolling_adults_s1_sensitive_primary
    - calculate_rates_rolling_adults_s2_sensitive_primary
    - calculate_rates_rolling_adults_s3_sensitive_primary
    - calculate_rates_rolling_adults_s4_sensitive_primary
    - calculate_rates_rolling_adults_s5_sensitive_primary
    - calculate_rates_rolling_adults_s6_sensitive_primary
    - calculate_rates_rolling_adults_s7_sensitive_primary
    - calculate_rates_rolling_adults_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/over_time/*_adults_rates_rolling_primary_collated_*.csv

  collate_rsv_model_outputs_tables_adults:
    run: r:latest analysis/collation_code/rsv_model_outputs_table_collation.R adults
    needs:
    - analyse_dataset_adults_rsv_s1_specific_primary
    - analyse_dataset_adults_rsv_s2_specific_primary
    - analyse_dataset_adults_rsv_s3_specific_primary
    - analyse_dataset_adults_rsv_s4_specific_primary
    - analyse_dataset_adults_rsv_s5_specific_primary
    - analyse_dataset_adults_rsv_s6_specific_primary
    - analyse_dataset_adults_rsv_s7_specific_primary
    - analyse_dataset_adults_rsv_s8_specific_primary
    - analyse_dataset_adults_rsv_s1_sensitive_primary
    - analyse_dataset_adults_rsv_s2_sensitive_primary
    - analyse_dataset_adults_rsv_s3_sensitive_primary
    - analyse_dataset_adults_rsv_s4_sensitive_primary
    - analyse_dataset_adults_rsv_s5_sensitive_primary
    - analyse_dataset_adults_rsv_s6_sensitive_primary
    - analyse_dataset_adults_rsv_s7_sensitive_primary
    - analyse_dataset_adults_rsv_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/adults_rsv_model_outputs_collated.csv

  collate_flu_model_outputs_tables_adults:
    run: r:latest analysis/collation_code/flu_model_outputs_table_collation.R adults
    needs:
    - analyse_dataset_adults_flu_s1_specific_primary
    - analyse_dataset_adults_flu_s2_specific_primary
    - analyse_dataset_adults_flu_s3_specific_primary
    - analyse_dataset_adults_flu_s4_specific_primary
    - analyse_dataset_adults_flu_s5_specific_primary
    - analyse_dataset_adults_flu_s6_specific_primary
    - analyse_dataset_adults_flu_s7_specific_primary
    - analyse_dataset_adults_flu_s8_specific_primary
    - analyse_dataset_adults_flu_s1_sensitive_primary
    - analyse_dataset_adults_flu_s2_sensitive_primary
    - analyse_dataset_adults_flu_s3_sensitive_primary
    - analyse_dataset_adults_flu_s4_sensitive_primary
    - analyse_dataset_adults_flu_s5_sensitive_primary
    - analyse_dataset_adults_flu_s6_sensitive_primary
    - analyse_dataset_adults_flu_s7_sensitive_primary
    - analyse_dataset_adults_flu_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/adults_flu_model_outputs_collated.csv

  collate_further_flu_model_outputs_tables_adults:
    run: r:latest analysis/collation_code/further_flu_model_outputs_table_collation.R
      adults
    needs:
    - analyse_dataset_adults_flu_further_s1_specific_primary
    - analyse_dataset_adults_flu_further_s2_specific_primary
    - analyse_dataset_adults_flu_further_s3_specific_primary
    - analyse_dataset_adults_flu_further_s4_specific_primary
    - analyse_dataset_adults_flu_further_s5_specific_primary
    - analyse_dataset_adults_flu_further_s6_specific_primary
    - analyse_dataset_adults_flu_further_s7_specific_primary
    - analyse_dataset_adults_flu_further_s8_specific_primary
    - analyse_dataset_adults_flu_further_s1_sensitive_primary
    - analyse_dataset_adults_flu_further_s2_sensitive_primary
    - analyse_dataset_adults_flu_further_s3_sensitive_primary
    - analyse_dataset_adults_flu_further_s4_sensitive_primary
    - analyse_dataset_adults_flu_further_s5_sensitive_primary
    - analyse_dataset_adults_flu_further_s6_sensitive_primary
    - analyse_dataset_adults_flu_further_s7_sensitive_primary
    - analyse_dataset_adults_flu_further_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/adults_further_flu_model_outputs_collated.csv

  collate_covid_model_outputs_tables_adults:
    run: r:latest analysis/collation_code/covid_model_outputs_table_collation.R adults
    needs:
    - analyse_dataset_adults_covid_s4_specific_primary
    - analyse_dataset_adults_covid_s5_specific_primary
    - analyse_dataset_adults_covid_s6_specific_primary
    - analyse_dataset_adults_covid_s7_specific_primary
    - analyse_dataset_adults_covid_s4_sensitive_primary
    - analyse_dataset_adults_covid_s5_sensitive_primary
    - analyse_dataset_adults_covid_s6_sensitive_primary
    - analyse_dataset_adults_covid_s7_sensitive_primary
    - analyse_dataset_adults_covid_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/adults_covid_model_outputs_collated.csv

  collate_further_covid_model_outputs_tables_adults:
    run: r:latest analysis/collation_code/further_covid_model_outputs_table_collation.R
      adults
    needs:
    - analyse_dataset_adults_covid_further_s5_specific_primary
    - analyse_dataset_adults_covid_further_s6_specific_primary
    - analyse_dataset_adults_covid_further_s7_specific_primary
    - analyse_dataset_adults_covid_further_s5_sensitive_primary
    - analyse_dataset_adults_covid_further_s6_sensitive_primary
    - analyse_dataset_adults_covid_further_s7_sensitive_primary
    - analyse_dataset_adults_covid_further_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/adults_further_covid_model_outputs_collated.csv

  collate_overall_and_all_cause_model_outputs_tables_adults:
    run: r:latest analysis/collation_code/overall_and_all_cause_model_outputs_table_collation.R
      adults
    needs:
    - analyse_dataset_adults_overall_and_all_cause_s1_specific_primary
    - analyse_dataset_adults_overall_and_all_cause_s2_specific_primary
    - analyse_dataset_adults_overall_and_all_cause_s3_specific_primary
    - analyse_dataset_adults_overall_and_all_cause_s4_specific_primary
    - analyse_dataset_adults_overall_and_all_cause_s5_specific_primary
    - analyse_dataset_adults_overall_and_all_cause_s6_specific_primary
    - analyse_dataset_adults_overall_and_all_cause_s7_specific_primary
    - analyse_dataset_adults_overall_and_all_cause_s8_specific_primary
    - analyse_dataset_adults_overall_and_all_cause_s1_sensitive_primary
    - analyse_dataset_adults_overall_and_all_cause_s2_sensitive_primary
    - analyse_dataset_adults_overall_and_all_cause_s3_sensitive_primary
    - analyse_dataset_adults_overall_and_all_cause_s4_sensitive_primary
    - analyse_dataset_adults_overall_and_all_cause_s5_sensitive_primary
    - analyse_dataset_adults_overall_and_all_cause_s6_sensitive_primary
    - analyse_dataset_adults_overall_and_all_cause_s7_sensitive_primary
    - analyse_dataset_adults_overall_and_all_cause_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/adults_overall_and_all_cause_model_outputs_collated.csv

  collate_phenotype_sensitivity_tables_adults:
    run: r:latest analysis/collation_code/phenotype_sensitivity_table_collation.R
      adults
    needs:
    - phenotype_sensitivity_adults_s1
    - phenotype_sensitivity_adults_s2
    - phenotype_sensitivity_adults_s3
    - phenotype_sensitivity_adults_s4
    - phenotype_sensitivity_adults_s5
    - phenotype_sensitivity_adults_s6
    - phenotype_sensitivity_adults_s7
    - phenotype_sensitivity_adults_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/adults_phenotype_sensitivity_collated.csv

  collate_multiple_episodes_tables_adults:
    run: r:latest analysis/collation_code/multiple_episodes_table_collation.R adults
    needs:
    - multiple_episodes_adults_s1
    - multiple_episodes_adults_s2
    - multiple_episodes_adults_s3
    - multiple_episodes_adults_s4
    - multiple_episodes_adults_s5
    - multiple_episodes_adults_s6
    - multiple_episodes_adults_s7
    - multiple_episodes_adults_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/adults_multiple_episodes_collated.csv

  collate_reinfections_tables_adults:
    run: r:latest analysis/collation_code/reinfections_table_collation.R adults
    needs:
    - reinfections_adults_s1
    - reinfections_adults_s2
    - reinfections_adults_s3
    - reinfections_adults_s4
    - reinfections_adults_s5
    - reinfections_adults_s6
    - reinfections_adults_s7
    - reinfections_adults_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/adults_reinfections_collated.csv

  collate_rsv_model_outputs_tables_adults_sensitivity:
    run: r:latest analysis/collation_code/rsv_model_outputs_table_collation_sensitivity.R
      adults
    needs:
    - analyse_dataset_adults_rsv_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/sensitivity/adults_rsv_model_outputs_collated_sensitivity.csv

  collate_flu_model_outputs_tables_adults_sensitivity:
    run: r:latest analysis/collation_code/flu_model_outputs_table_collation_sensitivity.R
      adults
    needs:
    - analyse_dataset_adults_flu_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/sensitivity/adults_flu_model_outputs_collated_sensitivity.csv

  collate_further_flu_model_outputs_tables_adults_sensitivity:
    run: r:latest analysis/collation_code/further_flu_model_outputs_table_collation_sensitivity.R
      adults
    needs:
    - analyse_dataset_adults_flu_further_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/sensitivity/adults_further_flu_model_outputs_collated_sensitivity.csv

  collate_flow_chart_tables_children_and_adolescents:
    run: r:latest analysis/collation_code/flow_chart_table_collation.R children_and_adolescents
    needs:
    - process_flow_chart_data_children_and_adolescents_s1
    - process_flow_chart_data_children_and_adolescents_s2
    - process_flow_chart_data_children_and_adolescents_s3
    - process_flow_chart_data_children_and_adolescents_s4
    - process_flow_chart_data_children_and_adolescents_s5
    - process_flow_chart_data_children_and_adolescents_s6
    - process_flow_chart_data_children_and_adolescents_s7
    - process_flow_chart_data_children_and_adolescents_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/children_and_adolescents_flow_chart_collated.csv

  collate_table1_tables_children_and_adolescents:
    run: r:latest analysis/collation_code/table1_table_collation.R children_and_adolescents
    needs:
    - describe_cohort_children_and_adolescents_s1
    - describe_cohort_children_and_adolescents_s2
    - describe_cohort_children_and_adolescents_s3
    - describe_cohort_children_and_adolescents_s4
    - describe_cohort_children_and_adolescents_s5
    - describe_cohort_children_and_adolescents_s6
    - describe_cohort_children_and_adolescents_s7
    - describe_cohort_children_and_adolescents_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/children_and_adolescents_table1_collated.csv

  collate_rates_tables_primary_children_and_adolescents:
    run: r:latest analysis/collation_code/rates_table_primary_collation.R children_and_adolescents
    needs:
    - describe_dataset_children_and_adolescents_s1_specific_primary
    - describe_dataset_children_and_adolescents_s2_specific_primary
    - describe_dataset_children_and_adolescents_s3_specific_primary
    - describe_dataset_children_and_adolescents_s4_specific_primary
    - describe_dataset_children_and_adolescents_s5_specific_primary
    - describe_dataset_children_and_adolescents_s6_specific_primary
    - describe_dataset_children_and_adolescents_s7_specific_primary
    - describe_dataset_children_and_adolescents_s8_specific_primary
    - describe_dataset_children_and_adolescents_s1_sensitive_primary
    - describe_dataset_children_and_adolescents_s2_sensitive_primary
    - describe_dataset_children_and_adolescents_s3_sensitive_primary
    - describe_dataset_children_and_adolescents_s4_sensitive_primary
    - describe_dataset_children_and_adolescents_s5_sensitive_primary
    - describe_dataset_children_and_adolescents_s6_sensitive_primary
    - describe_dataset_children_and_adolescents_s7_sensitive_primary
    - describe_dataset_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/children_and_adolescents_rates_primary_collated.csv

  collate_rates_tables_sensitivity_children_and_adolescents:
    run: r:latest analysis/collation_code/rates_table_sensitivity_collation.R children_and_adolescents
    needs:
    - describe_dataset_children_and_adolescents_s2_specific_sensitivity
    - describe_dataset_children_and_adolescents_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/children_and_adolescents_rates_sensitivity_collated.csv

  collate_rates_tables_weekly_primary_children_and_adolescents:
    run: r:latest analysis/collation_code/rates_table_weekly_primary_collation.R children_and_adolescents
    needs:
    - calculate_rates_weekly_children_and_adolescents_s1_specific_primary
    - calculate_rates_weekly_children_and_adolescents_s2_specific_primary
    - calculate_rates_weekly_children_and_adolescents_s3_specific_primary
    - calculate_rates_weekly_children_and_adolescents_s4_specific_primary
    - calculate_rates_weekly_children_and_adolescents_s5_specific_primary
    - calculate_rates_weekly_children_and_adolescents_s6_specific_primary
    - calculate_rates_weekly_children_and_adolescents_s7_specific_primary
    - calculate_rates_weekly_children_and_adolescents_s8_specific_primary
    - calculate_rates_weekly_children_and_adolescents_s1_sensitive_primary
    - calculate_rates_weekly_children_and_adolescents_s2_sensitive_primary
    - calculate_rates_weekly_children_and_adolescents_s3_sensitive_primary
    - calculate_rates_weekly_children_and_adolescents_s4_sensitive_primary
    - calculate_rates_weekly_children_and_adolescents_s5_sensitive_primary
    - calculate_rates_weekly_children_and_adolescents_s6_sensitive_primary
    - calculate_rates_weekly_children_and_adolescents_s7_sensitive_primary
    - calculate_rates_weekly_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/over_time/*_children_and_adolescents_rates_weekly_primary_collated_*.csv

  collate_rates_tables_rolling_primary_children_and_adolescents:
    run: r:latest analysis/collation_code/rates_table_rolling_primary_collation.R
      children_and_adolescents
    needs:
    - calculate_rates_rolling_children_and_adolescents_s1_specific_primary
    - calculate_rates_rolling_children_and_adolescents_s2_specific_primary
    - calculate_rates_rolling_children_and_adolescents_s3_specific_primary
    - calculate_rates_rolling_children_and_adolescents_s4_specific_primary
    - calculate_rates_rolling_children_and_adolescents_s5_specific_primary
    - calculate_rates_rolling_children_and_adolescents_s6_specific_primary
    - calculate_rates_rolling_children_and_adolescents_s7_specific_primary
    - calculate_rates_rolling_children_and_adolescents_s8_specific_primary
    - calculate_rates_rolling_children_and_adolescents_s1_sensitive_primary
    - calculate_rates_rolling_children_and_adolescents_s2_sensitive_primary
    - calculate_rates_rolling_children_and_adolescents_s3_sensitive_primary
    - calculate_rates_rolling_children_and_adolescents_s4_sensitive_primary
    - calculate_rates_rolling_children_and_adolescents_s5_sensitive_primary
    - calculate_rates_rolling_children_and_adolescents_s6_sensitive_primary
    - calculate_rates_rolling_children_and_adolescents_s7_sensitive_primary
    - calculate_rates_rolling_children_and_adolescents_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/over_time/*_children_and_adolescents_rates_rolling_primary_collated_*.csv

  collate_rsv_model_outputs_tables_children_and_adolescents:
    run: r:latest analysis/collation_code/rsv_model_outputs_table_collation.R children_and_adolescents
    needs:
    - analyse_dataset_children_and_adolescents_rsv_s1_specific_primary
    - analyse_dataset_children_and_adolescents_rsv_s2_specific_primary
    - analyse_dataset_children_and_adolescents_rsv_s3_specific_primary
    - analyse_dataset_children_and_adolescents_rsv_s4_specific_primary
    - analyse_dataset_children_and_adolescents_rsv_s5_specific_primary
    - analyse_dataset_children_and_adolescents_rsv_s6_specific_primary
    - analyse_dataset_children_and_adolescents_rsv_s7_specific_primary
    - analyse_dataset_children_and_adolescents_rsv_s8_specific_primary
    - analyse_dataset_children_and_adolescents_rsv_s1_sensitive_primary
    - analyse_dataset_children_and_adolescents_rsv_s2_sensitive_primary
    - analyse_dataset_children_and_adolescents_rsv_s3_sensitive_primary
    - analyse_dataset_children_and_adolescents_rsv_s4_sensitive_primary
    - analyse_dataset_children_and_adolescents_rsv_s5_sensitive_primary
    - analyse_dataset_children_and_adolescents_rsv_s6_sensitive_primary
    - analyse_dataset_children_and_adolescents_rsv_s7_sensitive_primary
    - analyse_dataset_children_and_adolescents_rsv_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/children_and_adolescents_rsv_model_outputs_collated.csv

  collate_flu_model_outputs_tables_children_and_adolescents:
    run: r:latest analysis/collation_code/flu_model_outputs_table_collation.R children_and_adolescents
    needs:
    - analyse_dataset_children_and_adolescents_flu_s1_specific_primary
    - analyse_dataset_children_and_adolescents_flu_s2_specific_primary
    - analyse_dataset_children_and_adolescents_flu_s3_specific_primary
    - analyse_dataset_children_and_adolescents_flu_s4_specific_primary
    - analyse_dataset_children_and_adolescents_flu_s5_specific_primary
    - analyse_dataset_children_and_adolescents_flu_s6_specific_primary
    - analyse_dataset_children_and_adolescents_flu_s7_specific_primary
    - analyse_dataset_children_and_adolescents_flu_s8_specific_primary
    - analyse_dataset_children_and_adolescents_flu_s1_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_s2_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_s3_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_s4_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_s5_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_s6_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_s7_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/children_and_adolescents_flu_model_outputs_collated.csv

  collate_further_flu_model_outputs_tables_children_and_adolescents:
    run: r:latest analysis/collation_code/further_flu_model_outputs_table_collation.R
      children_and_adolescents
    needs:
    - analyse_dataset_children_and_adolescents_flu_further_s1_specific_primary
    - analyse_dataset_children_and_adolescents_flu_further_s2_specific_primary
    - analyse_dataset_children_and_adolescents_flu_further_s3_specific_primary
    - analyse_dataset_children_and_adolescents_flu_further_s4_specific_primary
    - analyse_dataset_children_and_adolescents_flu_further_s5_specific_primary
    - analyse_dataset_children_and_adolescents_flu_further_s6_specific_primary
    - analyse_dataset_children_and_adolescents_flu_further_s7_specific_primary
    - analyse_dataset_children_and_adolescents_flu_further_s8_specific_primary
    - analyse_dataset_children_and_adolescents_flu_further_s1_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_further_s2_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_further_s3_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_further_s4_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_further_s5_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_further_s6_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_further_s7_sensitive_primary
    - analyse_dataset_children_and_adolescents_flu_further_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/children_and_adolescents_further_flu_model_outputs_collated.csv

  collate_covid_model_outputs_tables_children_and_adolescents:
    run: r:latest analysis/collation_code/covid_model_outputs_table_collation.R children_and_adolescents
    needs:
    - analyse_dataset_children_and_adolescents_covid_s4_specific_primary
    - analyse_dataset_children_and_adolescents_covid_s5_specific_primary
    - analyse_dataset_children_and_adolescents_covid_s6_specific_primary
    - analyse_dataset_children_and_adolescents_covid_s7_specific_primary
    - analyse_dataset_children_and_adolescents_covid_s4_sensitive_primary
    - analyse_dataset_children_and_adolescents_covid_s5_sensitive_primary
    - analyse_dataset_children_and_adolescents_covid_s6_sensitive_primary
    - analyse_dataset_children_and_adolescents_covid_s7_sensitive_primary
    - analyse_dataset_children_and_adolescents_covid_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/children_and_adolescents_covid_model_outputs_collated.csv

  collate_further_covid_model_outputs_tables_children_and_adolescents:
    run: r:latest analysis/collation_code/further_covid_model_outputs_table_collation.R
      children_and_adolescents
    needs:
    - analyse_dataset_children_and_adolescents_covid_further_s5_specific_primary
    - analyse_dataset_children_and_adolescents_covid_further_s6_specific_primary
    - analyse_dataset_children_and_adolescents_covid_further_s7_specific_primary
    - analyse_dataset_children_and_adolescents_covid_further_s5_sensitive_primary
    - analyse_dataset_children_and_adolescents_covid_further_s6_sensitive_primary
    - analyse_dataset_children_and_adolescents_covid_further_s7_sensitive_primary
    - analyse_dataset_children_and_adolescents_covid_further_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/children_and_adolescents_further_covid_model_outputs_collated.csv

  collate_overall_and_all_cause_model_outputs_tables_children_and_adolescents:
    run: r:latest analysis/collation_code/overall_and_all_cause_model_outputs_table_collation.R
      children_and_adolescents
    needs:
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s1_specific_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s2_specific_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s3_specific_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s4_specific_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s5_specific_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s6_specific_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s7_specific_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s8_specific_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s1_sensitive_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s2_sensitive_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s3_sensitive_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s4_sensitive_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s5_sensitive_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s6_sensitive_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s7_sensitive_primary
    - analyse_dataset_children_and_adolescents_overall_and_all_cause_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/children_and_adolescents_overall_and_all_cause_model_outputs_collated.csv

  collate_phenotype_sensitivity_tables_children_and_adolescents:
    run: r:latest analysis/collation_code/phenotype_sensitivity_table_collation.R
      children_and_adolescents
    needs:
    - phenotype_sensitivity_children_and_adolescents_s1
    - phenotype_sensitivity_children_and_adolescents_s2
    - phenotype_sensitivity_children_and_adolescents_s3
    - phenotype_sensitivity_children_and_adolescents_s4
    - phenotype_sensitivity_children_and_adolescents_s5
    - phenotype_sensitivity_children_and_adolescents_s6
    - phenotype_sensitivity_children_and_adolescents_s7
    - phenotype_sensitivity_children_and_adolescents_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/children_and_adolescents_phenotype_sensitivity_collated.csv

  collate_multiple_episodes_tables_children_and_adolescents:
    run: r:latest analysis/collation_code/multiple_episodes_table_collation.R children_and_adolescents
    needs:
    - multiple_episodes_children_and_adolescents_s1
    - multiple_episodes_children_and_adolescents_s2
    - multiple_episodes_children_and_adolescents_s3
    - multiple_episodes_children_and_adolescents_s4
    - multiple_episodes_children_and_adolescents_s5
    - multiple_episodes_children_and_adolescents_s6
    - multiple_episodes_children_and_adolescents_s7
    - multiple_episodes_children_and_adolescents_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/children_and_adolescents_multiple_episodes_collated.csv

  collate_reinfections_tables_children_and_adolescents:
    run: r:latest analysis/collation_code/reinfections_table_collation.R children_and_adolescents
    needs:
    - reinfections_children_and_adolescents_s1
    - reinfections_children_and_adolescents_s2
    - reinfections_children_and_adolescents_s3
    - reinfections_children_and_adolescents_s4
    - reinfections_children_and_adolescents_s5
    - reinfections_children_and_adolescents_s6
    - reinfections_children_and_adolescents_s7
    - reinfections_children_and_adolescents_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/children_and_adolescents_reinfections_collated.csv

  collate_rsv_model_outputs_tables_children_and_adolescents_sensitivity:
    run: r:latest analysis/collation_code/rsv_model_outputs_table_collation_sensitivity.R
      children_and_adolescents
    needs:
    - analyse_dataset_children_and_adolescents_rsv_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/sensitivity/children_and_adolescents_rsv_model_outputs_collated_sensitivity.csv

  collate_flu_model_outputs_tables_children_and_adolescents_sensitivity:
    run: r:latest analysis/collation_code/flu_model_outputs_table_collation_sensitivity.R
      children_and_adolescents
    needs:
    - analyse_dataset_children_and_adolescents_flu_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/sensitivity/children_and_adolescents_flu_model_outputs_collated_sensitivity.csv

  collate_further_flu_model_outputs_tables_children_and_adolescents_sensitivity:
    run: r:latest analysis/collation_code/further_flu_model_outputs_table_collation_sensitivity.R
      children_and_adolescents
    needs:
    - analyse_dataset_children_and_adolescents_flu_further_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/sensitivity/children_and_adolescents_further_flu_model_outputs_collated_sensitivity.csv

  collate_flow_chart_tables_infants:
    run: r:latest analysis/collation_code/flow_chart_table_collation.R infants
    needs:
    - process_flow_chart_data_infants_s1
    - process_flow_chart_data_infants_s2
    - process_flow_chart_data_infants_s3
    - process_flow_chart_data_infants_s4
    - process_flow_chart_data_infants_s5
    - process_flow_chart_data_infants_s6
    - process_flow_chart_data_infants_s7
    - process_flow_chart_data_infants_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_flow_chart_collated.csv

  collate_table1_tables_infants:
    run: r:latest analysis/collation_code/table1_table_collation.R infants
    needs:
    - describe_cohort_infants_s1
    - describe_cohort_infants_s2
    - describe_cohort_infants_s3
    - describe_cohort_infants_s4
    - describe_cohort_infants_s5
    - describe_cohort_infants_s6
    - describe_cohort_infants_s7
    - describe_cohort_infants_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_table1_collated.csv

  collate_rates_tables_primary_infants:
    run: r:latest analysis/collation_code/rates_table_primary_collation.R infants
    needs:
    - describe_dataset_infants_s1_specific_primary
    - describe_dataset_infants_s2_specific_primary
    - describe_dataset_infants_s3_specific_primary
    - describe_dataset_infants_s4_specific_primary
    - describe_dataset_infants_s5_specific_primary
    - describe_dataset_infants_s6_specific_primary
    - describe_dataset_infants_s7_specific_primary
    - describe_dataset_infants_s8_specific_primary
    - describe_dataset_infants_s1_sensitive_primary
    - describe_dataset_infants_s2_sensitive_primary
    - describe_dataset_infants_s3_sensitive_primary
    - describe_dataset_infants_s4_sensitive_primary
    - describe_dataset_infants_s5_sensitive_primary
    - describe_dataset_infants_s6_sensitive_primary
    - describe_dataset_infants_s7_sensitive_primary
    - describe_dataset_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_rates_primary_collated.csv

  collate_rates_tables_sensitivity_infants:
    run: r:latest analysis/collation_code/rates_table_sensitivity_collation.R infants
    needs:
    - describe_dataset_infants_s2_specific_sensitivity
    - describe_dataset_infants_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_rates_sensitivity_collated.csv

  collate_rates_tables_weekly_primary_infants:
    run: r:latest analysis/collation_code/rates_table_weekly_primary_collation.R infants
    needs:
    - calculate_rates_weekly_infants_s1_specific_primary
    - calculate_rates_weekly_infants_s2_specific_primary
    - calculate_rates_weekly_infants_s3_specific_primary
    - calculate_rates_weekly_infants_s4_specific_primary
    - calculate_rates_weekly_infants_s5_specific_primary
    - calculate_rates_weekly_infants_s6_specific_primary
    - calculate_rates_weekly_infants_s7_specific_primary
    - calculate_rates_weekly_infants_s8_specific_primary
    - calculate_rates_weekly_infants_s1_sensitive_primary
    - calculate_rates_weekly_infants_s2_sensitive_primary
    - calculate_rates_weekly_infants_s3_sensitive_primary
    - calculate_rates_weekly_infants_s4_sensitive_primary
    - calculate_rates_weekly_infants_s5_sensitive_primary
    - calculate_rates_weekly_infants_s6_sensitive_primary
    - calculate_rates_weekly_infants_s7_sensitive_primary
    - calculate_rates_weekly_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/over_time/*_infants_rates_weekly_primary_collated_*.csv

  collate_rates_tables_rolling_primary_infants:
    run: r:latest analysis/collation_code/rates_table_rolling_primary_collation.R
      infants
    needs:
    - calculate_rates_rolling_infants_s1_specific_primary
    - calculate_rates_rolling_infants_s2_specific_primary
    - calculate_rates_rolling_infants_s3_specific_primary
    - calculate_rates_rolling_infants_s4_specific_primary
    - calculate_rates_rolling_infants_s5_specific_primary
    - calculate_rates_rolling_infants_s6_specific_primary
    - calculate_rates_rolling_infants_s7_specific_primary
    - calculate_rates_rolling_infants_s8_specific_primary
    - calculate_rates_rolling_infants_s1_sensitive_primary
    - calculate_rates_rolling_infants_s2_sensitive_primary
    - calculate_rates_rolling_infants_s3_sensitive_primary
    - calculate_rates_rolling_infants_s4_sensitive_primary
    - calculate_rates_rolling_infants_s5_sensitive_primary
    - calculate_rates_rolling_infants_s6_sensitive_primary
    - calculate_rates_rolling_infants_s7_sensitive_primary
    - calculate_rates_rolling_infants_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/over_time/*_infants_rates_rolling_primary_collated_*.csv

  collate_rsv_model_outputs_tables_infants:
    run: r:latest analysis/collation_code/rsv_model_outputs_table_collation.R infants
    needs:
    - analyse_dataset_infants_rsv_ethnicity_s1_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_s2_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_s3_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_s4_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_s5_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_s6_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_s7_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_s8_specific_primary
    - analyse_dataset_infants_rsv_ses_s1_specific_primary
    - analyse_dataset_infants_rsv_ses_s2_specific_primary
    - analyse_dataset_infants_rsv_ses_s3_specific_primary
    - analyse_dataset_infants_rsv_ses_s4_specific_primary
    - analyse_dataset_infants_rsv_ses_s5_specific_primary
    - analyse_dataset_infants_rsv_ses_s6_specific_primary
    - analyse_dataset_infants_rsv_ses_s7_specific_primary
    - analyse_dataset_infants_rsv_ses_s8_specific_primary
    - analyse_dataset_infants_rsv_hh_comp_s5_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s1_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s2_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s3_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s4_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s5_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s6_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s7_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s8_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_hh_comp_s5_specific_primary
    - analyse_dataset_infants_rsv_ses_hh_comp_s5_specific_primary
    - analyse_dataset_infants_rsv_full_s5_specific_primary
    - analyse_dataset_infants_rsv_ethnicity_s1_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_s2_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_s3_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_s4_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_s5_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_s6_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_s7_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_s8_sensitive_primary
    - analyse_dataset_infants_rsv_ses_s1_sensitive_primary
    - analyse_dataset_infants_rsv_ses_s2_sensitive_primary
    - analyse_dataset_infants_rsv_ses_s3_sensitive_primary
    - analyse_dataset_infants_rsv_ses_s4_sensitive_primary
    - analyse_dataset_infants_rsv_ses_s5_sensitive_primary
    - analyse_dataset_infants_rsv_ses_s6_sensitive_primary
    - analyse_dataset_infants_rsv_ses_s7_sensitive_primary
    - analyse_dataset_infants_rsv_ses_s8_sensitive_primary
    - analyse_dataset_infants_rsv_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s1_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s2_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s3_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s4_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s5_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s6_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s7_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_ses_s8_sensitive_primary
    - analyse_dataset_infants_rsv_ethnicity_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_rsv_ses_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_rsv_full_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/infants_rsv_model_outputs_collated.csv

  collate_flu_model_outputs_tables_infants:
    run: r:latest analysis/collation_code/flu_model_outputs_table_collation.R infants
    needs:
    - analyse_dataset_infants_flu_ethnicity_s1_specific_primary
    - analyse_dataset_infants_flu_ethnicity_s2_specific_primary
    - analyse_dataset_infants_flu_ethnicity_s3_specific_primary
    - analyse_dataset_infants_flu_ethnicity_s4_specific_primary
    - analyse_dataset_infants_flu_ethnicity_s5_specific_primary
    - analyse_dataset_infants_flu_ethnicity_s6_specific_primary
    - analyse_dataset_infants_flu_ethnicity_s7_specific_primary
    - analyse_dataset_infants_flu_ethnicity_s8_specific_primary
    - analyse_dataset_infants_flu_ses_s1_specific_primary
    - analyse_dataset_infants_flu_ses_s2_specific_primary
    - analyse_dataset_infants_flu_ses_s3_specific_primary
    - analyse_dataset_infants_flu_ses_s4_specific_primary
    - analyse_dataset_infants_flu_ses_s5_specific_primary
    - analyse_dataset_infants_flu_ses_s6_specific_primary
    - analyse_dataset_infants_flu_ses_s7_specific_primary
    - analyse_dataset_infants_flu_ses_s8_specific_primary
    - analyse_dataset_infants_flu_hh_comp_s5_specific_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s1_specific_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s2_specific_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s3_specific_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s4_specific_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s5_specific_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s6_specific_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s7_specific_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s8_specific_primary
    - analyse_dataset_infants_flu_ethnicity_hh_comp_s5_specific_primary
    - analyse_dataset_infants_flu_ses_hh_comp_s5_specific_primary
    - analyse_dataset_infants_flu_full_s5_specific_primary
    - analyse_dataset_infants_flu_ethnicity_s1_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_s2_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_s3_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_s4_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_s5_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_s6_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_s7_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_s8_sensitive_primary
    - analyse_dataset_infants_flu_ses_s1_sensitive_primary
    - analyse_dataset_infants_flu_ses_s2_sensitive_primary
    - analyse_dataset_infants_flu_ses_s3_sensitive_primary
    - analyse_dataset_infants_flu_ses_s4_sensitive_primary
    - analyse_dataset_infants_flu_ses_s5_sensitive_primary
    - analyse_dataset_infants_flu_ses_s6_sensitive_primary
    - analyse_dataset_infants_flu_ses_s7_sensitive_primary
    - analyse_dataset_infants_flu_ses_s8_sensitive_primary
    - analyse_dataset_infants_flu_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s1_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s2_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s3_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s4_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s5_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s6_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s7_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_ses_s8_sensitive_primary
    - analyse_dataset_infants_flu_ethnicity_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_flu_ses_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_flu_full_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        glue("output/collated/analytic/{cohort}_flu_model_outputs_collated.csv"): output/collated/analytic/infants_flu_model_outputs_collated.csv

  collate_covid_model_outputs_tables_infants:
    run: r:latest analysis/collation_code/covid_model_outputs_table_collation.R infants
    needs:
    - analyse_dataset_infants_covid_ethnicity_s4_specific_primary
    - analyse_dataset_infants_covid_ethnicity_s5_specific_primary
    - analyse_dataset_infants_covid_ethnicity_s6_specific_primary
    - analyse_dataset_infants_covid_ethnicity_s7_specific_primary
    - analyse_dataset_infants_covid_ethnicity_s8_specific_primary
    - analyse_dataset_infants_covid_ses_s4_specific_primary
    - analyse_dataset_infants_covid_ses_s5_specific_primary
    - analyse_dataset_infants_covid_ses_s6_specific_primary
    - analyse_dataset_infants_covid_ses_s7_specific_primary
    - analyse_dataset_infants_covid_ses_s8_specific_primary
    - analyse_dataset_infants_covid_hh_comp_s5_specific_primary
    - analyse_dataset_infants_covid_ethnicity_ses_s4_specific_primary
    - analyse_dataset_infants_covid_ethnicity_ses_s5_specific_primary
    - analyse_dataset_infants_covid_ethnicity_ses_s6_specific_primary
    - analyse_dataset_infants_covid_ethnicity_ses_s7_specific_primary
    - analyse_dataset_infants_covid_ethnicity_ses_s8_specific_primary
    - analyse_dataset_infants_covid_ethnicity_hh_comp_s5_specific_primary
    - analyse_dataset_infants_covid_ses_hh_comp_s5_specific_primary
    - analyse_dataset_infants_covid_full_s5_specific_primary
    - analyse_dataset_infants_covid_ethnicity_s4_sensitive_primary
    - analyse_dataset_infants_covid_ethnicity_s5_sensitive_primary
    - analyse_dataset_infants_covid_ethnicity_s6_sensitive_primary
    - analyse_dataset_infants_covid_ethnicity_s7_sensitive_primary
    - analyse_dataset_infants_covid_ethnicity_s8_sensitive_primary
    - analyse_dataset_infants_covid_ses_s4_sensitive_primary
    - analyse_dataset_infants_covid_ses_s5_sensitive_primary
    - analyse_dataset_infants_covid_ses_s6_sensitive_primary
    - analyse_dataset_infants_covid_ses_s7_sensitive_primary
    - analyse_dataset_infants_covid_ses_s8_sensitive_primary
    - analyse_dataset_infants_covid_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_covid_ethnicity_ses_s4_sensitive_primary
    - analyse_dataset_infants_covid_ethnicity_ses_s5_sensitive_primary
    - analyse_dataset_infants_covid_ethnicity_ses_s6_sensitive_primary
    - analyse_dataset_infants_covid_ethnicity_ses_s7_sensitive_primary
    - analyse_dataset_infants_covid_ethnicity_ses_s8_sensitive_primary
    - analyse_dataset_infants_covid_ethnicity_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_covid_ses_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_covid_full_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/infants_covid_model_outputs_collated.csv

  collate_overall_and_all_cause_model_outputs_tables_infants:
    run: r:latest analysis/collation_code/overall_and_all_cause_model_outputs_table_collation.R
      infants
    needs:
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s1_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s2_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s3_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s4_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s5_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s6_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s7_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s8_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s1_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s2_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s3_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s4_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s5_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s6_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s7_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s8_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_hh_comp_s5_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s1_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s2_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s3_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s4_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s5_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s6_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s7_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s8_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_hh_comp_s5_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_hh_comp_s5_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_full_s5_specific_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s1_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s2_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s3_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s4_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s5_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s6_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s7_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_s8_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s1_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s2_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s3_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s4_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s5_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s6_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s7_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_s8_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s1_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s2_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s3_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s4_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s5_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s6_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s7_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_ses_s8_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ethnicity_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_ses_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_overall_and_all_cause_full_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/infants_overall_and_all_cause_model_outputs_collated.csv

  collate_phenotype_sensitivity_tables_infants:
    run: r:latest analysis/collation_code/phenotype_sensitivity_table_collation.R
      infants
    needs:
    - phenotype_sensitivity_infants_s1
    - phenotype_sensitivity_infants_s2
    - phenotype_sensitivity_infants_s3
    - phenotype_sensitivity_infants_s4
    - phenotype_sensitivity_infants_s5
    - phenotype_sensitivity_infants_s6
    - phenotype_sensitivity_infants_s7
    - phenotype_sensitivity_infants_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_phenotype_sensitivity_collated.csv

  collate_multiple_episodes_tables_infants:
    run: r:latest analysis/collation_code/multiple_episodes_table_collation.R infants
    needs:
    - multiple_episodes_infants_s1
    - multiple_episodes_infants_s2
    - multiple_episodes_infants_s3
    - multiple_episodes_infants_s4
    - multiple_episodes_infants_s5
    - multiple_episodes_infants_s6
    - multiple_episodes_infants_s7
    - multiple_episodes_infants_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_multiple_episodes_collated.csv

  collate_reinfections_tables_infants:
    run: r:latest analysis/collation_code/reinfections_table_collation.R infants
    needs:
    - reinfections_infants_s1
    - reinfections_infants_s2
    - reinfections_infants_s3
    - reinfections_infants_s4
    - reinfections_infants_s5
    - reinfections_infants_s6
    - reinfections_infants_s7
    - reinfections_infants_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_reinfections_collated.csv

  collate_rsv_model_outputs_tables_infants_sensitivity:
    run: r:latest analysis/collation_code/rsv_model_outputs_table_collation_sensitivity.R
      infants
    needs:
    - analyse_dataset_infants_rsv_ethnicity_s2_specific_sensitivity
    - analyse_dataset_infants_rsv_ses_s2_specific_sensitivity
    - analyse_dataset_infants_rsv_ethnicity_ses_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/sensitivity/infants_rsv_model_outputs_collated_sensitivity.csv

  collate_flu_model_outputs_tables_infants_sensitivity:
    run: r:latest analysis/collation_code/flu_model_outputs_table_collation_sensitivity.R
      infants
    needs:
    - analyse_dataset_infants_flu_ethnicity_s3_specific_sensitivity
    - analyse_dataset_infants_flu_ses_s3_specific_sensitivity
    - analyse_dataset_infants_flu_ethnicity_ses_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/sensitivity/infants_flu_model_outputs_collated_sensitivity.csv

  collate_flow_chart_tables_infants_subgroup:
    run: r:latest analysis/collation_code/flow_chart_table_collation.R infants_subgroup
    needs:
    - process_flow_chart_data_infants_subgroup_s1
    - process_flow_chart_data_infants_subgroup_s2
    - process_flow_chart_data_infants_subgroup_s3
    - process_flow_chart_data_infants_subgroup_s4
    - process_flow_chart_data_infants_subgroup_s5
    - process_flow_chart_data_infants_subgroup_s6
    - process_flow_chart_data_infants_subgroup_s7
    - process_flow_chart_data_infants_subgroup_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_subgroup_flow_chart_collated.csv

  collate_table1_tables_infants_subgroup:
    run: r:latest analysis/collation_code/table1_table_collation.R infants_subgroup
    needs:
    - describe_cohort_infants_subgroup_s1
    - describe_cohort_infants_subgroup_s2
    - describe_cohort_infants_subgroup_s3
    - describe_cohort_infants_subgroup_s4
    - describe_cohort_infants_subgroup_s5
    - describe_cohort_infants_subgroup_s6
    - describe_cohort_infants_subgroup_s7
    - describe_cohort_infants_subgroup_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_subgroup_table1_collated.csv

  collate_rates_tables_primary_infants_subgroup:
    run: r:latest analysis/collation_code/rates_table_primary_collation.R infants_subgroup
    needs:
    - describe_dataset_infants_subgroup_s1_specific_primary
    - describe_dataset_infants_subgroup_s2_specific_primary
    - describe_dataset_infants_subgroup_s3_specific_primary
    - describe_dataset_infants_subgroup_s4_specific_primary
    - describe_dataset_infants_subgroup_s5_specific_primary
    - describe_dataset_infants_subgroup_s6_specific_primary
    - describe_dataset_infants_subgroup_s7_specific_primary
    - describe_dataset_infants_subgroup_s8_specific_primary
    - describe_dataset_infants_subgroup_s1_sensitive_primary
    - describe_dataset_infants_subgroup_s2_sensitive_primary
    - describe_dataset_infants_subgroup_s3_sensitive_primary
    - describe_dataset_infants_subgroup_s4_sensitive_primary
    - describe_dataset_infants_subgroup_s5_sensitive_primary
    - describe_dataset_infants_subgroup_s6_sensitive_primary
    - describe_dataset_infants_subgroup_s7_sensitive_primary
    - describe_dataset_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_subgroup_rates_primary_collated.csv

  collate_rates_tables_sensitivity_infants_subgroup:
    run: r:latest analysis/collation_code/rates_table_sensitivity_collation.R infants_subgroup
    needs:
    - describe_dataset_infants_subgroup_s2_specific_sensitivity
    - describe_dataset_infants_subgroup_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_subgroup_rates_sensitivity_collated.csv

  collate_rates_tables_weekly_primary_infants_subgroup:
    run: r:latest analysis/collation_code/rates_table_weekly_primary_collation.R infants_subgroup
    needs:
    - calculate_rates_weekly_infants_subgroup_s1_specific_primary
    - calculate_rates_weekly_infants_subgroup_s2_specific_primary
    - calculate_rates_weekly_infants_subgroup_s3_specific_primary
    - calculate_rates_weekly_infants_subgroup_s4_specific_primary
    - calculate_rates_weekly_infants_subgroup_s5_specific_primary
    - calculate_rates_weekly_infants_subgroup_s6_specific_primary
    - calculate_rates_weekly_infants_subgroup_s7_specific_primary
    - calculate_rates_weekly_infants_subgroup_s8_specific_primary
    - calculate_rates_weekly_infants_subgroup_s1_sensitive_primary
    - calculate_rates_weekly_infants_subgroup_s2_sensitive_primary
    - calculate_rates_weekly_infants_subgroup_s3_sensitive_primary
    - calculate_rates_weekly_infants_subgroup_s4_sensitive_primary
    - calculate_rates_weekly_infants_subgroup_s5_sensitive_primary
    - calculate_rates_weekly_infants_subgroup_s6_sensitive_primary
    - calculate_rates_weekly_infants_subgroup_s7_sensitive_primary
    - calculate_rates_weekly_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/over_time/*_infants_subgroup_rates_weekly_primary_collated_*.csv

  collate_rates_tables_rolling_primary_infants_subgroup:
    run: r:latest analysis/collation_code/rates_table_rolling_primary_collation.R
      infants_subgroup
    needs:
    - calculate_rates_rolling_infants_subgroup_s1_specific_primary
    - calculate_rates_rolling_infants_subgroup_s2_specific_primary
    - calculate_rates_rolling_infants_subgroup_s3_specific_primary
    - calculate_rates_rolling_infants_subgroup_s4_specific_primary
    - calculate_rates_rolling_infants_subgroup_s5_specific_primary
    - calculate_rates_rolling_infants_subgroup_s6_specific_primary
    - calculate_rates_rolling_infants_subgroup_s7_specific_primary
    - calculate_rates_rolling_infants_subgroup_s8_specific_primary
    - calculate_rates_rolling_infants_subgroup_s1_sensitive_primary
    - calculate_rates_rolling_infants_subgroup_s2_sensitive_primary
    - calculate_rates_rolling_infants_subgroup_s3_sensitive_primary
    - calculate_rates_rolling_infants_subgroup_s4_sensitive_primary
    - calculate_rates_rolling_infants_subgroup_s5_sensitive_primary
    - calculate_rates_rolling_infants_subgroup_s6_sensitive_primary
    - calculate_rates_rolling_infants_subgroup_s7_sensitive_primary
    - calculate_rates_rolling_infants_subgroup_s8_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/over_time/*_infants_subgroup_rates_rolling_primary_collated_*.csv

  collate_rsv_model_outputs_tables_infants_subgroup:
    run: r:latest analysis/collation_code/rsv_model_outputs_table_collation.R infants_subgroup
    needs:
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s1_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s2_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s3_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s4_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s5_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s6_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s7_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s8_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s1_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s2_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s3_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s4_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s5_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s6_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s7_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s8_specific_primary
    - analyse_dataset_infants_subgroup_rsv_hh_comp_s5_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s1_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s2_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s3_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s4_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s5_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s6_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s7_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s8_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_hh_comp_s5_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ses_hh_comp_s5_specific_primary
    - analyse_dataset_infants_subgroup_rsv_full_s5_specific_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s1_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s2_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s3_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s4_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s6_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s7_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s8_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s1_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s2_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s3_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s4_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s6_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s7_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ses_s8_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s1_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s2_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s3_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s4_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s6_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s7_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s8_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ethnicity_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_ses_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_rsv_full_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/infants_subgroup_rsv_model_outputs_collated.csv

  collate_flu_model_outputs_tables_infants_subgroup:
    run: r:latest analysis/collation_code/flu_model_outputs_table_collation.R infants_subgroup
    needs:
    - analyse_dataset_infants_subgroup_flu_ethnicity_s1_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s2_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s3_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s4_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s5_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s6_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s7_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s8_specific_primary
    - analyse_dataset_infants_subgroup_flu_ses_s1_specific_primary
    - analyse_dataset_infants_subgroup_flu_ses_s2_specific_primary
    - analyse_dataset_infants_subgroup_flu_ses_s3_specific_primary
    - analyse_dataset_infants_subgroup_flu_ses_s4_specific_primary
    - analyse_dataset_infants_subgroup_flu_ses_s5_specific_primary
    - analyse_dataset_infants_subgroup_flu_ses_s6_specific_primary
    - analyse_dataset_infants_subgroup_flu_ses_s7_specific_primary
    - analyse_dataset_infants_subgroup_flu_ses_s8_specific_primary
    - analyse_dataset_infants_subgroup_flu_hh_comp_s5_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s1_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s2_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s3_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s4_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s5_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s6_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s7_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s8_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_hh_comp_s5_specific_primary
    - analyse_dataset_infants_subgroup_flu_ses_hh_comp_s5_specific_primary
    - analyse_dataset_infants_subgroup_flu_full_s5_specific_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s1_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s2_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s3_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s4_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s6_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s7_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_s8_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ses_s1_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ses_s2_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ses_s3_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ses_s4_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ses_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ses_s6_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ses_s7_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ses_s8_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s1_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s2_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s3_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s4_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s6_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s7_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s8_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ethnicity_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_ses_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_flu_full_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        glue("output/collated/analytic/{cohort}_flu_model_outputs_collated.csv"): output/collated/analytic/infants_subgroup_flu_model_outputs_collated.csv

  collate_covid_model_outputs_tables_infants_subgroup:
    run: r:latest analysis/collation_code/covid_model_outputs_table_collation.R infants_subgroup
    needs:
    - analyse_dataset_infants_subgroup_covid_ethnicity_s4_specific_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_s5_specific_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_s6_specific_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_s7_specific_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_s8_specific_primary
    - analyse_dataset_infants_subgroup_covid_ses_s4_specific_primary
    - analyse_dataset_infants_subgroup_covid_ses_s5_specific_primary
    - analyse_dataset_infants_subgroup_covid_ses_s6_specific_primary
    - analyse_dataset_infants_subgroup_covid_ses_s7_specific_primary
    - analyse_dataset_infants_subgroup_covid_ses_s8_specific_primary
    - analyse_dataset_infants_subgroup_covid_hh_comp_s5_specific_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_ses_s4_specific_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_ses_s5_specific_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_ses_s6_specific_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_ses_s7_specific_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_ses_s8_specific_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_hh_comp_s5_specific_primary
    - analyse_dataset_infants_subgroup_covid_ses_hh_comp_s5_specific_primary
    - analyse_dataset_infants_subgroup_covid_full_s5_specific_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_s4_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_s6_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_s7_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_s8_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ses_s4_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ses_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ses_s6_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ses_s7_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ses_s8_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_ses_s4_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_ses_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_ses_s6_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_ses_s7_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_ses_s8_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ethnicity_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_ses_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_covid_full_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/infants_subgroup_covid_model_outputs_collated.csv

  collate_overall_and_all_cause_model_outputs_tables_infants_subgroup:
    run: r:latest analysis/collation_code/overall_and_all_cause_model_outputs_table_collation.R
      infants_subgroup
    needs:
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s1_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s2_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s3_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s4_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s5_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s6_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s7_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s8_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s1_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s2_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s3_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s4_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s5_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s6_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s7_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s8_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_hh_comp_s5_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s1_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s2_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s3_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s4_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s5_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s6_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s7_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s8_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_hh_comp_s5_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_hh_comp_s5_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_full_s5_specific_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s1_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s2_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s3_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s4_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s6_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s7_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_s8_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s1_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s2_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s3_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s4_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s6_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s7_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_s8_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s1_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s2_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s3_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s4_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s6_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s7_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_ses_s8_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ethnicity_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_ses_hh_comp_s5_sensitive_primary
    - analyse_dataset_infants_subgroup_overall_and_all_cause_full_s5_sensitive_primary
    outputs:
      moderately_sensitive:
        csv: output/collated/analytic/infants_subgroup_overall_and_all_cause_model_outputs_collated.csv

  collate_phenotype_sensitivity_tables_infants_subgroup:
    run: r:latest analysis/collation_code/phenotype_sensitivity_table_collation.R
      infants_subgroup
    needs:
    - phenotype_sensitivity_infants_subgroup_s1
    - phenotype_sensitivity_infants_subgroup_s2
    - phenotype_sensitivity_infants_subgroup_s3
    - phenotype_sensitivity_infants_subgroup_s4
    - phenotype_sensitivity_infants_subgroup_s5
    - phenotype_sensitivity_infants_subgroup_s6
    - phenotype_sensitivity_infants_subgroup_s7
    - phenotype_sensitivity_infants_subgroup_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_subgroup_phenotype_sensitivity_collated.csv

  collate_multiple_episodes_tables_infants_subgroup:
    run: r:latest analysis/collation_code/multiple_episodes_table_collation.R infants_subgroup
    needs:
    - multiple_episodes_infants_subgroup_s1
    - multiple_episodes_infants_subgroup_s2
    - multiple_episodes_infants_subgroup_s3
    - multiple_episodes_infants_subgroup_s4
    - multiple_episodes_infants_subgroup_s5
    - multiple_episodes_infants_subgroup_s6
    - multiple_episodes_infants_subgroup_s7
    - multiple_episodes_infants_subgroup_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_subgroup_multiple_episodes_collated.csv

  collate_reinfections_tables_infants_subgroup:
    run: r:latest analysis/collation_code/reinfections_table_collation.R infants_subgroup
    needs:
    - reinfections_infants_subgroup_s1
    - reinfections_infants_subgroup_s2
    - reinfections_infants_subgroup_s3
    - reinfections_infants_subgroup_s4
    - reinfections_infants_subgroup_s5
    - reinfections_infants_subgroup_s6
    - reinfections_infants_subgroup_s7
    - reinfections_infants_subgroup_s8
    outputs:
      moderately_sensitive:
        csv: output/collated/descriptive/infants_subgroup_reinfections_collated.csv

  collate_rsv_model_outputs_tables_infants_subgroup_sensitivity:
    run: r:latest analysis/collation_code/rsv_model_outputs_table_collation_sensitivity.R
      infants_subgroup
    needs:
    - analyse_dataset_infants_subgroup_rsv_ethnicity_s2_specific_sensitivity
    - analyse_dataset_infants_subgroup_rsv_ses_s2_specific_sensitivity
    - analyse_dataset_infants_subgroup_rsv_ethnicity_ses_s2_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/sensitivity/infants_subgroup_rsv_model_outputs_collated_sensitivity.csv

  collate_flu_model_outputs_tables_infants_subgroup_sensitivity:
    run: r:latest analysis/collation_code/flu_model_outputs_table_collation_sensitivity.R
      infants_subgroup
    needs:
    - analyse_dataset_infants_subgroup_flu_ethnicity_s3_specific_sensitivity
    - analyse_dataset_infants_subgroup_flu_ses_s3_specific_sensitivity
    - analyse_dataset_infants_subgroup_flu_ethnicity_ses_s3_specific_sensitivity
    outputs:
      moderately_sensitive:
        csv: output/collated/sensitivity/infants_subgroup_flu_model_outputs_collated_sensitivity.csv

  ## # # # # # # # # # # # # # # # # # # # 
  ## End 
  ## # # # # # # # # # # # # # # # # # # # 

